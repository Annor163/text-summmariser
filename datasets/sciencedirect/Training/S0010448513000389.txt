@&#MAIN-TITLE@&#
Study of the effective cutter radius for end milling of free-form surfaces using a torus milling cutter

@&#HIGHLIGHTS@&#
Importance of effective radius in studying milling of free-form surfaces with a torus cutter.Establishing an analytical expression of the effective radius of a torus milling cutter working in translation.Same expression used to calculate the effective radius near instantaneously.Presentation of an industrial example showing potential use of the expression.

@&#KEYPHRASES@&#
Free-form surface,CNC machine-tool,End-mill,Toroidal cutter,Effective tool radius,Swept curve,

@&#ABSTRACT@&#
When end milling free-form surfaces using a torus milling cutter, the notion of cutter effective radius is often used to address the procedure for removal of material from a purely geometrical perspective. Using an original analytical approach, the present study establishes a relation enabling the value of this effective radius to be easily computed. The limits of validity of this relation are then discussed and precisely defined.By way of an illustration, an example of how this relation can be used to generate a numerical tool for analysis of the possibilities for machining free-form surfaces on multi-axis machine-tools is also presented.

@&#INTRODUCTION@&#
End milling of free-form surfaces is essentially used to manufacture moulds and dies where it is often extremely costly in terms of production time consumed. From a purely geometrical standpoint, precise modelling of the movements of the cutter and its positioning in relation to the surface are indispensable to be able to propose improvements to boost productivity. From this perspective, an approach commonly adopted is based on notions of effective radius and/or sweep curve. Indeed, good knowledge of these geometrical entities paves the way for a precise analysis of the trace left by the cutter in the workpiece, and through that, the quantity of material actually removed.Tool path planning, optimisation of cutter positioning and non-interference issues are often the focus of research conducted in the field of free-form surface machining on multi-axis machine tools [1]. Among these works, many studies refer to the notion of cutter effective radius. The first to introduce this concept were Vickers and Quan in 1989. In [2], they show how a flat-end mill tilted to the front can be more productive than a ball-end mill. To do so, they introduce the notion of effective radius in the case of the flat-end mill:Reff=Rsin(ϕ)whereRis the cutter radius andϕis its tilt angle in the plane formed by its feed direction and axis of rotation.The relative efficiency of flat-end mills and ball-end mills is also analysed in [3–5]. These works are also based on the effective radius concept to show that, all other parameters being equal, flat-end cutters, when correctly used, produce a lower scallop height than that produced by ball-end cutters. In [4,5], the authors also show that flat end mills leave pronounced marks in the feed direction leading to a greater roughness of the surfaces obtained (for the same feed per tooth).Following these works a number of authors have argued in favour of using torus cutters when milling free-form surfaces. Indeed, torus mills allow a significant effective radius to be retained while avoiding the sharp and unsightly marks left in the workpiece by flat-end mills [6]. Many studies arrive at the same conclusions, whether they adopt a procedure to optimise the cutter position [7,8] or seek rather to eliminate interference [9,10].Among the works that address the cutter effective radius concept, those most frequently encountered in the literature utilise the envelope curve concept. For a given cutter position, the envelope curve materialises the trace left by the cutter in the material. In [11], it is approximated, for a torus milling cutter, by the projection of a circle in a plane normal to the feed. In [12], it is given in the implicit form for an APT cutter. Within the scope of machining simulation [13], many studies use this concept to determine the volume of swarf actually removed by the cutter, but most of these works [14–16] address this issue numerically, which does indeed allow the swept volume to be computed, but precludes an analytical study of the effective cutter radius. The sweep curve and effective cutter radius notions are also largely used in works addressing constant scallop height machining planning. This tool path planning technique was initially introduced in [17,18] using a ball-end cutter. Subsequently it was adapted for a flat-end mill [19,20] and for the torus milling cutter [21,22], tools for which the effective radius assumes its full significance.Analysis of the main studies published in the field shows that most works covering the effective radius of the torus milling cutter rely on geometric approximations (with non-negligible consequences) or use a numerical approach that, compared with an analytical approach, proves to be less flexible and much more time-consuming in computation.The present article will introduce a new study of the torus milling cutter effective radius. Its originality lies in its totally analytical approach that nevertheless refrains from any geometric approximation. The main result of this work is the definition of a relation authorising an analytical calculation of the effective cutter radius.This study is also accompanied by an analysis of this relation and its limits, thus allowing the scope for its validity to be clearly determined.This is followed by an example in which it is shown how this relation can be used to define numerical tools potentially useful within the scope of end milling of free-form surfaces on multi-axis machine tools. The aim with this example is not to define a complete procedure to plan tool paths, but simply to emphasise the possibilities offered by using an analytical formula where numerical procedures are usually applied.The article concludes with a reminder of the main results obtained and some remarks on forthcoming works on this subject.It will be shown how it is possible to calculate analytically, at the point of cutter/workpiece contact, the effective radius of a torus milling cutter machining a free-form surface on a multi-axis NC machine tool. This calculation is based on two mathematical demonstrations that will be introduced prior to the computation itself.A torus milling cutter defined byRandr,Rbeing the outer radius of that cutter andrbeing its torus radius, is considered. The trace left by that cutter in the material at a given instant is a curve that will be referred to as the envelope curve. It is the succession of such envelope curves that forms the envelope surface generated by the cutter movement in the material. At each instant, the envelope curve is defined byFt⋅n=0, whereFtis a vector in the cutter feed direction andna vector normal to the surface of the cutter.In what follows in the present study, the vectorFtwill be assumed to be constant for all points of the cutter; this is equivalent to asserting that the cutter moves in translation, at least locally. Moreover, only the part of the envelope curve of the cutter contained in the torus part of the cutter will be considered. Indeed, the great majority of torus milling cutters used in industry are round insert cutters and only that part is active. Also, studying the parts of the envelope curve contained in the cylindrical and discoid portions of the cutter is unproblematic and, even in the case of solid torus milling cutters, these parts of the cutter are normally inactive when removing material, especially when conducting finishing operations.The two lemmas on which the calculation is based are as follows:Lemma 1LetPbe the mathematical operation for projection along the feed directionFtin a plane normal toFt. LetTp(v)be the curve resulting from the projection alongPof the cutter envelope. LetE(t)be the ellipse resulting from the projection alongPof the cutter centre-torus circle andoE(t)an offset exterior to that ellipse with a value equal to the radius of the cutter torus. Then the two curvesTp(v)andoE(t)are coincident.Lemma 2The radius of curvature of a plane offset curve is equal to the radius of curvature of the original curve augmented by the offset value.It will thus be shown initially that the projection of the cutter envelope curve in a plane normal to the feed directionFtcan be defined by an ellipse augmented by an offset equal to the cutter torus radius (Section 2.2).It will then be shown that the radius of curvature of an offset to this ellipse is equal to the radius of curvature of the original ellipse augmented by the offset value (Section 2.3).Based on these results, it will then be possible to calculate analytically the effective radius of the cutterReffconsidering the radius of curvature of the ellipseE(t)to which is added the cutter torus radius (Section 2.4).All these calculations were verified using the algebraic computation software Maxima [23].First the projection of the cutter envelope curve in a plane normal toFtis considered and then an offset byrof the ellipse defined by the projection of the torus major radius circle of the cutter (centre of the torus tube) in the same plane (Figs. 1 and 2).The purpose of this demonstration is to show that these two curves coincide.NamingRtthe radius of the cutter torus centre circle (Rt=R−r), the toroid surface defining the cutter in its reference frame can be defined by(1)T(u,v)=((Rt+rcos(v))cos(u)(Rt+rcos(v))sin(u)rsin(v))withu∈[0,2π]andv∈[−π2,0].LetFbe a unit vector in the machining directionFt:F=Ft‖Ft‖.The trace left by the cutter (envelope curve) can then be defined byF⋅n=0, wherenis the normal to the cutter surface.Consider the projection along the feed directionFin a planePperpendicular toF. Naminga,bandcthe coordinates ofF, the planePis expressed by the following equation:ax+by+cz=dwithd∈R.LetC(t)be a curve defined in three dimensions byC(t)=(Cx(t)Cy(t)Cz(t)).The curveCp(t)resulting from the projection ofC(t)inPalong the directionFis then defined by the intersection of the planePand the surface defined byS(t,w)=C(t)+f(w)Fwheref(w)is a scalar function of the parameterwdefined in[−∞,+∞](Fig. 1). This surface is the ruled surface defined fromC(t)andF. The projected curveCp(t)is thus defined by the system:{ax+by+cz=dx=Cx(t)+af(w)y=Cy(t)+bf(w)z=Cz(t)+cf(w)wherex,yandzrepresent the three coordinates of the curveCp(t). Resolving this system in relation tox,y,zandf(w), the expression of these coordinates is obtained as a function oftthat will be referred to asCpx(t),Cpy(t)andCpz(t):{Cpx(t)=−acCz(t)−abCy(t)+c2Cx(t)+b2Cx(t)+adc2+b2+a2Cpy(t)=−bcCz(t)+c2Cy(t)+a2Cy(t)−abCx(t)+bdc2+b2+a2Cpz(t)=b2Cz(t)+a2Cz(t)+c(−bCy(t)−aCx(t))+cdc2+b2+a2as alsof(w)=−cCz(t)−bCy(t)−aCx(t)+dc2+b2+a2.Given that the vectorFis unitary, this givesa2+b2+c2=1, whence the equation for the projected curve:(2)Cp(t)=(−acCz(t)−abCy(t)+c2Cx(t)+b2Cx(t)+ad−bcCz(t)+c2Cy(t)+a2Cy(t)−abCx(t)+bdb2Cz(t)+a2Cz(t)+c(−bCy(t)−aCx(t))+cd).Within the scope of the present study, the cutter is defined within its own reference frame, the axis coinciding with its axis of rotation. As the cutter is a surface of revolution, whatever the movement of translation driving it, the envelope curve resulting from this movement, defined byF⋅n=0, admits a plane of symmetry containing the axiszof the reference frame. Furthermore, a projectionPin a plane normal to the feedFis considered. This projection thus corresponds to a vector contained within the plane of symmetry of the envelope curve. The problem is thus axisymmetric. Consequently, the results obtained in the case of a particular projection (i.e. in a given radial direction) are true whatever the projectionPconsidered, meaning whatever translation movement drives the cutter. It can thus be considered that the results obtained in the case of a projection along a vector contained in the planex=0(ory=0) can be extended to the general case.A projectionPis chosen whose directionFis contained in the plane of equationx=0, with coordinateaofFthus being null. The planePnormal to this projection will then have for equationby+cz=dand the coordinates of vectorFareF=(0bc).In what follows in the present demonstration,b≠0andc≠0will be considered. Indeed, instances whereb=0andc=0correspond to horizontal or vertical cutter paths that constitute special cases that will be addressed in Section 3.2.Furthermore, as vectorFis unitary, it can be asserted thatb2+c2=1.Also, in so far as the focus is on curves projected orthogonally in a plane normal to the milling direction, any plane normal to that direction can be chosen without impairing generality. To simplify computation, a planePpassing through the origin is chosen, that is a plane with equationby+cz=0. This givesd=0.Taking these considerations into account, Eq. (2) for a curve transformed along projectionPbecomes(3)Cp(t)=(Cx(t)−bcCz(t)+c2Cy(t)b2Cz(t)−bcCy(t)).In the following demonstration, will be considered the projectionP, defined by Eq. (3) enabling a curve to be projected in a planePaccording to a vectorF, with planePgoing through the origin and being normal to the vectorFthat is contained in the plane of equationx=0.First of all, the projectionPis applied to the circleC(t), the cutter torus centre, defined by the following equation:C(t)=(Rtcos(t)Rtsin(t)0)witht∈[0,2π].Using (3), the orthogonal projection of that circle can be defined in the plane of equationby+cz=0. This projection is an ellipse that will be referred to asE(t), and whose equation isE(t)=(Rtcos(t)c2Rtsin(t)−bcRtsin(t)).In what follows, only the lower part of the ellipseE(t)will be considered, that is the part defined byt∈[−π,0](Fig. 2).The unit vectornE(t)normal toE(t)and contained in the planePcan then be defined bynE(t)=dE(t)dt×F‖dE(t)dt×F‖that is(4)nE(t)=1b2sin2(t)+c2(ccos(t)csin(t)−bsin(t)).Given the previously established restrictions (c≠0andb≠0), this expression is defined whatevert∈[−π,0].In the planeP,oE(t)is defined, an offset with valuerto the ellipseE(t):oE(t)=E(t)+rnE(t).This curve is expressed as follows:(5)oE(t)=(cos(t)Rt+crcos(t)b2sin2(t)+c2c2sin(t)Rt+crsin(t)b2sin2(t)+c2−bcsin(t)Rt−brsin(t)b2sin2(t)+c2).Second, the envelope curve is considered, that is the trace left by the cutter in the material at a given instant. For a torus milling cutter whose definition is given by Eq. (1), this envelope curve is defined byF⋅nT(u,v)=0, wherenT(u,v)is a vector normal toT(u,v):nT(u,v)=∂T(u,v)∂u×∂T(u,v)∂vthat isnT(u,v)=(rcos(u)cos(v)(Rt+rcos(v))rsin(u)cos(v)(Rt+rcos(v))rsin(v)(Rt+rcos(v)))withu∈[0,π]andv∈[−π2,0].The equationF⋅nT(u,v)=0can then be expressed as(6)r(csin(v)+bsin(u)cos(v))(Rt+rcos(v))=0whence it can be deduced that(7)sin(u)=−csin(v)bcos(v)forv∈]−π2,0]. Section 3.2 addresses the case wherev=−π2. In what follows in the demonstration, it will be considered that−π2<v⩽0.Using this relation (7) in the expression ofT(u,v)–Eq. (1)–the equation of the envelope curve, referred to asTr(v), is obtained:Tr(v)=(1−c2sin2(v)b2cos2(v)(Rt+rcos(v))−csin(v)(Rt+rcos(v))bcos(v)rsin(v))foru∈[0,π2], andTr(v)=(−1−c2sin2(v)b2cos2(v)(Rt+rcos(v))−csin(v)(Rt+rcos(v))bcos(v)rsin(v))foru∈[π2,π]. As the curveTr(v)is symmetrical in relation to the plane of equationx=0corresponding to parameteru=π2, only the part defined by0⩽u⩽π2will be considered in what follows, with the same reasoning being applicable by symmetry for the part defined byπ2⩽u⩽π.As previously, using (3) the projection of that curve can be defined in the planeP. Thus the curveTp(v)can be obtained:(8)Tp(v)=(1−c2sin2(v)b2cos2(v)(Rt+rcos(v))−c3sin(v)(Rt+rcos(v))bcos(v)−bcrsin(v)c2sin(v)(Rt+rcos(v))cos(v)+b2rsin(v)).The problem posed can thus be reduced to showing thatoE(t)=Tp(v). By identifying the coordinates of these two curves (Eqs. (5) and (8)) member by member, 3 equations are obtained:(9)cos(t)Rt+crcos(t)b2sin2(t)+c2=1−c2sin2(v)b2cos2(v)(Rt+rcos(v))(10)c2sin(t)Rt+crsin(t)b2sin2(t)+c2=−c3sin(v)(Rt+rcos(v))bcos(v)−bcrsin(v)(11)−bcsin(t)Rt−brsin(t)b2sin2(t)+c2=c2sin(v)(Rt+rcos(v))cos(v)+b2rsin(v).Analysing these equations, it clearly emerges that the last two, (10) and (11), are equivalent. Indeed, by multiplying each term of Eq. (10) by−b/c, Eq. (11) is obtained.To show that the two curves are equal, all one needs to do is find a change in variable linkingtandvsuch that the equation of one of the two curves can be transformed into the equation of the other curve.To do so, the terms onRtandrbetween the first equation (9) and one of the two others (for example (10)) are identified member by member.From Eq. (9), identifying the terms onRt, the following is obtained:(12)cos(t)=1−c2sin2(v)b2cos2(v)and identifying the terms onr, this gives(13)ccos(t)b2sin2(t)+c2=1−c2sin2(v)b2cos2(v)cos(v)which, after simplification (see Appendix A.1), results in returning to equation Appendix A.1:cos(t)=1−c2sin2(v)b2cos2(v).From Eq. (10), identifying the terms onRt, the following is obtained:c2sin(t)=−c3sin(v)bcos(v)whence it can be deduced thatsin(t)=−csin(v)bcos(v)1−cos2(t)=c2sin2(v)b2cos2(v)which results in returning to Eq. (12):cos(t)=1−c2sin2(v)b2cos2(v).From the same equation (Eq. (10)), identifying the terms onr, the following is obtained:(14)csin(t)b2sin2(t)+c2=−(c3bsin(v)+bcsin(v))which, after simplification (see Appendix A.2), again gives Eq. (12):cos(t)=1−c2sin2(v)b2cos2(v).Identification of the terms onRtandrfor Eqs. (9) and (10) thus leads to the same relation (12) linking parameterstandv. Using this relation as a change in variable, it proves possible to pass from Eqs. (5) to (8). There is thus a change in variable to go from one curve to the other. This leads to the conclusion that curvesTp(v)andoE(t)coincide.Determining the effective radius of the cutter at the cutter/workpiece point of contact through a simple analytical formula as with the one established in relation (30) offers many advantages. Indeed, despite the imposed limits established in Section 3.2, this result offers the perspective of multiple applications that will be further developed in forthcoming publications. Using an analytical formula is always rapider than a numerical procedure. Calculation of the effective radius by an analytical formula instead of the numerical procedures generally used means that applications that were hitherto considered to be hard to contemplate can be developed. For example, thanks to the relation established in (30), an application was readily developed providing a detailed mapping of the effective radius of the tool over the entire surface almost instantaneously.This mapping tool was then used to conduct a study into the comparative effectiveness of a ball end mill and a torus milling cutter with the same radius when machining a free-form surface from an industrial environment on a 3-axis NC machine tool.This surface, related to a boat propeller measuring 393 mm in diameter (Fig. 5), is the extrados of the blade (Fig. 6).Whatever the tool path planning strategy envisaged (parallel planes, isoparametrics, and iso-scallop) the step over distance (defined in Section 4.2) must respect the maximum scallop height.First, it should be recalled that, the step over distance at a point is directly related to the cutter effective radius and, for a given scallop height, that distance has a significant impact on productivity. In what follows, it will be shown how, compared with the results obtained using a ball-end mill, using a torus end cutter can be advantageous in some areas of the workpiece and disadvantageous in others. It will also be seen how the simplicity of the expression established in (30) allows this analysis to be conducted in an extremely short time.Whatever the tool path planning strategy used, in order to position the cutter so as to respect the maximum scallop height at a given point of the tool path, the distanceddefining its position in the plane perpendicular to the feed direction must first have been calculated (Fig. 7). Subsequently, the step over distancesodcan be readily determined as it is directly related todby angleγcharacterising the local inclination of the surface in a plane normal to the machining direction. Showing that the step over distance is directly related to the cutter effective radius is thus equivalent to showing that distanceddepends directly on that effective radius.To calculate the value ofdit is assumed that the curvature of surfaceϱ(considered in a plane normal to the feed direction) and the cutter effective radiusReffare constant locally. The triangle made by the centre of curvature of the surface calledOand pointsCandH(Fig. 7) is considered. For this triangle, the following can be stated:Reff2=(Reff+ϱ)2+(ϱ+sh)2−2(Reff+ϱ)(ϱ+sh)cos(β)whereβis the angle between vectorsOCandOH.Moreover, in triangle(OAC), the following applies:d2=(ϱ+Reff)sin(β).Statingt=tan2(β2), the following is obtained:{Reff2=(Reff+ϱ)2+(ϱ+sh)2−2(Reff+ϱ)(ϱ+sh)1−t21+t2d2=(ϱ+Reff)2t1+t2.Resolution of this system of equations gives(31)d=(4Reff2+4ϱReff−2shϱ−sh2)(2ϱ+sh)shϱ+sh.This expression shows that the distancedis indeed directly related to the effective radiusReff, especially considering thatshcan be neglected in relation to the other magnitudes. The step over distancesodthus depends directly on the effective radiusReff. Now, for a given scallop height value (the acceptable tolerance on the surface), the increase in step over distance allows for significant gains in productivity. Consequently, it can be said that this increase in the effective radius of the cutter has a direct impact on productivity.As seen previously (Section 3.1), the effective radius value can vary between the torus radiusrin the case of a path perpendicular to the direction of the greatest slope and a value that tends to infinity for horizontal milling. Given the relation between effective radius cutter and step over distance, it is clear that where the effective radius equalsr, using a ball-end cutter instead of a torus milling cutter will allow for greater productivity. However, the closer the path becomes to being horizontal in the direction of the greatest slope, the more the torus milling cutter will prove to be more effective as compared with a ball-end mill of the same diameter. It therefore seems useful to be able to determine, for a given surface, the zones where the torus milling cutter is more effective than the ball-end cutter and vice-versa.For the ball-end cutter, the effective radius is always equal to its nominal radiusR, whatever may be the feed direction and slope of the surface.For the torus milling cutter, calculation of the effective radius with the formula established in (30) requires knowledge of the slope of the surface at the point considered and the angle formed by the direction of the greatest slope and the feed direction. To pursue this analysis, a machining direction first needs to be defined that will be parameterised by the angleθits projection makes in the plane(X,Y)with the axisXof the machine. Then a meshing of the parametric space comprising 256×256 tiles is considered. In the centre of each tile thus constituted, the effective radius of the torus milling cutter can be readily calculated using relation (30). The value of the effective radius thus obtained is then associated with a corresponding colour from a scale of colours varying linearly fromr(blue) to2R(red). The grid of colours is then applied as texture to the 3D representation of the surface to generate graphic images like those shown in Figs. 8–11.The entire procedure (calculation and visualisation) was developed using the Java programming language.

@&#CONCLUSIONS@&#
