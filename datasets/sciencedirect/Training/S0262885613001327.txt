@&#MAIN-TITLE@&#
Building facade detection, segmentation, and parameter estimation for mobile robot stereo vision

@&#HIGHLIGHTS@&#
We perform automatic modeling of building facades from single-view stereo.Goal is to provide semantic landmarks for mobile platform localization.Use of novel appearance model with stereo features and plane fitting to disparity.Facade segmentation by graphical model: hierarchical Markov Random Field.Good performance in segmenting and modeling major facades in the scene.

@&#KEYPHRASES@&#
Stereo vision,Mobile robot perception,Hierarchical Markov random field,Building facade detection,Model-based stereo vision,

@&#ABSTRACT@&#
Graphical abstract

@&#INTRODUCTION@&#
Accurate scene labeling can enable applications that rely on the semantic information in an image to make high level decisions. Our goal of labeling building facades is motivated by the problem of mobile robot localization in GPS-denied areas, which commonly arises in urban environments. Besides GPS, other cues from the environment such as compass headings and Time-Difference-Of-Arrival (TDOA) of radio signals, along with vision-based localization [1], can enable semantic methods of navigation in these areas. However, these methods suffer from low accuracy and are subject to interference, or in the case of vision-based localization, struggle with occlusion and clutter in the scene. The vision-based localization approach being developed by our group depends on the detection of buildings within the field of view of the cameras on a mobile platform as a means to reduce the effects of clutter on localization, and to enable navigation based on static, semantically meaningful landmarks detected in the scene. Within this problem, accurate detection and labeling of the facades are important for the high level localization and guidance tasks. We restrict our approach to identifying only planar building facades, and we require image input from a stereo source that produces a disparity map. Since most buildings have planar facades, and many mobile robotic platforms are equipped with stereo cameras, neither of these assumptions is particularly restrictive.In this paper, we propose a method for fully automatic building facade imaging–detection, segmentation, and parameter estimation–for mobile stereo vision platforms. For an input stereo image and disparity map, we desire a pixelwise segmentation of the major building facades in the scene, as well geometric models for each of these planar facades. Our approach proceeds in three main steps: discriminative modeling with both appearance and disparity features, candidate plane detection through PCA and RANSAC, and energy minimization of MRF potentials. A diagram of the workflow for candidate plane detection and high-level labeling is provided in Fig. 1. We make no assumptions on the quality of the input data, and in fact many of our methods were driven by the need to deal with the missing or inaccurate data that is common to single-view stereo imagery. Consequently, we adopt a top-down approach to fitting planes globally in the image, rather than a bottom-up approach that would suffer from missing disparity data on the local scale. This is also directed toward our goal of segmenting the major facades in the scene, and not every planar surface. In our experiments, we use off-the-shelf single-view stereo data produced by a system-on-a-chip camera that computes disparity in real time, and we acknowledge that the maps may suffer from both missing data and range-uncertainty.Our work leverages stereo information from the beginning. Our discriminative model is generated from an extension of the Boosting on Multilevel Aggregates (BMA) method [2] that includes stereo features [3]. Boosting on Multilevel Aggregates uses hierarchical aggregate regions coarsened from the image based on pixel affinities, as well as a variety of high-level features that can be computed from them, to learn a model within an AdaBoost [4] two- or multi-class discriminative modeling framework.Since many mobile robot platforms are equipped with stereo cameras, and can thus compute a disparity map for their field of view, our approach of using statistical features of the disparity map is a natural extension of the BMA approach given our intended platform. Since buildings tend to have planar surfaces on their exteriors, we use the stereo features to exploit the property that planes can be represented as linear functions in disparity space and thus have constant spatial gradients [5]. We will refer to this extension of BMA to disparity features as BMA+D. We use the discriminative classification probability as a prior when performing inference on the facade labels.In order to associate each building pixel with a particular facade, we must have a set of candidate planes from which to infer the best fit. We generate these planes by sampling the image and performing Principal Component Analysis (PCA) on each local neighborhood to approximate the local surface normal at the sampled points. We then fit models to those points by iteratively using Random Sample Consensus (RANSAC) [6] to find subsets that fit the same plane and have similar local normal orientations. From these sets of points, we are able to estimate the parameters of the primary planes in the image.We then incorporate both of these sources of information into a Bayesian inference framework using a two-layer Markov Random Field (MRF). We represent the mid-level MRF as an Ising model, a layer of binary hidden variables representing the answer to the question “Is this pixel part of a building facade?” This layer uses the discriminative classification probability as a prior, and effectively smooths the discriminative classification into coherent regions. The high-level representation is a Potts model, where each hidden variable represents the labeling of the associated pixel with one of the candidate planes, or with no plane if it is not part of a building. For each pixel, we consider its image coordinates and disparity value, and evaluate the fitness of each candidate plane to that pixel, and incorporate it into the energy of labeling that pixel as a part of that plane.A more in-depth discussion of our modeling and labeling methods can be found in Section 4.The primary contributions of this paper are a novel approach to discriminative modeling for building facade detection that leverages stereo data, a top-down plane fitting procedure on the disparity map, and a novel Markov Random Field for fusing the appearance model from the discriminative classification and the geometric model from the plane fitting step to produce a facade segmentation of a single-view stereo image. Our method for facade segmentation using the two-layer MRF and RANSAC was originally proposed in [7], but this paper includes a full quantitative study on the performance of these methods on a larger dataset, and this is the first inclusion of any of this work in an archival publication.

@&#CONCLUSIONS@&#
We have presented a system for automatic facade detection, segmentation, and parameter estimation in the domain of stereo-equipped mobile platforms. We have introduced a discriminative model that leverages both appearance and disparity features for improved classification accuracy. From the disparity map, we generate a set of candidate planes using RANSAC with a planar model that also incorporates local PCA estimates of plane normals. We combine these in a two-layer Markov Random Field model that allows for inference on the binary (building/background) labeling at the mid-level, and for segmentation of the identified building pixels into individual planar surfaces corresponding to the candidate plane models determined by RANSAC.Our BMA+D discriminative model provides superior performance to other classifiers using only appearance features, and our mid-level MRF labeling has proven to further improve the accuracy of the classification to approximately 80%. We were able to identify 84% of the building facades in our dataset, with an average angular error of 24° from the ground truth. However, the distribution of errors peaks in frequency below 10°, indicating that a large percentage of the labels provide very accurate estimates for the ground truth, although some of the labels produced by our method have very high error. Further analysis shows that these high-error labelings most often occur on small segmented regions. Thus our method produces accurate plane estimates for at least the major facades in the image.A further approach that may enhance these results is strict enforcement of a verticality constraint on the candidate plane models. Extraction of the ground plane would enable us to leverage the assumption that building facades, in general, are perpendicular to the ground plane. Using only locally vertical candidate plane models is an avenue of future work in this area. Another avenue for future investigation is the integration of the distance-based uncertainty of each point in disparity space into the RANSAC models in order to encourage plane fitting to the more accurate points close to the camera. We also intend to pursue other methods for either improving the quality of the input data (e.g. multiview stereo) or improving the methods of compensating for difficult disparity maps.