@&#MAIN-TITLE@&#
Lightweight capacity measurements for mobile networks

@&#HIGHLIGHTS@&#
Packet dispersion technique tuned for mobile networks.Lightweight and passive: its input is only already existing traffic.Is able to provide accurate results with a fraction of the exchanged packets.Is not affected by the scheduling process of eNodeBs and other artifacts.Verified by a week-long measurement campaign and extensive simulations.

@&#KEYPHRASES@&#
Mobile capacity,Measurement,Packet dispersion,

@&#ABSTRACT@&#
Mobile data traffic is increasing rapidly and wireless spectrum is becoming a more and more scarce resource. This makes it highly important to operate mobile networks efficiently. In this paper we are proposing a novel lightweight measurement technique that can be used as a basis for advanced resource optimization algorithms to be run on mobile phones. Our main idea leverages an original packet dispersion based technique to estimate per user capacity. This allows passive measurements by just sampling the existing mobile traffic. Our technique is able to efficiently filter outliers introduced by mobile network schedulers and phone hardware. In order to asses and verify our measurement technique, we apply it to a diverse dataset generated by both extensive simulations and a week-long measurement campaign spanning two cities in two countries, different radio technologies, and covering all times of the day. The results demonstrate that our technique is effective even if it is provided only with a small fraction of the exchanged packets of a flow. The only requirement for the input data is that it should consist of a few consecutive packets that are gathered periodically. This makes the measurement algorithm a good candidate for inclusion in OS libraries to allow for advanced resource optimization and application-level traffic scheduling, based on current and predicted future user capacity.

@&#INTRODUCTION@&#
Even though spectrum efficiency is improving thanks to the fifth generation [1] of mobile networks, the wireless medium is becoming a scarcer and scarcer resource, due to the ever increasing demand for mobile communication. Recently, a number of papers addressed improved resource allocation mechanisms based on capacity prediction techniques. For instance, [2–4] propose to use resources when they are more abundant and cheap, and to refrain from or to limit communication when it is more expensive (e.g., lower spectral efficiency, higher congestion, etc.) by exploiting perfect knowledge of the future capacity.In [5], we surveyed the state of the art on mobile capacity prediction techniques and built a model for both short and medium to long term prediction errors in order to be able to quantify the impact of prediction uncertainties in resource allocation. Most short term prediction techniques [6,7] rely on time series filtering solutions, such as moving average and autoregressive (ARMA) or autoregressive conditional heteroskedasticity (ARCH) modeling. Thus, in order to allocate resources on a given time granularity, prediction must be available with the same granularity and, consequently, mobiles must be able to measure capacity with the same granularity [8].Mobile capacity measurement is a well investigated topic in the literature, but, to the best of our knowledge, no lightweight or passive technique allows mobiles to collect frequent measures of their capacity. To fill this gap, this paper proposes a simple technique which is able to measure the fast variations of the per user capacity and, from those, the expected end-to-end throughput.In order to do so we adapt packet train dispersion techniques by applying an adaptive filtering mechanism, which we show is effective in removing the impact of outliers due to bursty arrival and jitter, which are very prevalent in mobile environments. We validate the effectiveness of the solution through extensive simulation and “real world” measurement campaigns: our technique can achieve an accurate throughput estimate with as few as 5% of the packets needed by other solutions, while making an error smaller than 20%.Our goal is to provide a simple tool that evaluates passively or with minimum impact the per user capacity variations over time in a mobile environment. This enables filter based prediction techniques and, consequently, prediction based resource allocation optimization. Source code for the tool can be found in the repository of the EU project eCOUSIN.11https://ecousin.cms.orange-labs.fr/sites/ecousin/files/lightmeasure.zip.In the following sections we propose a lightweight measurement technique of the per user cell capacity. Our proposal adapts earlier packet train dispersion techniques and allows to collect reliable measurements on a mobile device despite the complexities introduced by the wireless link and the phone hardware. Also, we have evaluated our technique on both simulations and actual mobile network data collected during a measurement campaign.The rest of the paper is structured as follows. Related work and some mobile network fundamentals are discussed in Sections 2 and 3, respectively. We present our measurement technique in Section 4, in Section 5 a first evaluation of our technique based on simulations, and in Section 6 we describe how we collected “real world” data to validate it. The results are discussed in Section 7. Finally, Section 8 summarizes our conclusions.

@&#CONCLUSIONS@&#
We presented a lightweight measurement technique that leverages adaptive filtering over the packet dispersion time. This allows to estimate the per user capacity in mobile cellular networks. Accurate estimates can be achieved exploiting as few as 5% of the information obtained from TCP data flows. Given that this solution can support dense throughput sampling, it is ideal for capacity prediction and optimized resource allocation. In fact, if the future capacity availability is known, it is possible to predict when it is best to communicate by doing so when it is cheaper (i.e., more capacity available). In addition, our solution is able to estimate the fast capacity variations from a mobile terminal by monitoring the traffic generated under normal daily usage.We validated our technique over a week-long measurement and an extensive simulation campaign. We achieved good estimation accuracy even when using only short lived TCP connections. Since our technique is based on simple post-processing operations on the packet timestamps, it is possible to easily integrate it in background processes or OS routines.We are planning to extend our measurement application with filter based prediction capabilities in order to provide mobile phones with a complete capacity forecasting tool, which, in turn, will allow for advanced resource allocation mechanisms. Finally, we are planning additional measurement campaigns in order to further extend these encouraging results on passive and lightweight measurement tools.