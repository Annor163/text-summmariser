@&#MAIN-TITLE@&#
Effect of speech activity parameter on PESQ's predictions in presence of independent and dependent losses

@&#HIGHLIGHTS@&#
Speech activity factor is one of the important reference signal characteristics, especially when comes to time-varying impairments, like packet loss, etc.This parameter is defined very broadly by the ITU-T Recommendation P.862.3.The impact of this parameter on speech quality is thoroughly investigated from subjective and objective perspective (quality predictions provided by PESQ) in this study/paper.Higher values of the parameter result in higher PESQ sensitivity to loss change as well as PESQ’s predictions accuracy improvement.Human brain is a bit less sensitive to loss of some parts of words than PESQ.

@&#KEYPHRASES@&#
Speech quality assessment,Reference signal characteristic,Speech activity parameter,Packet loss,Perceptual Evaluation of Speech Quality (PESQ),

@&#ABSTRACT@&#
This paper deals with the investigation of PESQ's (Perceptual Evaluation of Speech Quality; also known as ITU-T Recommendation P.862) behavior under independent and dependent loss conditions from a speech activity parameter perspective. The results show that an increase in amount of speech in the reference signal (expressed by the activity parameter) may result in an increase of the PESQ sensitivity to packet loss change as well as PESQ's prediction accuracy improvement. On the other hand, it seems that human brain is a bit less sensitive to loss of some parts of words than PESQ. The reasons for those findings are particularly discussed.

@&#INTRODUCTION@&#
Voice over Internet Protocol (VoIP), the transmission of packetized voice over IP networks, has gained much attention in recent years. It is expected to carry more and more voice traffic for its cost-effective service. However, present-day Internet, which was originally designed for data communications, provides best-effort service only, posing several technical challenges for real time VoIP applications. In this case, speech quality is mainly impaired by packet loss, delay and jitter. Assessment of perceived speech quality in IP networks becomes an imperative task to manufacturers as well as to service providers.Speech quality is judged by human listeners and hence it is inherently subjective. Therefore, the most reliable approach for assessing speech quality is through subjective tests. The absolute category rating (ACR) test, defined by ITU-T Recommendation P.800[1], is one of widely accepted norms for speech quality assessment. In the test, listeners express their opinions on the quality of the speech materials in terms of five categories: excellent, good, fair, poor and bad with corresponding integer scores: 5, 4, 3, 2 and 1, respectively. The ratings are averaged and the result is usually known as mean opinion score (MOS). Subjective testing is expensive and time-consuming. It is the reason that subjective testing is impractical for the frequent testing such as routine network monitoring. An interested reader can find more details about subjective testing in [2]. Objective test methods have been developed in recent years. They are machine-executable and require a little human involvement. In principle, objective methods can be classified into two categories: signal-based methods and parameter-based methods. The former requires availability of speech signal to realize quality prediction process and can be according to [3] divided into two categories, intrusive or non-intrusive. Intrusive signal-based methods use two signals as the input to the measurement, namely, a reference signal and a degraded signal, which is the output of the system under test. They identify the audible distortions based on the perceptual domain representation of two signals incorporating human auditory models. Several intrusive models have been developed during recent years, like Perceptual Speech Quality Measure (PSQM) [4], Measuring Normalizing System (MNB) [5,6], Perceptual Analysis Measurement System (PAMS) [7], and Perceptual Evaluation of Speech Quality (PESQ) [8,9]. In principle, the PSQM model is based on comparison of the power spectrum of the corresponding sections of reference and degraded signals. Naturally, auditory processing is involved in this process. The results of this model correlate more with the results of listening tests, in comparison with MNB[9]. It seems to be worth to mention that MNB uses a slightly different approach as PSQM, based on time and frequency measuring normalizing blocks involved in distance measure calculation part. More details about this complicated process can be found in [5]. In essence, PAMS model is based on similar approach as PSQM, however this model is equipped with better performing time-alignment module than PSQM. Let us remind you that good performing time-alignment module is crucial when speech quality of packet-based communications is evaluated. At the present, the PESQ model is frequently used. PESQ combines merits of PAMS and PSQM99 (an updated version of PSQM), and adds new methods for transfer function equalization and averaging distortions over time. PESQ also facilitates with very fine time-alignment. It can be used in wider range of network conditions, and gives higher correlation with subjective results than the other objective models [8–10]. Unlike the conversational model (for instance model proposed in [11]), PESQ is a listening-only model; the degraded sample is time-aligned with the reference sample during pre-processing. Predictions provided by PESQ do not reflect the effects of delay on speech quality. The disadvantages of this model include higher calculation load in comparison to PSQM and MNB which is caused by recursions in the model and inaccuracy when used in conjunction with some variables, like sidetone, loudness loss, effect of delay in conversational tests, talker echo and different listening levels as standard listening level of 79dBSPL, extreme temporal clipping (for more details, see Table 2 in [10]). Among the models mentioned above, PSQM and PESQ were standardized by the ITU-T Recommendations such as P.861[12] and P.862[10] respectively. Moreover, ITU-T SG12 has very recently standardized a new intrusive model called Perceptual Objective Listening Quality Assessment (POLQA) that will probably replace PESQ for some conditions mainly related to wideband and super-wideband speech transmission. Those conditions will be known when the characterization phase of this algorithm will be finished. In contrast to intrusive methods, the idea of the single-ended (non-intrusive) signal-based methods is to generate an artificial reference (i.e., an “ideal” undistorted signal) from degraded speech signal and to use this reference in a signal-comparison approach. Once a reference is available, a signal comparison similar to that of PESQ can be performed. The result of this comparison can further be modified by a parametric degradation analysis and integrated into an assessment of overall quality. The most widely used non-intrusive models include Auditory Non-Intrusive QUality Estimation (ANIQUE) [13] and internationally standardized P.563[14,15]. The former model utilizes the temporal envelope representation of speech and is based on the functional roles of human auditory systems and the characteristics of human articulation systems. The latter one is essentially based on models of voice production and perception and demonstrates better performance than ANIQUE model on more than 48 subjective experiments representing most distortions that occur on voice networks [16]. Parameter-based methods predict the speech quality through a computation model instead of using a real measurement. E-model is a typical model, defined by ITU-T Recommendation G.107[17] and is primarily used for transmission planning purposes. This model includes a set of parameters characterizing end-to-end voice transmission as its input, and the output (R-value) then can be transformed into the MOS-Listening Quality Estimated narrowband (MOS-LQEn) values.The characteristics of reference signals for objective speech quality assessment provided by PESQ and POLQA are defined in ITU-T Recommendation P.862.3[18] and in brand new ITU-T Recommendation P.863[19], respectively. Those characteristics are crucial for speech quality assessment and can rapidly influence accuracy and reliability of results of the evaluation process, regardless of subjective or objective assessment. In particular, two reference signal characteristics are defined very broadly by both documents mentioned above from our point of view, namely the length of reference signal and speech activity parameter. The first one is clear and therefore we do not see any need to define this characteristic. The latter one is more complicated and is defined in the literature as the ratio in percentage points between the amount of active speech and the length of reference signal or sample. The ITU-T Recommendation P.862.3 recommends using the reference signals in duration in the range from 8s to 30s for the purpose of PESQ's measurements. The speech activity in the reference signals (speech activity parameter), which can be measured according to ITU-T Recommendation P.56[20], should be between 40% and 80% of their length. On the other hand, the new ITU-T Recommendation P.863 provides the following information with regard to speech activity parameter: “The reference file has at least 40% activity and consists of at least two sentences. The total amount of silence is split into at least two sections (typically three). Not more than 50% of the silence falls before the start or after the end of the file.” Regarding the length of reference signal used for speech quality assessment provided by POLQA, the values defined for PESQ were not changed in this case. We suppose that those two characteristics (length of reference signal and speech activity parameter) can have an impact on final PESQ's as well as POLQA predictions in presence of time-varying impairments. The investigation of both characteristics from PESQ's prediction perspective has been done in [21]. As expected, both characteristics have an impact on speech quality assessed by test subjects (subjective test) as well as by PESQ model (objective model), when time-varying impairments, like packet loss are present. Some very important issues raised from [21] especially in the case of speech activity experiment. That is the reason for exhaustive investigation of the impact of activity parameter on speech quality predictions provided by PESQ from dependent and independent loss perspectives. Unfortunately, we cannot also investigate the behavior of POLQA with respect to this characteristic at this moment because POLQA model will be released for organizations participating in characterization phase at the beginning of this phase. We leave this point for further investigation, as can be also seen in Section 4 of this paper. One can argue why this analysis is going to be mainly done by PESQ, instead of using listening test results. We have several reasons to deploy PESQ as a useful tool for this analysis. Firstly, PESQ is recommended by ITU-T to assess speech quality in wide range of network conditions. Moreover, currently this algorithm is mainly used for such measurements around the globe and widely accepted by community for this purpose because of its very good accuracy in recommended conditions. Secondly, we know that PESQ behaves a little bit differently in case of such loss than human brain. Human brain tries to render the lost information on a basis of content heard. In other words, he attempts to predict the lost information (syllables, words) by the content of sentence processed. PESQ as well as the other objective tools are not able to do such prediction. On the other hand, when PESQ is supported by Packet Loss Concealment (PLC) algorithm (the lost information is concealed), its behavior is much closer to the behavior of human brain in such a case. Of course, there are some limitations, especially for extreme loss conditions when big parts of words or whole words get lost. In such conditions, PLC is not able to conceal the lost information properly and finally PESQ is not able to behave like human brain. Aforementioned extreme loss conditions will not be involved in this experiment. Thirdly, speech activity parameter is defined in [18] as one of the important input parameters, which mainly describe the characteristics of the used reference signals. As also mentioned at the beginning of this paragraph, this reference signal characteristic is defined very broadly by [18]. By this investigation, we would like to prove that this parameter have a big impact on final MOS-scores, provided by objective measures (like PESQ) as well as by listening tests, especially when the time-varying impairments, like packet loss are taken into account. Naturally, we will verify our objective results by listening test to prove that PESQ behaves correctly for different activity parameters as well as to evaluate an accuracy of its predictions. Fourthly, PESQ enables us to do very comprehensive study of the impact of this parameter on MOS-scores, which probably would not be feasible by doing only listening tests, because of known limitations of such tests (e.g. duration of test, number of samples presented without subjects fatigue). Finally, we believe that all aforementioned reasons (high acceptability and accuracy, comprehensive study) allow us to deploy this algorithm in this case.Some works have been carried out on the study of PESQ's behavior under single frame, uniform and dependent losses. In [22], the verification of PESQ performance in case of single frame losses has been conducted by means of formal listening only tests. The tests have proved that PESQ predicts the impact of single frame losses precisely. In [23], an investigation on how subjects perceive bursty losses and how current objective measurement methods, such as PSQM, MNB, Enhanced Modified Bark Spectral Distance (EMBSD) and PESQ, correlate with subjective test results under burst loss conditions has been reported. Preliminary results have shown that PESQ displays an obvious sensitivity to bursty conditions compared to human subjects (it is more sensitive than subjects when loss burstiness is high and less sensitive when it is low). In [24], a study of PESQ's behavior from networking perspective (dependent and uniform losses) has been presented. It seems that PESQ maintains reasonable correlation with subjective scores even when the network conditions are bad. Also, the deviations seem to be systematic from subjective scores, which suggest that a simple compensation factor might be found (for instance, derived from network conditions) and used to improve the results. Moreover, the behavior of PESQ algorithm with regard to different speech activity parameters in presence of receiver-side comfort noise has been examined in [25]. It has to be noted that environment including receiver-side comfort noise is very different from environment investigated in this paper and naturally also creates additional speech quality impairments in comparison to the packet loss occurred in this investigation (very different results obtained, for more details, see [25]). In particular, here we focus on an impact of activity parameter on speech quality predictions provided by PESQ in case of independent and dependent losses. The reference signals with activity parameters of 42, 62 and 82% are investigated in this study. In addition, we assess the variability of PESQ's predictions with respect to speech activities and loss conditions as well as its accuracy, by comparing the predictions with subjective assessments.The rest of the paper is organized as follows: Section 2 introduces experimental scenario and experiments carried out in this study. In Section 3, the experimental results are presented and discussed. Section 4 concludes the paper and suggests some future studies.One-way VoIP session was established between two hosts (VoIP Sender and VoIP Receiver), via the loss simulator (Fig. 1). In the case of loss simulator, two currently most widely used models were deployed for the purpose of packet loss modeling, namely Bernoulli and Gilbert loss model. More details about loss models can be found in Section 2.2. For this experiment the ITU-T G.729AB encoding scheme [26] was chosen. This codec is one of the most popular narrowband voice compression algorithms used in VoIP since it operates with near toll quality using a very limited bandwidth—8kbps. In the measurements, two frames (frame length=10ms) were encapsulated into a single packet; thus corresponding to a packet size of 20ms. Adaptive jitter buffer, G.729AB's native PLC, and Voice Activity Detection (VAD)/Discontinuous Transmission (DTX) were implemented in the VoIP clients used. The jitter buffer does not play any role in the case of this experiment because of small constant jitter inserted by the loss simulator during the measurement. The Comfort Noise Generator (CNG) usage was disabled in the case of this experiment.The reference signals described in Section 2.3 were utilized for transmission through the given VoIP connection. Finally, speech quality was assessed by PESQ and then converted to MOS-Listening Quality Objective narrowband (MOS-LQOn) values by this equation:(1)y=0.999+4.999−0.9991+e−1.4945*x+4.6607where x and y represent the raw PESQ score and the mapped MOS-LQOn, respectively. The equation mentioned is defined in ITU-T Recommendation P.862.1[27]. This mapping function was defined by ITU-T's Study Group 12 to resolve the problem related to systematic deviation between the MOS-scores obtained in auditory listening tests (MOS-LQS: Listening Quality Subjective) and those derived from the signal-based measure (PESQ). Finally, the applying of such mapping function allows a linear comparison of objective results with subjective MOS scores, as described in [27]. In case of PESQ score calculation, we used some batch data processing techniques proposed in [28] for bulk data processing.Packet loss is a major source of speech impairment in VoIP. Such a loss may be caused by discarding packets in the IP networks (network loss) or by dropping packets at the gateway/terminal due to late arrival (late loss).Several models [29,30] have been proposed for modeling network losses, the currently most widely used of them will be briefly discussed in the following subsections.The Bernoulli model is a model for a random process that consists of Bernoulli trails. A Bernoulli trial is an experiment whose result is random and can be either of two possible outcomes, loss (packet dropped) and no loss (packet received). In the Bernoulli model, each packet loss is independent (memoryless), regardless of whether the previous packet was lost or not. In other words, each experiment is independent of previous trails. In this case, there is only one parameter describing loss process, namely the average packet loss rate (Ppl), which can be mathematically described by the following formula:(2)Ppl=n1n100where n1 is the number of lost packets and n is the total number of transmitted packets in a trace.Most research in VoIP networks uses a Gilbert model to represent packet loss characteristics [29–31]. In 2-state Gilbert model as shown in Fig. 2, State 0 is for a packet received (no loss) and State 1 is for a packet dropped (loss). p is the probability that a packet will be dropped given that the previous packet was received. 1−q is the probability that a packet will be dropped given that the previous packet was dropped. When p=1−q, the 2-state Gilbert model reduces to a Bernoulli model. 1−q is also referred to as the conditional loss probability (clp). The probability of being in State 1 is referred to as the unconditional loss probability (ulp). The ulp provides a measure of the average packet loss rate and is given by [32]:(3)ulp=pp+q.The clp and ulp are used in the paper to characterize the loss behavior of the network.Sixteen independent loss and dependent loss conditions were chosen to cover all cases of interest. They consist of combinations of packet loss rates (from 0% to 15%) in case of independent losses and unconditional loss probabilities (ulp, 0%, 1.5%, 3%, 5%, 10% and 15%), conditional loss probabilities (clp, 15%, 30% and 50%) in case of dependent losses and 20 initial seeds to simulate different loss locations in both cases.The reference signal selections should follow the criteria given by ITU-T Recommendations P.830[33] and P.800[1]. The reference signals should include active speech periods separated by silence periods, and are normally of 1–3s long. They should also be active for 40–80% of their duration. The reference signals are composed of speech records. In our experiments, these speech records were taken from a Slovak speech database. In each set, two female and two male speech utterances were used. The reference signals were stored in 16-bit, 8000Hz linear PCM. Background noise was not present.Reference signals in length of 30s with activity parameters of 42, 62 and 82% were applied. All reference signals used for this investigation were spoken by the same people (as defined in Table 1), also for different values of activity parameter. The differences between the used reference signals are only in case of number of active speech periods (sentences), resulting in different activity parameters. In case of higher values of activity parameter, the new sentences were added, as an extension. New sentences added also upgraded the distributions of speech and non-speech periods; in particular they changed the parts of the previous non-speech periods into speech periods.The decision about using reference signals in length of 30s came from our previous published work [21]. The tests have proved that this length provides more accurate results in comparison with other investigated lengths therefore enables more precise investigation of an impact of speech activity parameter on speech quality predictions, assessed by PESQ. The long reference signal usage for the speech quality assessment by PESQ has been also investigated in [34]. The experimental results have shown that for this purpose it is possible to use a longer reference signals and the author has proposed extending the maximum length of reference signals to 30s. The results of this work have been included in ITU-T Recommendation P.862.3.The activity parameters and numbers of active speech periods for each of the used reference signals are presented in Table 1. The activity parameter measurement process has to follow the criteria given by ITU-T Recommendation P.56. Those ratios were measured by means of ITU-T Recommendation G.191's software tool [35], known as sv56.The subjective listening tests were performed in accordance to ITU-T Recommendation P.800[1]. Always up to 8 listeners were seated in listening chamber with reverberation time less than 190ms and background noise well below 20dBSPL (A). All together, 18 listeners in the age of 19–30years participated in the tests, the number of male and female listeners being balanced.The samples were played out using high quality studio equipment in random order. Results in Opinion Score 1 to 5 were averaged to obtain MOS-Listening Quality Subjective narrowband (MOS-LQSn) values for each sample.Because of the huge amount of objective measurement data, we had to make the decision which condition is the closest to real network conditions in order to limit the number of samples used in subjective tests. Finally, we decided on the basis of the available measurement results [29,30,32] that one of the dependent loss conditions is the best one for this purpose, namely clp=30%. The subjective tests were only done for this condition.All together, 108 speech samples were selected for subjective testing. Always 6 samples represented one network testing condition (the combination of ulp's and clp) and activity parameter. The 6 samples mentioned above were composed of 3 male and 3 female samples. In each sample collection, the best, average and worst cases were chosen from speech quality perspective. These were selected out of all recorded samples by expert listening.

@&#CONCLUSIONS@&#
