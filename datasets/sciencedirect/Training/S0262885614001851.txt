@&#MAIN-TITLE@&#
Enhanced disparity estimation in stereo images

@&#HIGHLIGHTS@&#
A two-phase strategy for combining separate cost volumes is described.A mean-shift segmentation-driven approach to handle disparity outliers is utilized.Low-textured area plane fitting is fostered by using disparity histogram analysis.Our method ranks first among published methods in the Middlebury evaluation system.

@&#KEYPHRASES@&#
Stereo vision,Stereo matching,Disparity estimation,Scanline optimization,Outliers handling,

@&#ABSTRACT@&#
This paper presents a novel stereo disparity estimation method, which combines three different cost metrics, defined using RGB information, the CENSUS transform, as well as Scale-Invariant Feature Transform coefficients. The selected cost metrics are aggregated based on an adaptive weight approach, in order to calculate their corresponding cost volumes. The resulting cost volumes are then merged into a combined one, following a novel two-phase strategy, which is further refined by exploiting scanline optimization. A mean-shift segmentation-driven approach is exploited to deal with outliers in the disparity maps. Additionally, low-textured areas are handled using disparity histogram analysis, which allows for reliable disparity plane fitting on these areas. Finally, an efficient two-step approach is introduced to refine disparity discontinuities. Experiments performed on the four images of the Middlebury benchmark demonstrate the accuracy of this methodology, which currently ranks first among published methods. Moreover, this algorithm is tested on 27 additional Middlebury stereo pairs for evaluating thoroughly its performance. The extended comparison verifies the efficiency of this work.

@&#INTRODUCTION@&#
Stereo reconstruction is one of the most active research fields in computer vision [1]. Though mature, the task of estimating dense disparity maps from stereo image pairs is still challenging, since there is still space for improving accuracy and providing new ways of handling uniform areas, depth discontinuities and occlusions. Several approaches have been proposed so far, targeting the improvement of the reconstruction accuracy and/or minimization of the computational cost. Section 1.1 reports on the approaches in this field. Paper's contribution is described in Section 1.2. While, Section 1.3 compares the proposed work to state-of-the-art methods.The work in [1] presents a complete taxonomy of approaches used for stereo disparity estimation. The categorization of the approaches is based on the following four generic steps, into which most of the stereo algorithms can be decomposed: 1. matching cost computation; 2. cost (support) aggregation; 3. disparity computation/optimization; and 4. disparity refinement. Several metrics have been proposed in the literature for the computation of matching costs between pixels. Prevalent pixel-based cost measures include the absolute difference of image intensity values, gradient-based measures and non-parametric transforms such as spearman, CENSUS and rank [2]. The CENSUS transform has been successfully used for disparity estimation and several modifications of it have been presented [3–5]. Many approaches combine various cost measures in order to boost accuracy. The work in [6] is based on the self-adapting dissimilarity measure, which combines the sum of absolute intensity differences and a gradient based measure. The works in [7–9] exploit a combination of absolute intensity differences, as well as the hamming distance of CENSUS transform coefficients. The matching cost values over all pixels and all disparities form the initial disparity space image (DSI) or the initial cost volume.In order to reduce matching ambiguity, the pixel-based matching costs are aggregated spatially over support regions in the DSI. The performance evaluations on different cost aggregation approaches [10,11] show that adaptive-weight [12] and segment-support [13] outperform the rest of cost aggregation approaches. More recent cost aggregation methods include successive weighted summation [8] and guided image filter [14,15].The disparity optimization step includes local, global, cooperative and semi-global methods. Local methods [8,12–14,16,17] put emphasis on matching cost computation and cost aggregation. The final disparity map is computed by applying a simple local winner-take-all (WTA) approach independently for each pixel. Global optimization methods aim at assigning a disparity label to each pixel, so that a global cost function is minimized over the whole image area. Efficient techniques include Graph Cuts [18], Belief Propagation [6] and cooperative optimization [19]. In an additional category of approaches, the energy function is minimized on a subset of points of the stereo pair (semi-global methods), for instance along 1D paths. Such approaches, which decrease the computational complexity compared to global optimization algorithms, involve Dynamic Programming [20] or Scanline Optimization [21] techniques.The disparity results have to be refined, since they are “polluted” with outliers in occluded areas, depth discontinuities and uniform areas that lack texture. Several stereo algorithms, such as those in [21,22], use segmented regions for reliable outlier handling. The work in [9] uses iterative region voting and proper interpolation to fill outliers.In this paper, a methodology for accurate dense disparity estimation is proposed. Most significant contributions of this work include the following:•The algorithm acquires a combined cost volume by exploiting three types of cost metrics. The first cost metric combines RGB-CENSUS information, the second one uses only CENSUS information and the third one SIFT (Scale Invariant Feature Transform) information. The cost metrics are aggregated using adaptive weights and their cost volumes are acquired. A reliable two-phase strategy is then followed to merge the individual cost volumes into a combined one.This approach, to the extent of our knowledge, is the first one that combines efficiently RGB, CENSUS and SIFT information.This method exploits mean-shift image segmentation in several stages of this approach. In our approach plane fitting is applied just to segments that correspond to large uniform areas and not to all segments. This fact reduces the dependency of our method from the result of the disparity plane fitting, which may be of reduced accuracy for small segment areas, due to the decreased number of contained disparities. Also, a metric is used to verify if planar fitting is successful, since not all large uniform areas can be considered as planar.Segmentation is also useful in the disparity optimization step. In more detail, the mean-shift segmentation maps of the stereo pair are used to introduce a new criterion for the definition of the smoothness penalty terms that are used in the semi-global scanline optimization method of [21] (previously exploited, among other works, in [9,23–25]). The modified scanline method is employed for the optimization of the combined cost volume.Moreover, segmentation is exploited for the occlusion handling task, where an efficient strategy that incorporates mean-shift segmentation-based occlusion handling to successfully cope with occluded areas is presented.Handling of large uniform areas is based on disparity histogram analysis, which removes outlier disparities from large uniform regions, before applying disparity plane fitting in each region using the remaining reliable disparities.Except for the major contributions, some secondary contributions are the following:•A weighted variant of the original CENSUS transform, which improves the disparity accuracy, is proposed.Disparity refinement at disparity discontinuities is performed by applying a two-step disparity edges refinement approach. The first step handles disparity errors at depth discontinuities in a coarser level and the second one in a finer level.This approach, by encompassing the aforementioned contributions, manages to rank 1st among already published methods in the Middlebury Stereo Evaluation benchmark [26] and gives superior results on an additional dataset of 27 stereo pairs.This method is the first one that combines RGB, CENSUS and SIFT information by utilizing an efficient strategy. There are several works that use RGB and/or CENSUS information, such as [3,4,7–9,25], but they do not exploit the SIFT information, which could probably improve their performance. However, the approaches that use SIFT descriptors, or similar ones (such as SURF-Speeded Up Robust Features [27]), for the case of short-baseline stereo disparity estimation, are limited. For instance, the work in [28] combines mutual information, SIFT descriptor, and segment based plane-fitting to robustly find correspondences for stereo image pairs which undergo radiometric variations. The paper in [29] uses SURF key points for the initial disparity estimation, which is further improved by using graph cuts for disparity plane assignment.Many methods, such as [6,19,29–31], exploit image segmentation algorithms in order to separate images into segments and then solve the disparity estimation problem by assigning, in various ways, a disparity plane for each estimated segment of the scene. In contrast to this class of approaches, the proposed method applies plane fitting only to large segments that correspond to low-textured areas. Additionally, in order to prevent application of plane fitting to low-textured areas that are not (near) planar, a metric is used to verify if plane fitting is successful.The disparity histogram analysis, described in this paper, could be used as preprocessing step in algorithms that perform plane fitting using methods that are sensitive to outliers, such as the least square error (LSE) based plane fitting algorithm, which is used in [30,31]. Even plane fitting algorithms that are insensitive to outliers, such as RANSAC (Random Sample Consensus) [32], could be fostered by our outlier filtering technique, since their computational cost would be reduced in case the data to be fitted contains less outliers. Disparity estimation methods that exploit RANSAC plane fitting include [22,29,31].Many methods, such as [6,9,19], are evaluated using just the four well-known stereo pairs of the Middlebury Stereo Online Evaluation Benchmark and they manage to rank among the top methods. However, there are additional Middlebury stereo pairs that can be used to present a more thorough and complete evaluation. The presented approach, except for the well-known stereo pairs, uses 27 more stereo pairs for assessing the overall performance of this approach.The rest of this paper is organized as follows. In Section 2, the proposed method is presented in detail. Section 3 provides information on the parameters used, as well as the experimental results, while conclusions are drawn in Section 4.

@&#CONCLUSIONS@&#
In this paper a method that produces very accurate disparity results for stereo image pairs is presented. In order to achieve increased accuracy, the proposed method uses efficiently three cost metrics to acquire a reliable combined cost volume. The optimization of the cost volume is performed using a semi-global matching method, where a new criterion is introduced for the definition of the smoothness penalty terms that improves the disparity results. Outliers handling is performed combining a simple scheme and mean-shift segmentation base occlusion handling. Another innovative aspect of this paper is the way disparities are filtered based on histogram analysis in order to be used in uniform regions handling. The remarkable performance of the proposed method is verified experimentally using the Middlebury evaluation benchmark and an extended stereo dataset. The ideas introduced in this paper could be used or extended by future stereo algorithms in order to boost their accuracy performance.Future work will focus on improving the disparity estimation for very slanted surfaces. Probably, the employment of a different cost aggregation approach is needed to achieve this objective.