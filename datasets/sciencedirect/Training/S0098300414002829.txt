@&#MAIN-TITLE@&#
EverVIEW: A visualization platform for hydrologic and Earth science gridded data

@&#HIGHLIGHTS@&#
Standards-compliant viewer for NetCDF and WMS.Explore and animate time-series data as tabular grids or colorized Earth overlays.Intuitive, spatially driven user interface for comparing datasets.Model-View-Presenter software design pattern offers flexibility and extensibility.Custom tools leverage the platform for large-scale ecological planning.

@&#KEYPHRASES@&#
Data visualization,Environmental Decision Support Tool,Everglades,NASA World Wind,NetCDF,Spatial overlay,

@&#ABSTRACT@&#
Graphical abstract

@&#INTRODUCTION@&#
Restoring an ecosystem is a challenging process that requires a comprehensive understanding of the ecological and physical processes at work. Making decisions about how to restore an ecosystem can be complicated by economic, sociological, and political factors, ranking ecosystem restoration one of the most complex types of environmental decision making (Poch et al., 2004). Ecosystem restoration has been described as ‘the development and testing of a body of theory for repairing damaged ecosystems' (Palmer et al., 1997). Alternative restoration plans are often proposed and can serve as theories for how best to repair damage. Using simulation models of predicted species or habitat responses to restoration, for example, allows these responses to be tested against each restoration theory.Visualizing model output and other data across the geographic area over which decisions are being made can help quickly identify areas with information gaps, problems with simulation model output, and exploration of hypotheses (Fox and Hendler, 2011). Graphical display of data may be preferential to tabular display for decision making, but information systems research shows this is not always the case (e.g., Remus, 1984; Dennis and Carte, 1998; Vessey and Galletta, 1991) and depends on whether spatial information is being conveyed (Vessey, 1991). Given the complexity of restoration decision making, typically across a large spatial extent, development of decision support systems and software tools may allow more informed decision making (Rizzoli and Young, 1997).The complexity and scale (28,000km2 (Gunderson et al., 1995)) of Florida's Greater Everglades (hereafter ‘Everglades’) leads to a vast amount of scientific, economic, and political information to be considered during restoration planning. Everglades restoration aims to return a compartmentalized wetland to a more natural wetland ecosystem with overland water flow moving southward across the landscape (Gunderson et al., 1995). Ecological and hydrologic simulation models are being used in restoration planning to examine hydrologic patterns and resulting wildlife responses from proposed restoration plans. Since planning for restoration began two decades ago (U.S. Congress, 2000), scientists have produced vast amounts of biological and hydrologic monitoring data and modeling outputs (e.g., DeAngelis et al., 1998; Gawlik, 2006; Doren et al., 2009; Jopp et al., 2010; Catano et al., 2014), in a variety of environmental conditions, and over many configurations of potential restoration plans (e.g., Curnutt et al., 2000; National Research Council, 2012). A challenge began to emerge to make the most informed use of monitoring data and modeling outputs in decision making.Restoration planners in the Everglades expressed the need to compare alternative restoration plans on their desktops with the ability to explore model inputs and outputs for improved understanding and informed decision making. Where visualizations were available to examine simulation model output against alternative restoration plans, they were often in the form of static maps. Decision makers in the Everglades typically examine four alternative restoration plans during each round of planning. To examine potential impacts of four alternative restoration plans on one species at one point in time means looking at four maps side-by-side. When considering how restoration might affect a species of interest throughout the wet season and the dry season, decision makers need to examine multiple points in time, quickly multiplying the number of comparisons and maps. Additionally, restoration efforts consider many biotic and abiotic factors so analysis of output from multiple models complicates the problem even further.The Everglades ecological modeling community adopted the Network Common Data Form (NetCDF) data format for modeling and visualization. The establishment of a common data format and the Comprehensive Everglades Restoration Plan (CERP) NetCDF Metadata Conventions for the Everglades ecological modeling community formed the foundation for collaborative data sharing among the large number of individuals, state and federal agencies, and other organizations involved in providing information for Everglades restoration planning. At the time, several visualization applications and frameworks existed (e.g. Unidata Integrated Data Viewer (Murray et al., 2003), GRASS GIS (Neteler and Mitasova, 2008), uDig (Ramsey, 2006), and Ncvtk (Pletzer et al., 2005) that fully supported NetCDF, and others (e.g. ArcGIS, ParaView, MATLAB) only partially supported NetCDF through supplementary converters. Other drawbacks to these tools included cost and lack of cross-platform support (e.g. ArcGIS), complex user interfaces (e.g. Ncvtk), and technical skill required at setup to support NetCDF (e.g. GRASS GIS). None of the available tools addressed the community needs for simple visualization of ecological and hydrologic modeling data that could be rapidly developed and iteratively updated in response to active user feedback.Building on the foundation of a common data format and conventions, the EverVIEW Data Viewer (hereafter ‘EverVIEW’) is a free, cross-platform, desktop Java application (Joint Ecosystem Modeling, 2009). EverVIEW was created to bridge the gap between ecological modelers and restoration planners by enabling data from widely varied sources to be readily consumed and made available for use in the decision making process (Romañach et al., 2014).The initial specifications for EverVIEW were defined and refined through in-person meetings with state and federal partners of the Joint Ecosystem Modeling (JEM) community. The key features that came out of these meetings included the abilities to compare side-by-side map overlays produced from NetCDF files, associating specific colors with ranges of values, inspecting and tracking values in particular grid cells, visualizing grid values alongside map overlays, and spatial view synchronization of map overlays. Frequent communication with and feedback from the user community expanded on these initial features to include support for tracking values in groups of grid cells and importing features from common GIS formats (e.g. Environmental Systems Research Institute Shapefile (ESRI, 1998) and Open Geospatial Consortium (OGC) Keyhole Markup Language (KML) (Wilson, 2008)), animation of time-series data, unstructured grids (e.g. triangular or honeycomb meshes), and numerous other features.Since the initial specifications meetings with partners, NetCDF was identified as the primary input format for EverVIEW. NetCDF is an open standard with over two decades of scientific use and was chosen as the modeling output and visualization format by the Everglades ecological modeling community in part because hydrologic datasets in the region were readily available in this form. Although the NetCDF format enables the storage of large amounts of binary, array-based data in a machine-independent way with self-describing metadata (Rew and Davis, 1990), the free-range nature of the metadata specification has contributed to ambiguity associated with user-defined metadata. This ambiguity led to the development of metadata conventions such as the Cooperative Ocean/Atmospheric Research Data Service (Cooperative Ocean/Atmosphere Research Data Service, 1995) and the Climate and Forecast Metadata Conventions (CF) (Gregory, 2003). In 2010, the CERP NetCDF Metadata Conventions (Joint Ecosystem Modeling, 2010) for orthogonally gridded data, and, later, the CERP Unstructured Grid NetCDF Metadata Conventions (Joint Ecosystem Modeling, 2012), were released with a comprehensive software library to promote code reuse across organizations and lower the barrier to entry for new collaborators in Everglades modeling. EverVIEW was built to support NetCDF datasets adhering to these CERP metadata conventions.The EverVIEW user interface is organized into a set of globe sections, with each section exposing different views of the loaded data. The views include globe view for colorized overlays on an Earth model, table view for inspecting cell values, and chart view for basic summary statistics. The user can add up to eight globe sections, with up to four visible per page (Fig. 1). Each globe section shows the data of a single NetCDF variable, any reference layers, and cell value trackers known as identify objects.Each globe view supports visualization of a 2D georeferenced NetCDF variable on an Earth model (Figs. 1 and 2). NetCDF data are displayed in the globe view either as tiled-images layers, which increase in detail as the user's viewpoint gets closer to the surface, or single-image layers that do not increase in detail but offer more performance benefits. Layer colors come from mapping grid cell values to a specific color ramp (Fig. 3); a legend is created from the color ramp and shown in the corner of the globe view. The color ramp allows users to create and associate specific colors with ranges of values, or to have a continuous gradient of colors automatically generated to correspond with values between the minimum and maximum of the dataset. Only one time step per layer can be visible at one time, so controls are available to step forward and backward through time, select a particular time index, or animate through all time indices. Reference layers are automatically added to the Earth model, such as NASA Blue Marble, i-cubed Landsat, political boundaries, and place names. Status and scale bars show elevation, altitude, and coordinate location under the mouse pointer, as well as scale distances for reference. User interaction with the globe includes zoom, pan, tilt, and roll, via mouse clicking and dragging, scrolling, and key presses. An included Web Map Service (WMS; de La Beaujardière, 2004) client allows the addition of WMS layers above or below the NetCDF layer.The table view provides an alternate, more precise view of the loaded NetCDF variable in a familiar, spreadsheet-style tabular format (Figs. 1 and 2). Row and column headers show the coordinate values for the spatial extent of the variable, while each table cell shows the value at that particular location and time index. Orthogonal grid data are visualized with one table cell for every data cell, while unstructured grid data are sampled at regular intervals, which are adjustable through user preferences. In addition to displaying data cell values, the table cells also have background colors corresponding to the color ramp in use (Figs. 1 and 2). The table view automatically displays the same time step that is visible on the globe view.The chart view displays summary charts of the loaded data, with two charts specific to the current time step and one chart specific to identify objects. The first chart is a histogram showing the distribution of data cell values for the selected time step. The second is a pie chart displaying the total percentage of values for the selected time step that fall within each range defined by the color ramp. Finally, a time-series line chart illustrates how the value of each identify object in the globe section changes over time (Fig. 1).For identify objects that are composed of a group of points, a polygonal chain, or a polygon, a value can be calculated using the minimum, maximum, or average of all the contained data cells. Identify objects, which are specific to a particular globe section, are visible across all views of a globe section, either by georeferenced shapes, highlighted table cells, or a chart showing data values over time (Fig. 1).To facilitate the comparison of datasets, EverVIEW includes synchronization channels to spatially and temporally link multiple globe sections. A spatial synchronization channel mirrors changes in altitude and orientation across each synchronized globe section. With this feature enabled, if one globe view is panned or zoomed to view a particular area, all other synchronized globe views in the channel will do the same. Spatial synchronization also copies identify objects from one globe section to others, which allows for detailed comparison among multiple alternative datasets by inspecting the values of identify objects across synchronized views. Similarly, the temporal synchronization channel mirrors the selection of a time step to all globe sections in the channel. Used in concert, spatial and temporal synchronization channels allow a user to step through time in multiple datasets and compare tracked locations simultaneously.The user interface offers two perspectives to organize the available globe sections of a page and the views within each section. The default multi-perspective displays up to four globe sections at once in a 2×2 window configuration (Fig. 1), which stacks the three different view types within each globe section (globe, table, and chart) such that only one view is visible at a time. The alternative single-perspective shows only one globe section per page but allows two views side-by-side for easier exploration of the dataset (Fig. 2).To simplify the process of loading the same data multiple times, EverVIEW includes the ability to save state configuration files. These files are saved using Extensible Markup Language (XML; Bray et al., 1997) and capture the state of either a single globe section or the entire application.EverVIEW is built using the Eclipse Rich Client Platform (RCP), which provides reusable user interface controls and mechanisms to bundle, manage, and remotely update the components of a complete software product. Eclipse RCP promotes a modular approach to software design, which improves the maintainability and flexibility of a system while shortening development time (Parnas, 1972; Laplante, 2007). The NASA World Wind software development kit forms the basis of the Earth model used by the globe view and allows multiple georeferenced layer sources (e.g. NetCDF, WMS, NASA Blue Marble) and types (e.g. place-names, political boundaries) to be stacked simultaneously. The GeoTools geospatial library (Turton, 2008), which is built on top of the Java Topology Suite (Davis and Aquino, 2003), underpins much of the projected coordinate system and location transformation functionality within EverVIEW and is also a key component of the CERP NetCDF Java library.

@&#CONCLUSIONS@&#
