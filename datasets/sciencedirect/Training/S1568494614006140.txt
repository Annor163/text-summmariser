@&#MAIN-TITLE@&#
A new approach for dynamic fuzzy logic parameter tuning in Ant Colony Optimization and its application in fuzzy control of a mobile robot

@&#HIGHLIGHTS@&#
Central idea is to avoid or slow down full convergence through the dynamic variation of parameters.Performance of different ACO variants was observed to choose one as the basis to the proposed approach.Convergence fuzzy controller with the objective of maintaining diversity to avoid premature convergence was created.

@&#KEYPHRASES@&#
ACO,Fuzzy logic,Fuzzy control,Robotics,Fuzzy ACO,

@&#ABSTRACT@&#
Ant Colony Optimization is a population-based meta-heuristic that exploits a form of past performance memory that is inspired by the foraging behavior of real ants. The behavior of the Ant Colony Optimization algorithm is highly dependent on the values defined for its parameters. Adaptation and parameter control are recurring themes in the field of bio-inspired optimization algorithms. The present paper explores a new fuzzy approach for diversity control in Ant Colony Optimization. The main idea is to avoid or slow down full convergence through the dynamic variation of a particular parameter. The performance of different variants of the Ant Colony Optimization algorithm is analyzed to choose one as the basis to the proposed approach. A convergence fuzzy logic controller with the objective of maintaining diversity at some level to avoid premature convergence is created. Encouraging results on several traveling salesman problem instances and its application to the design of fuzzy controllers, in particular the optimization of membership functions for a unicycle mobile robot trajectory control are presented with the proposed method.

@&#INTRODUCTION@&#
Ant Colony Optimization (ACO) is inspired by the foraging behavior of ant colonies, and is aimed at solving discrete optimization problems [8].The behavior of the ACO algorithm is highly dependent on the values defined for its parameters as these have an effect on its convergence. Usually these are kept static during the execution of the algorithm. Changing the parameters at runtime, at a given time or depending on the search progress may improve the performance of the algorithm [25–27].Controlling the dynamics of convergence to maintain a balance between exploration and exploitation is critical for good performance in ACO. Early convergence leaves large sections of the search space unexplored. Slow convergence does not concentrate its attention on areas where good solutions are found.Fuzzy control has emerged as one of the most active and fruitful areas of research in the application of fuzzy sets and fuzzy logic. The methodology of fuzzy logic controllers is useful when processes are too complex for analysis by conventional quantitative techniques or when the available sources of information are interpreted in a qualitatively inaccurate or uncertain way [40].Determining the correct parameters for the fuzzy logic controller is a complex problem and it is also a task that consumes considerable time. Because of their ability to solve complex NP hard problems we made use of ACO for the selection of those already mentioned parameters.There is also some recent interest in using ACO algorithms in mobile robotics [5,28]. Nowadays robotic automation is an essential part in the manufacturing process. Autonomous navigation of mobile robots is a challenge. A mobile robot can be useful in unattainable goal situations due to geological conditions or where the human are being is endangered. So, mobile robotics is an interesting subject for science and engineering.This paper explores a new method of diversity control in ACO. The main idea is to prevent or stop the total convergence through the dynamic adjustment of certain parameter of the algorithm applied to the design of fuzzy controllers, specifically to the optimization of membership functions of a trajectory controller for a unicycle mobile robot.The rest of the paper is organized as follows. Section 2 presents an overview of ACO. Section 3 describes a performance analysis on several TSP instances. Section 4 presents a new method of parameter tuning using fuzzy logic, Section 5 shows some simulation results in TSP problems, Section 6 describes the optimized fuzzy controller, Section 7 presents the considerations that are used to implement the ACO algorithm in the optimization of membership functions, Section 8 describes how the proposed method is applied, Sections 9 and 10 show simulation results in the membership functions optimization problem, and finally Section 11 presents some conclusions.The first ACO algorithm was called Ant System (AS) and its main objective was to solve the traveling salesman problem (TSP), whose goal is to find the shortest route to link a number of cities. In each iteration each ant keeps adding components to build a complete solution, the next component to be added is chosen with respect to a probability that depends on two factors. The pheromone factor that reflects the past experience of the colony and the heuristic factor that evaluates the interest of selecting a component with respect to an objective function. Both factors weighted by the parameters α and β respectively define the probability P in (1)(1)Pijk=τijαηijβ∑l∈Nikτilαηilβ,ifj∈NikIn (1)τijrepresents the pheromone value between nodes i and j and ηilrepresents the heuristic factor that evaluates the interest of selecting a component with respect to an objective function. Finally, Nirepresents a neighborhood of node i.After all ants have built their tours, the pheromone trails are updated. This is done by decreasing the pheromone value on all arcs by a constant factor (2), which prevents the unlimited accumulation of pheromone trails and allows the algorithm to forget bad decisions previously taken.(2)τij←(1−ρ)τij,∀(i,j)∈LAnd by depositing pheromone on the arcs that ants have crossed in its path (3). The better the tour, the greater the amount of pheromone that the arcs will receive. In (2)ρ represents the rate of pheromone evaporation, which is a value between 0 and 1.(3)τij←τij+∑k=1nΔτijk,∀(i,j)∈LΔτijk=1Ck,if arc(i,j)belong toTk;0,otherwise;In (3)C represents the cost of an arc in a graph. A first improvement on the initial AS, called the elitist strategy for Ant System (EAS) is as follows. The idea is to provide strong additional reinforcement to the arcs belonging to the best tour found since the start of the algorithm (4)[8].(4)τij←τij+∑k=1nΔτijk+eΔτijbs,∀(i,j)∈LΔτijbs=1Cbs,if arc(i,j)belong toTbs;0,otherwise;In (4) the term Δτ represents the pheromone increment and the bs indication is to distinguish the best-so-far ant. Another improvement over AS is the rank-based version of AS (denoted ASRank). In ASrank each ant deposits an amount of pheromone that decreases with its rank. Additionally, as in EAS, the best-so-far ant always deposits the largest amount of pheromone in each iteration [8]. In (5)w represents a number of ants considered in the ranking and r is an index for the ants in this set of w ants.(5)τij←τij+∑r=1w−1(w−r)Δτijr+ΔτijbsTo analyze the performance of the AS, EAS and ASRank variants, 30 experiments were performed by method for each instance of the examined TSP (Table 1), which are in the range of 14–100 cities, all extracted from TSPLIB [33], using the parameters recommended by the literature (Table 2) [8].The behavior of AS and EAS is very similar in all experiments (Tables 3–7), the performance of the three variants began to worsen by increasing the problem complexity, however the ASRank performance decreased to a lesser extent than their counterparts when the number of cities was greater than 50 (Tables 5–7).Since ASRank has more success finding the minimum and achieved lower averages with more complex TSP instances than the other approaches presented (Figs. 1 and 2). It can be concluded that AS and EAS have better performance when the number of cities is low, unlike ASRank that works better when the number of cities is not too small due to the pheromone deposit mechanism of this approach, where only the w−1 ants with the shorter tours and the ant with the best so far tour are allowed to deposit pheromone. This strategy can lead to a stagnation situation where all the ants follow the same path and construct the same tour [8] as a result of excessive increase in the pheromone trails of suboptimal routes (Figs. 3 and 4).Based on the obtained results it was decided to use ASRank as the basis for our proposed ACO variant. The main idea is to prevent or stop the total convergence through the dynamic variation of the alpha parameter.Alpha has a large effect in the diversity. Is recommended to keep α in the range of 0<α<1 [8]. A value closer to 1 will emphasize better paths but reduce diversity, while lower α will keep more diversity but reduce selective pressure [26].However, it appears impossible to fix a universally best α. In most approaches it is taken to be 1, so that the selection probability is linear in the pheromone level.An adaptive parameter control strategy is proposed in this paper; this takes place when there is some form of feedback from the search that is used to determine the direction and/or magnitude of the change to the strategy parameter [9]. In our case, the average lambda branching factor is used, and this factor measures the distribution of the values of the pheromone trails and provides an indication of the size of the search space effectively explored [8].A convergence fuzzy controller to prevent or delay the full convergence of the algorithm was created in this work (Fig. 5). Fuzzy control can be viewed as the translation of external performance specifications and observations of a plant behavior into a rule based linguistic control strategy [40].The objective of the controller is to maintain the average lambda branching factor at a certain level to avoid a premature convergence, so its rules are designed to fulfill this goal (Fig. 6).The controller of the α increment uses as inputs the error and change of error (Fig. 7) with respect to an average lambda branching factor reference level (this is the objective value) and provides as output an increase in the value of the parameter alpha (Fig. 8). Of course, in Fig. 7 the membership functions are defined over normalized ranges of values between −1 and 1, and in Fig. 8 the range of α increment is defined between −0.05 and 0.05, which was found by performing previous experiments to be a good interval.The fuzzy controller is able to maintain diversity in a more appropriate level, thus avoiding the full convergence of the algorithm (Fig. 9).The same number of experiments mentioned in the above analysis is performed and we obtained the following results. Table 8shows the performance of the proposed method in the same instances of TSP.It was found that the proposed method is able to improve the results of the strategies studied, obtaining lower averages (Fig. 10) and reaching the global minimum on more occasions than the analyzed variants (Fig. 11).To verify the above results in a more formal way a Z test for means of two samples is performed (Table 9).The 3 ACO variants mentioned above are analyzed in addition to the approach developed in 5 instances of the TSP, 30 experiments are performed for each instance, 150 experiments are made in total of we extracted a 30 data random sample for each method.With a significance level of 5% it was found sufficient statistical evidence to claim that the averages of AS (Fig. 12a), EAS (Fig. 12b) and ASRank (Fig. 12c) are higher than the one obtained for ASRank+ConvCont in the experiments, which means that the proposed approach improved the performance of the discussed variants on the studied problems, as had been observed in the first analysis.It was decided to optimize a fuzzy trajectory controller for a unicycle mobile robot to test the developed method in a more complex problem. The control proposal for the mobile robot is as follows: Given a path qd(t) and a desired orientation, a fuzzy logic controller must be designed to apply an adequate torque τ, such that measured positions q(t) reach the reference trajectory qd(t). That is:(6)limt→∞qd(t)−q(t)=0The fuzzy system to be optimized [23] is of Takagi-Sugeno type, and for simplicity it was decided to modify and convert it into a Mamdani type controller so that the input and output parameters are represented by linguistic variables.The controller receives as input variables the error in the linear (ev) and angular (ew) velocities (Fig. 13), that is, the difference between the predefined desired speed and the actual speed of the plant, and as output variables, the right (τ1) and left (τ2) torques of the mentioned robot (Fig. 14).The membership functions of the input variables are trapezoidal for the negative (N) and positive (P) linguistic terms, and triangular for the zero (Z) linguistic term. The output variables have three membership functions, negative (N), zero (Z), positive (P) of triangular shape and the fuzzy system uses nine fuzzy rules which are shown below (Fig. 15):ACO is used to find the membership functions optimal parameters through its adjustment and by the subsequently evaluation of the system.The parameters a, b, f, j, k corresponding to the membership functions of the input variables remain fixed to simplify the problem. The algorithm will find the optimal values of the parameters c, i in a straightforward manner and, through the optimum position of the intersection points (X1, Y1), (X2, Y2), the value of the parameters d, e, g, h (Fig. 16).Regarding the membership functions of the output variables, the algorithm will search for the optimum center (b, h, except e that remains fixed for simplicity) and span of each one (a, c, d, f, g, i) (Fig. 17).The application of ACO to optimize membership functions involves some considerations. First, encode all parameters in a weighted graph. For this goal we choose a complete graph of 43 nodes to maintain the similarity of the problem with a classical TSP where a minimum Hamiltonian circuit is searched.The range of each variable was discretized in 22 normalized values in the range [−1,1], and a symmetric data matrix of 43×43 with the distance between nodes was created. The parameters of the membership functions of the fuzzy system are obtained through the distance between two nodes using the relations of Tables 10–13.The algorithm will find the optimal values of c, i in a direct manner and using the optimal positions of the intersection points (X1, Y1), (X2, Y2) the values of parameters d, e, g, h where:d=(0−C1)m1,e=(0−C2)m2,m1=(Y1−1)(X1−c),m2=(1−Y1)(0−X1),C1=1−m1c,C2=1,−1<c<−0.05,c<X1<0,0<Y1<1,g=(0−C3)m3,h=(0−C4)m4,m3=(Y2−1)(X2−0),m4=(1−Y2)(i−X2),C3=1,C4=1−m4i,0.05<i<1,0<X2<i,0<Y2<1where m1, m2, m3 and m4 are the slopes in Fig. 16.The next step is to define an appropriate objective function to evaluate the performance of ACO. The objective function represents the quality of the solution, and acts as an interface between the optimization algorithm and the considered problem. The mean square error is used to evaluate the fitness of the fuzzy system.(7)MSE=1N∑K=1Ny(k)−y˜(k)2where y(k)=Reference value at instant k;y˜(k)=Computedoutput of the system at instant k; N=Number of samples considered.Since the system is responsible for controlling the linear (v) and angular (w) velocities of the plant, the overall error is given by:MSEV=1N∑K=1Nv(k)−v˜(k)2MSEW=1N∑K=1Nw(k)−w˜(k)2Errorglobal=MSEv+MSEwThis is used to represent the entire length of each ant generated graph.Due to the nature of the problem, we do not have previous heuristic information to make a balance between the influence of the knowledge we have a priori of the problem and the pheromone trails that ants have generated, thus the dynamic variation of the alpha parameter had a null effect on the convergence of the algorithm when applied to the optimization of membership functions (Fig. 18).Then it was decided to continue with the same strategy of convergence control, but this time by varying the evaporation rate (ρ) and the weight to be given to the amount of pheromone that each ant leaves on its trail (w) to control diversity, so another fuzzy system is implemented for this task.The controller now uses as inputs, the error (e) and change of error (ce) with respect to an average lambda branching factor reference level (Fig. 18) and provides as output the evaporation rate corresponding to arcs, which belong (ρbs) and do not belong (ρ) to the best so far tour, in addition to an increase in the weight that is given to the pheromone increment of the arcs that form part of the best so far tour (ubs) and the remaining arcs (u) in ASRank (Fig. 19).Again the rules are created with the intention to keep the average lambda branching factor at some particular level to slow the convergence process and are shown below (Fig. 20):Thus Eqs (2) and (4) corresponding to the evaporation and pheromone deposit process in ASRank become:τijbs←(1−ρbs)τijbs,∀(i,j)∈Tbsτij←(1−ρ)τij,∀(i,j)∉Tbsτij←τij∑r=1w(w−r)(u)(w−1)Δτijr+ubsΔτijbsΔτijr=1crandΔτijbs=1cbsThe model of the mobile robot and the path used in the simulations performed by the ACO algorithm are defined in [23]. The approach described in the previous section is able to maintain diversity at the required level (Fig. 21) unlike the convergence controller that was tested in Section 5.In this case 30 experiments were performed with the proposed approach (Table 15) to compare the performance of classical approaches with the developed proposal. The parameters used in the experiments are presented in Table 14.With the exception of ASRank, the average simulation results obtained are very similar. The proposal obtained the lowest average, but despite this it was EAS which generated the lowest MSE controller (Fig. 23) and therefore the more accurate trajectory (Fig. 22).It is difficult to determine whether the proposal improved over the classical approaches with the above analysis, so a Z test for two samples means is performed to achieve a conclusion (Table 16).No statistical evidence was found with a significance level of 5% that the average of AS or EAS is greater than the average of ASRank+CONVCONT (Fig. 24a and b).With a significance level of 5%, there is statistical evidence that the average of the results of simulations of ASRank is greater than ASRank+CONVCONT (Fig. 24c), that is, the proposal was only able to outperform the ASRank variant.The results obtained with the developed proposed approach are compared with the ones obtained by [5], where the same membership function optimization problem was considered for the same fuzzy trajectory controller and unicycle mobile robot model, the difference lies in S-ACO as strategy used to solve the problem and the directed graph of 12 nodes chosen to represent it.At first glance it can be observed that the best result of ASRank+CONVCONT is significantly lower than S-ACO as well as the average of the results obtained in the experiments (Table 17), this is reflected in the path generated by each controller (Fig. 25), therefore we conclude that its performance is higher.To support the above a t-test for means of two samples is performed, for which we considered a random sample of 10 experiments per technique to compare their performance.The null hypothesis claims that the average of S-ACO is less than or equal to ASRank+CONVCONT.H0: μS-ACO≤μASRank+ConvContHa: μS-ACO>μASRank+ConvContα=0.05Since t is located at the rejection zone with a significance level of 5% and 9 degrees of freedom there is sufficient statistical evidence to prove that the average of S-ACO is greater than ASRank+ConvCont (Fig. 26), that is, the developed approach outperforms the method used by [5] and therefore likewise AS and EAS by the analysis of Section 9.

@&#CONCLUSIONS@&#
Maintaining diversity is important for good performance in the ACO algorithm. An adaptive control strategy of the parameter alpha for this purpose is proposed, which is embodied in a diversity fuzzy controller, which allows avoiding, or delaying the total convergence and thereby controlling the exploration and exploitation capabilities of the algorithm.The proposed strategy is compared with 3 variants of the ACO algorithm on several instances of the TSP taken from TSPLIB. An improvement is observed by dynamically changing the alpha parameter value, as is noted in the statistical analysis performed, where the proposed approach outperforms the classical strategies.It was found that the alpha parameter is not the most appropriate when there is no heuristic information to guide the search as is the case with the optimization of membership functions, since it is not possible to balance between the previous knowledge of the problem and by the generated by the algorithm itself during its execution and thus control the convergence of the algorithm. So it was decided to continue with the same strategy for this kind of problem, but varying the evaporation rate and the weight, which is given to the amount of pheromone which each ant deposited, and this allowed controlling the convergence of the algorithm without heuristic information. This modification improved the performance of ASRank, however since this variant scored the lowest performance, is probably not the most appropriate in these cases.The formulated strategy is outperformed by AS and EAS in the membership functions optimization problem, but managed to outperform the method developed in [5], so it was concluded that the improvement could not come from the convergence control made and is attributed to the way in which the problem is encoded.As future work, we intend to apply convergence control to other variants of ACO algorithm. Modify the reference, and thus diversity in an intelligent way, depending of the search progress or some other performance measure. Look for heuristic information relevant to the membership functions optimization problem that drives the search process in early iterations of the algorithm, making it possible to use the strategy of dynamic variation of the parameter alpha and an analysis in presence of noise of the generated controller by ACO algorithm. Finally, the proposed approach could also be extended as a multi-objective optimization method to improve results [41].