@&#MAIN-TITLE@&#
A direct and fully general implementation of influence lines/surfaces in finite element software

@&#HIGHLIGHTS@&#
Direct method for computation of influence lines/surfaces in any FE program.The method identifies an influence function by a single load case of consistent forces.The method is general and can be applied for all structural finite elements.

@&#KEYPHRASES@&#
Influence lines,Müller-Breslau principle,Consistent nodal forces,

@&#ABSTRACT@&#
In the paper a general and direct method for implementation of influence lines in finite element software is provided. Generally influence lines are applied to identify the most critical location and combination of live loads in civil engineering structures. The proposed method is based on the Müller-Breslau principle and the basic idea is to equate discontinuous displacement fields with consistent nodal forces, thus obtaining influence functions only applying a single load case without changing the geometry or boundary conditions of the finite element model. Initially the method is developed by means of some illustrative beam problems, where the consistent nodal forces for angular, lateral and axial displacement discontinuities for a Bernoulli-Euler beam element are derived. Finally it is shown that the method is fully general and efficient in identifying the influence functions of generalized stresses in e.g. plates and shells.

@&#INTRODUCTION@&#
In the design of civil engineering structures, which are subjected to extensive live loads, it is of great concern to identify the load condition that causes the most critical structural response in an arbitrary design point of the structure. Where the location of live loads have to be identified in more complex structures, it is not an intuitive task. Each structural element has to be designed to carry the worst live load combination and here the influence lines efficiently identify where the live load has to be located, to cause the most critical structural response, e.g., the displacements, the sectional forces or stress states in a given point i. Currently none of the leading general finite element software packages, such as ANSYS, ABAQUS, ADINA, MSC Nastran have, to the authors knowledge, applications for constructing influence lines/surfaces. Software packages such as SAP2000 and Autodesk Robost Strutural analysis, which targets more directly civil engineering design problems, have subroutines capable of constructing influence lines or surfaces by means of unit load stepping. The aim of this paper is to facilitate a more direct and efficient method for obtaining these influence functions, without unit load stepping. The method can be implemented by any structural finite element software, commercial or not. The method of constructing influence functions is initially explained by beam problems, where the influence line is a function, δi(s), which states the influence in a point i for a unit force located at a point of coordinate s. The most utilized method for establishing influence functions in commercial finite element software is by means of a unit force stepped through the entire structure, while the influence is measured in node i of interest, see e.g., [1,2]. In Fig. 1this is exemplified by constructing the influence line of the bending moment at the mid-section of a two span continuous beam. The continuous beam is subjected to a unit load P, which is stepped through the entire structure. For each increment of s the influence is measured at point i and is illustrated as the ordinate δi(s) for the unit load situated at distance s. In this case it is clearly seen that the worst location of concentrated live load P is in the middle of the left span, hence it gives the maximum positive influence, while live load situated in the right span causes a negative influence and thus a negative contribution to the moment in point i. The influence lines provides a sound interpretation of the critical position of the live load.The paper in the succeeding sections will consider a more convenient calculation method for establishing influence lines, based on the Müller-Breslau principle, [4]. The principle is based on Betti’s law of virtual work [5] and Maxwell’s theorem of reciprocal deflections [6], which states that the virtual work done by the forces in a system 1 acting with the corresponding displacement field in system 2 is equal to the virtual work done by the forces in system 2 acting with the corresponding displacement field in system 1. The principle states that the influence line of a sectional force is constructed by the deflected shape of a structure where the constraint of a given point is released and subjected to a unit displacement or rotation discontinuity respectively. The principle is sketched in Fig. 2, and it is seen that the only work performed, is between the internal moment of system 1 and the rotation discontinuity and additionally the external unit force of system 1 with the transverse deflection, w(s), of system 2. Only reactions forces exists in system 2, which does not perform any work with the displacement field of system 1. According to Bettis law, the work performed by the two systems is expressed by:(1)1·w(s)+(−M)·1=0⇒M=w(s)Where w(s) is the lateral displacement in the discontinuous displacement field of system 2, and w(s) is thus the influence line of M. By means of the Müller-Breslau principle, the influence lines of sectional forces can be constructed for any given point i in the structure and the method is both suited for hand calculation and the finite element method, as shown in previous works [3,7,8,10]. In [7], the Müller-Breslau principle is explicitly modeled by means of the finite element method by releasing the degree of freedom corresponding to the given sectional force of concern and subject it to a kinematic restriction, as illustrated in Fig. 3. From a finite element modeling point of view, the method used in [7] inconveniently requires a new finite element model for each influence line of concern, because the boundary conditions have to be modified. [9] suggests a different approach, where the influence lines are computed by the adjoint method, which uses the influence coefficient, known from sensitivity analysis in structural optimization. The adjoint method is not directly suitable for implementation in commercial finite element software, because the influence coefficients are not a explicit result of the traditional finite element formulation, and consequently additional programming is needed. Therefore it is desirable to develop a more direct approach for computing influence lines, without the need of extra modification of the FE model or complex formulations of the finite element scheme.A more direct determination of influence lines in finite element software is achieved by representing the discontinuous displacement fields from the Müller-Breslau principle by means of consistent nodal forces. The method is accounted for in the following by means of simple 2D Bernoulli-Euler beam elements. In Fig. 3, the consistent nodal forces for axial and transverse translation and rotation discontinuity are sketched, and the detailed derivation of these consistent nodal forces for the 2D beam element can be seen in Appendix A. The direct determination method has also been proposed in [8], but this method does not take the local element deflection into account, hence special discretization of the FE model is required, to construct the correct influence line. Including the local contribution makes it possible to construct the entire influence line for a arbitrary design point, without changing the element discretization.The procedure for constructing influence lines by consistent forces for a beam element is described in 5 steps. The method is initially exemplified by means of the three span beam in Fig. 2. The FE discretization is seen in Fig. 4, and only 3 elements are needed to construct the influence line of the bending moment at midspan in element 1. The influence line is determined by the following approach:1.Select the element and locate the point i and select a stress component.Determine the consistent nodal forces using Appendix A.Subject the consistent nodal forces to the structure and determine the global displacement field w.Determine the local displacement contribution wlin the element with the discontinuity.The influence function is determined asw+wl.Conducting step 1 to 3, the method provides the correct influence function outside the element, while the internal displacement is not correct internally, because it is not discontinuous. In the case of the 2D Bernoulli-Euler element, the local displacement effect of the axial, transverse or angular discontinuous displacement field is calculated in Appendix A. Conducting step 4 and 5 establishes the complete influence line, see Fig. 4.In the following section, the method used in [7] is compared with the method of consistent forces. Both methods can be implemented in any finite element software, which will be exemplified by means of the frame structure seen in Fig. 5. The task is to construct the influence line of the shear force at design point i, employing the method of consistent forces. The consistent forces for the transverse discontinuity at node 3 and 4 in element 3 have to be determined. The consistent forces are derived in Appendix A and stated in Eq. 2 and the sign convention is stated in Fig. 3.(2)r(2)=12EIℓ3,r(3)=6EIℓ2,r(5)=−12EIℓ3,r(6)=6EIℓ2The local displacement field has to be added asw+wland its computation is conducted in Appendix A. Technically this is achieved by adding the local displacement field wlseparately for the given element. By superposition of the global (Fig. 6) and the local discontinuous displacement field, the final influence function can be determined, as illustrated in Fig. 7. The influence line indicates that a vertical load has positive influence on the shear response if it is located in element 4 and almost all of element 3. A horizontal load has positive influence if it is applied in the x direction of element 1 and 5 and a part of element 6 and 7. Employing the Müller-Breslau explicitly, as suggested in [7], two coincident nodes have to be modeled and coupled such that the transverse displacement constraint is released and the released ends satisfies the kinematic conditions sketched in Fig. 3b. Each released end is given a unit force in opposite direction, resulting in the same influence lines, as illustrated in Fig. 7.In the following example, the efficiency of the new method, will be illustrated for a case with complex load configuration. Complex live load configurations are distinct in the design of bridges, where the live load e.g., consist of a number of truck loadings, as illustrated in Fig. 8. In this example force P1 to P3 illustrates the design wheel load of a truck, with a predetermined distance between the loadings. In this example, the influence line of the pre-stressing force of cable 1–2 is of concern. The task is to identify the location of the live load causing the most critical tensile force. To construct the influence line for e.g., cable 1–2, the given element must be subjected to an axial displacement discontinuity. The local consistent nodal forces are determined as:(3)r(1)=−r(4)=−EAℓSubjecting the nodal forces to the cable element 1–2, creates the global displacement field as seen in Fig. 9. The influence line is directly the deformed bridge head. The influence line for each load Piis affine, but the influence line for Pi, have a delayed displacement ofdi−1. The task is to determine the location of the load train that causes the maximum response in the cable. The response curve is constructed by multiplying the influence line i with the given load Pi. The total response function is computed by summarizing each individual response function:(4)N(s)=∑i=1:3Pi·δi(s−di−1)where N(s) is the axial force response in the cable for the load train located at s. The individual and total response curves can be seen in Fig. 10and it is seen that the live load has to be situated at ℓmaxfor maximum response in the cable. It can furthermore be seen that the minimum response is almost zero. The current example shows that the proposed method provides a simple and direct approach for studying influence and response functions in a finite element analysis without subsequent geometrical modification of the model, when multiple load cases and cross sections have to be analyzed.The consistent load vectors used in the previous sections can be achieved in a more generalized format, which enables the use of the method in other element types, such as plate and shell elements. The offset is the definition of stresses in a given finite element.(5)σ(xi)=EB(xi)dlocalwhereσ(xi) is a vector of local stress components at point i, E is the constitutive matrix, B is the strain interpolation matrix and d is the elements local degree of freedom. The influence function, denoted by δ, of a stress component at a internal point,xi, is determined by:(6)δ(σ(xi))=δ(EB(xi)d)=EB(xi)δ(dlocal)asEB(xi) is constant. The stress componentsσ(xi)is linearly dependent on the displacement field d, consequently it is possible to construct the global influence function by a linear combination of the influence for each individual degree of freedom. This is for simplicity again exemplified by the Bernoulli-Euler beam, as in Section 2. TheBmatrix for the Bernoulli-Euler element can be seen in e.g., [11].(7){N(η)M(η)}=[EA00EI][−1l001l000−6+12ηl2−4+6ηl06−12ηl2−2+6ηl]{u1w1θ1u2w2θ2}whereη=x/l. By inspection, it is seen that the elements inBare the same as the consistent forces derived in Appendix A, where B(1,1) and B(1,4) corresponds to the consistent forces derived in A.13 and B(2,2), B(2,3), B(2,5) and B(2,5) corresponds to the consistent forces derived in A.4. This shows that the total influence function of a local stress component inside the element can be derived as a linear combination of the influence function of each displacement component. In the case of a Bernoulli-Euler beam element, the shear force is not a generalized stress component, accordingly it must be derived from the influence function of the bending moment. The general method of consistent forces does not directly consider the local element discontinuities. This is acceptable, because in e.g., plate or shell problems the internal element displacement discontinuity has an insignificant effect on the computation of the influence functions as the size of the element minimizes. A prerequisite for the direct method of constructing influence functions, is that the strain-interpolation matrix is accessible to the user.In commercial finite element software, theB-matrix is not always available to the user, and a simple method for constructing influence function is provided below. A simplified method can be derived, by accepting that the form of the influence function is correct, but not its scale. In the following the simplified approach is exemplified by a plate. The static equivalent forces due to inter element discontinuities is again utilized. The consistent forces for Myand Mxyare sketched in Fig. 11, and it is assumed that the bending only contributes to the consistent forces. This simplified approach is studied by the plate problem from [8], cf., Fig. 12. The plate is simple supported on all edges and the task is to construct the influence function for Mxyand Myin point i. Computing the influence function for My, requires consistent forces equivalent to a rotational discontinuity, as sketched in Fig. 11. The bending moment is applied as sketched, and each component is of unit magnitude. Applying these forces as a single load case to the finite element model results in the approximate influence surface as seen in Fig. 13. The influence surface shows as expected, that locating live load in a rather concentrated part of the plate, surrounding point i, will distinctly influence the bending moment My. The same procedure is conducted for computation of the influence surface for Mxy, see Fig. 14. The influence surface shows, that loads located on a diagonal crossing point i will have the largest influence on the twisting moment Mxy. Compared to the influence function obtained in [8], the shape of the influence function is correct. Thus a very direct and simplified approach has been provided for constructing influence function for stress components of plate or shell elements.

@&#CONCLUSIONS@&#
