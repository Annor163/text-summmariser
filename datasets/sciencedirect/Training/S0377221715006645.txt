@&#MAIN-TITLE@&#
Optimization and strategic behavior in a passenger–taxi service system

@&#HIGHLIGHTS@&#
To study the optimization of a passenger–taxi matching system.To analyze the behavior of socially concerned and selfish passengers.To derive the optimal taxi buffer size by maximizing the social welfare.To provide a policy to balance the benefit between passengers and taxi.

@&#KEYPHRASES@&#
Double-ended queueing system,Equilibrium,Optimization,Strategic behavior,Threshold,

@&#ABSTRACT@&#
We study a passenger–taxi problem in this paper. The objective to maximize the social welfare and optimize the allocation of taxi market resources. We analyze the strategic behavior of passengers who decide whether to join the system or balk in both observable and unobservable cases. In observable case, we obtain the optimal selfish threshold that maximizes their individual revenues and give the conditions of the existence of the optimal selfless threshold that maximize the social welfare. In unobservable case, we discuss the equilibrium strategies for the selfish passengers and derive the optimal arrival rate for the socially concerned passengers. Further, we analyze how the government controls the number of taxis by subsidizing taxis or levying a tax on taxis.

@&#INTRODUCTION@&#
Many people have the experience that sometimes it takes long time to wait for a taxi during peak hour in an airport, a ferry terminal, or a railway station. For example, in Changi Airport of Singapore, “The long queue for taxis observed on Sunday was due to the combined effects of a peak in weekend flight arrivals at T1, as well as the crunch in taxi supply generally observed island wide between 3 p.m. and 5 p.m., when taxi drivers change shift”. Passengers complained that “the taxis just vanished before the peak hour”.11See http://www.sgcarmart.com/news/article.php?AID=11116.In some cities, the problem becomes worse with growing passenger and visitor numbers. However, during non-peak hour, there are many taxis waiting in a long queue but no passengers. As Anwar, Volkov, and Rus (2013) mentioned, when too many taxis wait at the airport, it reduces the number of taxis available to service the rest of the city and reduces the income of taxis waiting in queue because they could be more productively finding fares elsewhere. When too few taxis are available, this results in travelers having to wait in line for long periods of time. The above issue motivates us to study the matching problem between passengers and taxis. What is the optimal taxi buffer size? In what case the government should subsidize the taxi drivers? And in what case the government should levy a tax on the taxi drivers? Our purpose is to answer those questions and provide some efficient strategies to coordinate passengers and taxis and improve the system performance in the point of view of social welfare. This paper is also motivated by a transportation project being studied in Macau.We study this passenger–taxi issue by modeling it as a double-ended queueing problem. Queueing theory is a mathematical method that studies the random phenomena and the working processes of random service systems, which have been widely used in many areas. Among a variety of queueing systems, double-ended queueing system are very common and have a wide applications in computer science, perishable inventory system, organ allocation system.The double-ended or matching queue problem was first proposed by Kendall (1951), who introduced an example about passengers and taxis: in an orderly taxi rank, on one side a queue is formed by the arrival of a stream of passengers who wait for taxis, while on the other side, a queue of taxis wait for passengers. Kendall (1951) pointed that the size of the queue was the difference between the passenger arrival rate and the taxi arrivals. The author also pointed that the mean of queue length was equal to zero when the two arrival rates were equal and the variance of queue length increases infinitely with the time. Moreover, based on results of Skellam (1946), Kendall (1951) gave the probability distribution of the queue length and proved that the double-ended queue did not have steady-state probability under the constant arrival rates. Dobbie (1961) considered the nonhomogeneous Poisson arrival of passengers and taxis and obtained transient probability by using Laurent generating function. Jain (1962) examined a double-ended queueing system in which only finite capacity for taxis were available and the inter-arrival distribution of taxis was general. The author obtained the time-dependent probability generating function. Similar to the model by Jain (1962), Bhat (1970) considered the control problem in which the system is controlled by calling extra taxis whenever the total number of passengers lost reaches a certain predetermined number. The author gave the transient and steady-state probability of the process by using renewal theoretic arguments and obtained the optimal value of the control variable to minimize the total cost. Giveen (1963) further discussed the double-ended queueing system with nonhomogeneous Poisson arrival process and showed that the steady-state probabilities exist only if the mean and the variance of the queue length remain finite as time become infinite. Kashyap (1966)1967) considered the general arrival of passengers and the Poisson arrival of taxis and assumed that each taxi can take a fixed number of passengers. The probability of an empty state was obtained by the supplementary variable technique. Wong, Wong, Bell, and Yang (2005) adopted an absorbing Markov chain to model the searching process of taxi movements and proposed a useful formulation for describing the urban taxi services in a network. Crescenzo, Giorno, Kumar, and Nobile (2012) considered a double-ended queue with catastrophes and repairs and obtained steady-state and failure-state probabilities.The above literature mainly studied the performance measures of double-ended queue models. Mendoza, Sedaghat, and Yoon (2009) imposed thresholds on both sides of the queues to assure stability in the absence of abandonment and investigated minimization of the expected total cost. Kim, Yoon, Mendoza, and Sedaghat (2010) utilized a simulation approach to investigate the system. The authors also conducted sensitivity analysis and found that batch size considerably affected the performance of the model. Moreover, if expectations of the batch size distributions were the same, the model was insensitive to the types of such distributions.Conolly, Parthasarathy, and Selvaraju (2002) studied a double-ended queueing system with impatience. The concept of “impatience” is also known as “reneging”. The taxi queue is shortened by the arrival of passengers or by “impatience” of taxis and vice versa for the passenger queue. The authors assumed that both taxis and passengers arrive based on Poisson streams, and that the taxis impatiently depart with exponential parameter μ1,nwhen n taxis are in the queue. Similarly, passengers impatiently depart with exponential parameter μ2,nwhen n passengers are in the queue. By constructing a two-dimensional Markov process, the authors derived the moment generating function and the expected first passenger times. Afèche, Diamant, and Milner (2014) first gave the closed form results for a double-ended queueing model with batch arrivals and abandonment. The passengers and taxi drivers in our paper can be also considered “impatient”, but different from the literature, they determine whether to join the system or balk based on their utilities, rather than only based on the number of passengers/taxis in the system.Double-ended matching systems are very common in the other areas: computer science, perishable inventory system, organ allocation system. For example, different types of components are piled for matching in an assembly line; organs and patients wait for matching in health care. Zenios (1999) considered a double-ended matching problem between several classes of organs and patients who would renege due to death. Gurvich and Ward (2014) considered the optimal control of matching queues with dynamically arriving jobs. Other literature related to double-ended queue areYang, Leung, Wong, and Bell (2010), Yang and Yang (2011) and Wong, Szeto, and Wong (2014).We can see that most of above literature focus on studying the performance measures of the passenger–taxi queueing system, for example, the passenger/taxi waiting time. Some of them did study the optimization, but they did not consider the passenger/driver behavior. In this paper, we contribute to the literature by introducing the strategic behaviors of passengers which really affect the service provider’s decision on the taxi buffer size. To the best of our knowledge, no studies explicitly considered the optimization problems of the double-ended queueing systems with the strategic behavior of passengers. The main contributions of this paper are three folds:(1)analyze the behavior of socially concerned and selfish passengers;derive the optimal taxi buffer size by maximizing the social welfare; andprovide the government a policy to balance the benefit between passengers and taxi drivers by granting subsidy to drivers or levying a tax on drivers.Several excellent studies on equilibrium strategic behavior, pricing, and the interaction between service quality and congestion. Inspired by the problem raised in connection with the control of vehicular traffic congestion on a road network, Naor (1969) discussed a queue where a uniform toll was imposed on customers who want to join it. The author pointed out that self interest did not ordinarily lead to overall optimality. Shone, Knight, and Williams (2013) considered two different types of optimal customer behaviors (selfishly optimal and socially optimal) in observable and unobservable cases. Under both types of customer behavior, the authors established necessary and sufficient conditions for equality of optimal queue-joining rates between the observable and unobservable cases. And the authors drew a comparison between two cases on performance measure under the equality of optimal joining rates. Similar to Shone et al. (2013), we also consider these two different types of customer behaviors to study their impact on the social welfare.Yang, Guo, and Wang (2014) investigated customers’ equilibrium queueing strategies in both monopoly market and duopoly competition market. Then, the authors analyzed the servers’ pricing decision. They found that profit- and welfare-maximizing prices were not the same in a monopoly market. Several other studies related to equilibrium strategies include Luski (1976), Allon and Federgruen (2007), Debo, Toktay, and Wassenhove (2008), Veeraraghavan and Debo (2009), Zhou, Chao, and Gong (2014a), and Zhou, Lian, and Wu (2014b).The rest of the paper is organized as follows. In Sections 2 and 3, we introduce the model in detail and analyze the stationary probability and other system performances. In Section 4, we analyze the impact of taxi buffer size on social welfare and obtain the optimal taxi buffer size; further, we discuss the strategic behavior of selfish and socially concerned passengers in observable and unobservable cases. In Section 5, we present some numerical examples showing the effectiveness and correctness of the theoretical results. Finally, we conclude the paper in Section 6.In this paper, we consider a passenger–taxi queueing system. Passengers arrive in batches according to a Poisson process with rate λ1. Taxis arrive according to a Poisson process with arrival rate λ2. Each batch of passengers consists of one to five persons, who can be exactly taken by a taxi. For convenience, we can consider each group of passengers as a passenger. The passengers and taxis are arranged based on a first-come-first-served discipline. The waiting space for taxis is finite. Denote by N the maximum number of taxis allowed to be in the taxi station. Since the space occupied by a passenger is much smaller than a taxi, it is reasonable to assume that the waiting space for passengers is infinite.We consider both observable case and unobservable case. The observable case means that passengers or taxi drivers can observe the passenger/taxi queue length upon arrival. The unobservable case means that passengers and taxi drivers do not know the exact queue length upon arrival, but they know the potential passenger/taxi arrival rate, and determine whether join the system or balk based on the their own utilities.We assume that each passenger needs to pay a taxi fare of p1 on average and receives a reward of R by taking a taxi. Denote by C1 the passenger waiting cost per unit time and C2 the taxi waiting cost per unit time. Each taxi needs to pay an overall cost of Cffor fuel and maintenance in each trip.In addition, to raise the passenger service level but avoid the transportation congestion, the government may need to adjust the taxi arrival rate by imposing tax or granting subsidy to each taxi. Denote by p2 the tax/subsidy on the taxi in each trip. p2 > 0 means government grants subsidy to each taxi; while p2 < 0 means government levies tax on each taxi.We assume that the matching time between passengers and taxis is relatively short comparing with the expected passenger/taxi inter-arrival time, i.e. the passenger/taxi arrival rates are not very high, the matching time will not affect the passenger/taxi waiting time, i.e., the matching time can be negligible. To simplify the model, we assume that the matching time is zero in this paper such that there is either only a passenger queue or only a taxi queue in the system at any time, in other words, passengers in the queue wait for the taxi arriving or vice versa, rather than really wait for matching. It is reasonable for most of taxi stations, for example, in airports, ferry terminals or railway stations.When the matching time is not negligible comparing with the passenger/taxi inter-arrival time, we can derive the expected passenger/taxi waiting times by constructing a two-dimensional Markov process. Since the mathematical model is quite different, we will analyze it in a separate paper.Denote by |N(t)|, the number of passengers or taxis in queue at time t. N(t) > 0 represents that the passengers are waiting for taxis, N(t) < 0 represents that the taxis are waiting for passengers, andN(t)=0represents that the taxi station is empty.Since the passenger/taxi arrivals follow Poisson processes, and a taxi cannot get into the station when there are already N taxis in the system, it is easy to see that {N(t), t ≥ 0} is a one-dimensional birth-and-death process with state spaceS={−N,−N+1,…,−1,0, 1, 2,…}.Proposition 1The system is stable if and only if the system utilization factorρ=λ1λ2<1.Denote byπi=limt→∞{N(t)=i}(i ∈ S) the steady state probability. The state balance equations are(1)λ1π−N=λ2π−N+1,(2)(λ1+λ2)πi=λ1πi−1+λ2πi+1,i=−N+1,−N+2,….Solving these equations recursively,(3)π−N=1−ρ,(4)πi=ρN+i(1−ρ),i=−N+1,−N+2,….We can easily get the expected passenger queue length L1 and expected passenger waiting time W1:(5)L1=∑i=0∞iπi=ρN+11−ρ,(6)W1=L1λ1=ρNλ2(1−ρ).According to the analysis results by Naor (1969), the loss probability of taxi drivers isπ−N; therefore, the expected number of taxis joining the queue in unit time equals(7)α=λ2(1−π−N)=λ2ρ=λ1.Thus, the expected queue length L2 and the expected waiting time W2 of taxi drivers are(8)L2=∑i=−N0(−i)πi=N−ρ−ρN+11−ρ,(9)W2=L2α=Nλ1−ρ−ρN+1λ1(1−ρ).Taxis are important and convenient transportation tools in a city. If the taxi buffer is too small, the expected passenger waiting time will be long; while if the taxi buffer is too big, it will waste the space. Therefore, we need to find an optimal taxi buffer size to maximize the overall social welfare.According to the results in Section 3, the passenger/taxi utility functions are given below respectively,(10)U1=R−p1−C1W1,(11)U2=p1+p2−Cf−C2W2.Each newly-arrived passenger decides whether to join the queue or balk. We assumeR⩾p1+C1λ2to guarantee that a newly-arrived passenger would be willing to wait when there is no passenger present in the system. Denote by Λ1 the potential arrival rate of passengers.First, we consider the case that the passengers are selfish. In the observable case, the selfish passengers who wish to maximize their individual revenues will follow a pure threshold strategy, which means that there exists a positive integer nosuch that every newly-arrived passenger will join the queue if the number of passengers present in the system is less than noand will balk if the number of passengers is equal to no. In other words, nois a selfishly optimal threshold. Based on equilibrium theory, noshould satisfy the following equations:(12){R−p1−noC1λ2⩾0,R−p1−(no+1)C1λ2<0.Thus,(13)no=[λ2(R−p1)C1].Then we consider the case that the passengers are socially concerned. The socially concerned passengers who care about the whole society, will set an optimal buffern1o(called as the socially optimal threshold) for themselves to maximize the social welfare. In this case, the state space isS1={−N,−N+1,…,−1,0,1,2…,n1},where n1 the buffer of socially concerned passengers, and the steady-state probabilities ηi(i ∈ S1) are(14)η−N=1−ρ11−ρ1N+n1+1,(15)ηi=ρ1N+iπ−N,i=−N+1,−N+2,…,n1.whereρ1=Λ1λ2. Since passengers are risk neutral in this case, we do not assume ρ1 < 1.The loss probability of passengers isηn1,therefore, the expected number of passengers joining the queue (the effective joining rate of passengers) in unit time equals(16)ξ=Λ1(1−ηn1)=Λ11−ρ1N+n11−ρ1N+n1+1.The loss probability of taxis isη−N; therefore, the expected number of taxis joining the queue (the effective joining rate of taxis) in unit time equals(17)ζ=λ2(1−η−N)=Λ11−ρ1N+n11−ρ1N+n1+1.Thus, the expected queue lengths of passengers and taxis are(18)L1=∑i=0n1iπi=ρ1N1−ρ1N+n1+1[−n1ρ1n1+1+ρ1−ρ1n1+11−ρ1],(19)L2=∑i=−N0(−i)πi=11−ρ1N+n1+1[N−ρ1−ρ1N+11−ρ1].Consequently, the social welfare in this case is(20)Z1(n1)=ξ(R+p2−Cf)−C1L1−C2L2−CN=11−ρ1N+n1+1{Λ1(1−ρ1N+n1)(R+p2−Cf)−C1ρN[−n1ρ1n1+1+ρ1−ρ1n1+11−ρ1]−C2[N−ρ1−ρ1N+11−ρ1]}−CN.Sincen1o∈argmaxn1Z1(n1),the maximum pointn1oshould satisfy the following two inequalities:Z1(n1o)−Z1(n1o+1)⩾0,Z1(n1o)−Z1(n1o−1)⩾0,which are equivalent to(21)−Λ1(R+p2−Cf)(1−ρ1)2+C1ρ1[(n1o+1)(1−ρ1)−ρ1N+1(1−ρ1n1o+1)]−C2ρ1[N−Nρ1−ρ1+ρ1N+1]⩾0,(22)Λ1(R+p2−Cf)(1−ρ1)2+C1ρ1[−n1o(1−ρ1)+ρ1N+1(1−ρ1n1o)]+C2ρ1[N−Nρ1−ρ1+ρ1N+1]⩾0.Further manipulations lead to the inequality:(23)n1o(1−ρ1)−ρ1N+1(1−ρ1n1o)⩽MC1ρ1⩽(n1o+1)(1−ρ1)−ρ1N+1(1−ρ1n1o+1),whereM=Λ1(R+p2−Cf)(1−ρ1)2+C2ρ1[N−Nρ1−ρ1+ρ1N+1].M1C1ρ1is independent ofn1o. Thus, to deal with (23), we only need to analyze the continuous function(24)νs(νo)=νo(1−ρ1)−ρ1N+1(1−ρ1νo),which depends on two independent variables ρ1 > 0 and νo≥ 1. The optimaln1o=[νo*],whereνo*satisfies(25)νo*(1−ρ1)−ρ1N+1(1−ρ1νo*)=MC1ρ1.Theorem 1(1)Whenρ1=1,there is no positive numberνo*satisfying(25). There is no socially optimal threshold.When ρ1 ≠ 1, the function νs is increasing in νo. Ifνs(1)>MC1ρ1,there is no solution toEq. (25); ifνs(1)<MC1ρ1,Eq. (25)has a unique solution that satisfyingνo*>1; ifνs(1)=MC1ρ1,equationEq. (25)has a unique solution, i.e.,νo*=1.See Appendix.□From Theorem 1, it is easy to obtain the corollary below.Corollary 1When ρ1 ≠ 1 and νs(1) ≤ 1, ifνs(λ2(R−p1)C1)⩾MC1ρ1,thenn1o⩽no; ifνs(λ2(R−p1)C1)<MC1ρ1,thenn1o>no.In unobservable case, passengers adopt the same randomized strategy q ∈ [0, 1] to decide whether to join the system or balk. q is a decision variable representing the probability that a newly-arrived passenger joins the system. Given a probability q, the actual joining rate isλ^1=qΛ1.Firstly, we consider the behavior of individual selfish passengers whose expected waiting cost is(26)W1(λ^1)=ρ2Nλ2(1−ρ2),whereρ2=λ^1/λ2,and utility function is(27)U1(λ^1)=R−p1−C1W1(λ^1).Theorem 2In equilibrium, the strategies of individual selfish passenger are as follows:(1)if the queue of passengers is empty, any newly-arrived passenger will join the system,q=1;ifR>p1+C1W1(Λ1),q=1;ifR<p1+C1W1(λ^1),q=0;ifR=p1+C1W1(λ^1),q ∈ (0, 1).The first result is obvious since the assumptionR>p1+C1λ2. IfR>p1+C1W1(Λ1),passengers gains benefit, so that they will join the system upon arrival. IfR<p1+C1W1(λ^1),passengers cannot gain any benefit, so they won’t join the system. WhenR=p1+C1W1(λ^1),passengers can choose either to join the system or balk.□The first three are pure strategies. In the following we will focus on discussing the last mixed strategy. Denote byλ^1*the equilibrium (individually optimal) value ofλ^1. Solving the functionR=p1+C1W1(λ^1*),we obtain(28)λ^1*=λ2R−p1R−p1+C1N.Clearly,λ^1*(R)is positive, strictly increasing and strictly concave withlimR→∞λ^1*=limp1→∞λ^1*=λ2.The above equation shows thatλ^1*<λ2,which means that the selfish passengers actual arrival rate is less than the taxi arrival rate in order to avoid long waiting time.Next we consider the behavior of socially concerned passengers who are willing to maximize the social welfare. In this case, the optimization problem is(29)maxλ^1Z2(λ^1)=λ^1(R+p2−Cf)−C1ρ2N+11−ρ2−C2(N−ρ2−ρ2N+11−ρ2)−CNs.t.λ^1<λ2.The objective function in (29) is differentiable. Its first order derivative is(30)dZ2dλ^1=1(λ^1−λ2)2{(λ^1λ2)N(C1+C2)[N(λ^1−λ2)−λ2]+C2λ2}+R+p2−Cf,and its second order derivative is(31)d2Z2dλ^12=2λ22(ρ2−1)3{(C1+C2)ρ2N−1[N2(1−ρ2)2+N(1−ρ2)+ρ2]−2C2}.When N satisfies inequality (34), the functionZ2(λ^1)is concave since its second order derivative is less than zero. So there exists a unique maximum pointλ¯1*such thatdZ2dλ^1|λ^1=λ¯1*=0.Theorem 3(1) IfdZ2dλ^1|λ^1=λ^1*⩾0,thenλ¯1*⩾λ^1*. (2) IfdZ2dλ^1|λ^1=λ^1*<0,thenλ¯1*<λ^1*.Since the second order derivatived2Z2dλ^12is less than zero, the first order derivativedZ2dλ^1is a decreasing function atλ^1,the results are straight forward.□Theorem 3 provides a comparison between the arrival rates of two types of passengers – selfish passengers and socially concerned passengers – in unobservable case. Different arrival rates will have different impacts on the society.Government’s objective is to find an optimal taxi buffer size to maximize the social welfare and guarantee the non-negative passenger/taxi driver utility. To do this, we need to follow three steps. Step 1: derive the optimal taxi buffer size to maximize the social welfare without considering the passenger/taxi utilities; Step 2: adjust to the price p1 to guarantee the non-negative passenger utility; and Step 3: determine the value p2 to subsidize taxi drivers or levy on tax on taxi drivers, such that the taxi utility will not be too big or too small.Below we will show how to find the optimal taxi buffer size to maximize the social welfare.(32)maxNZ(N)=λ1U1(N)+αU2(N)−CNwhere C is the congestion cost to the society per taxi per unit time.Following Eqs. (6), (7) and (9), we can derive the expected social welfare per unit of time(33)Z=λ1(R−p1)+α(p1+p2−Cf)−C1L1−C2L2−CN=λ1(R+p2−Cf)−C1ρN+11−ρ−C2(N−ρ−ρN+11−ρ)−CN.Since the taxi fare p1 is the internal transfer between passengers and taxis, it is not shown in the social welfare function Z. Therefore, p1 does not affect the optimization of social welfare.Obviously, the social welfare function is discrete with respect to N. For convenience, it can be seen as a continuous function with positive real number N.Theorem 4The social welfare Z(N) is positive if N satisfies:(34)N(p2)<λ1(R+p2−Cf)(1−ρ)−(C1+C2)ρ(C2+C)(1−ρ).See Appendix.□Take the first order derivative of social welfare function Z(N):(35)dZ(N)dN=−C1ρN+1lnρ1−ρ−C2(1+ρN+1lnρ1−ρ)−Cand the second order derivative of social welfare function Z(N):(36)d2Z(N)dN2=−ρN+1(lnρ)2C1+C21−ρ.When 0 < ρ < 1, we can see that the value ofd2Z(N)dN2is less than zero for any positive real number N, thus the function Z(N) is concave in N. Solving the equationdZ(N)dN=0,we can obtain a unique critical point(37)N*=ln(−(C2+C)(1−ρ)(C1+C2)lnρ)lnρ−1,which is also a global maximum point.Proposition 2The optimal buffer(37)is positive only if(38)ρlnρ1−ρ<−C2+CC1+C2.(1)If N* is a positive integer, then N* is the optimal taxi buffer size.If N* is not a positive integer, we compare the value of Z(⌊N*⌋) with the value ofZ(⌊N*+1⌋). IfZ(⌊N*⌋)>Z(⌊N*+1⌋),then ⌊N*⌋ is the optimal buffer size; otherwise,⌊N*+1⌋is the optimal buffer size.If the optimal buffer size is set by the government and the inequality(38)holds, taxi drivers expected waiting time is longer than passengers expected waiting time, i.e., W2 > W1.See Appendix.□Once we derive the optimal taxi buffer, we can adjust the taxi fare p1 to guarantee that the passenger utility is non-negative. It is easy to know that adjusting the value of p1 will not change the value of the optimal taxi buffer size.Similarly, we adjust the value p2 to guarantee the non-negative taxi driver utility. p2 > 0 means that we subsidy the taxi driver with p2, otherwise, we levy tax on taxi driver with−p2.In this section, we present several examples to explore the optimal taxi buffer, optimal behavior of selfish and socially concerned passengers in observable case and unobservable case, and conduct sensitivity analyses.Example 1In the numerical evaluation of the double-ended queueing system, we first consider the optimal buffer for the taxis. Here, we choose the following arbitrary values:R=50,p2=10,C1=10,C2=10,Cf=30,C=1. We assume that taxis and passengers arrive a taxi station following Poisson processes with rate λ1 and λ2, respectively. We study the impact of the different arrival rates on the optimal buffer and the maximum social welfare (see Fig. 1). In order to guarantee the stability of the system, passenger arrival rate must be less than the taxi arrival rate. So we choose the different arrival rates as below:Case1:λ1=10,λ2=12,Case2:λ1=20,λ2=22,Case3:λ1=20,λ2=25.From Fig. 1, we find that social welfare function is concave with respect to the buffer N under the given values of parameters. The larger the λ1 and the λ2, the greater the optimal social welfare. In addition, the larger the difference between λ1 and λ2, the faster the decrease of social welfare. In other words, if the difference between λ1 and λ2 becomes large, the social welfare will become sensitive.Since the social welfare function is unimodal at N, the local critical point is the global optimal point. By formula (37), we can obtain the critical point under different arrival rates (see Table 1). Then, according to the discussion in Section 4.2, we can obtain the optimal buffer and the maximum social welfare (see Table 2). From the two tables, we find that with the increase of λ1 and λ2 simultaneously, the range of buffer that guarantee the positive social welfare expand, and both the optimal buffer and maximum social welfare also increase. Compareλ1=20,λ2=22withλ1=20,λ2=25,we find that with the increase of the difference between λ1 and λ2, the range of buffer and maximum social welfare still increase; however, the optimal buffer decreases.In this example, we will present the numerical results in strategic behavior of passengers in observable case. Assume the values of parameters R, p2, C1, C2, Cfand C are the same as the ones in Example 1. Firstly, we present the optimal selfish threshold of passengers in Table 3who only care about their own benefits. From formula (13), we know that the optimal selfish threshold is only dependent on λ2, R, p1 and C1. Fix the taxi fare p1, the greater the value of λ2, the larger the optimal selfish threshold; while fix the value of λ2, the higher the taxi fare, the smaller the optimal selfish threshold.Then we consider the strategic behavior of socially concerned passengers who pursue the maximization of social welfare. Based on formula (23), we yield the optimal social threshold when Λ1 < λ2 and when Λ1 > λ2 in Tables 4and 5, respectively. Compare the two tables, we find that if the values of other parameters are the same, the optimal social threshold when Λ1 < λ2 is always greater than one when Λ1 > λ2. And the two tables also show that the optimal social threshold increases with the increases of buffer. Besides, when Λ1 < λ2 (see Table 4), the larger the difference between Λ1 and λ2, the greater the optimal social threshold; Conversely, when Λ1 > λ2 (see Table 5), the larger the difference between Λ1 and λ2, the smaller the optimal social threshold.In this example, we give the numerical results of strategic behavior of passengers in unobservable case. AssumeR=50,p1=10,p2=10,C1=10,C2=10,Cf=30andC=1. Table 6gives the individually optimal passenger arrival rate under different buffer sizes and different λ2. For any fixed N, the optimal passenger arrival rate is always less than the taxi arrival rate, and the passenger arrival rate increases with the taxi arrival rate. If the taxi arrival rate fixed, the optimal passenger arrival rate is an increasing function of buffer N. But the growth rate of the optimal passenger arrival rate is slow, in other words, the optimal passenger arrival rate is insensitive to the taxi buffer size.Figs. 2and3depict the trajectories of social welfare function in terms ofλ^1under different buffers (givenλ2=12andλ2=30,respectively).λ^1is the effective arrival rate of passengers who are willing to maximize the social welfare in unobservable case. Figs. 2 and3 tell us with the increasing of buffer, the effective arrival rate of passengers will decrease. When N is larger than 10, the social welfare is strictly increasing inλ^1; when N is sufficiently small (for exampleN=2), social welfare is concave inλ^1. Besides, compare Fig. 2 with Fig. 3, we find that when the arrival rate of taxis λ2 is sufficiently large, the effective arrival rate of passengersλ^1is linear with buffer N.Respectively, given bufferN=2andN=10,Figs. 4and5show the social welfare function with respect toλ^1under different values of λ2 in unobservable case. In Fig. 4, we find that the social welfare function is concave inλ^1when λ2 is small (e.g.λ2=12); but the social welfare function is strictly increasing inλ^1when λ2 is far large enough (e.g.,λ2=22). More importantly, compare the trajectories when λ22, λ25 and λ30, we can see the social welfare will remain unchanged with the increases of λ2. We can conclude that the social welfare becomes insensitive to arrival rate of taxis when λ2 > 22. Compare Fig. 4 with Fig. 5, givenλ2=12,we can see that the maximum social welfare whenN=2is about 250, which is the same as the maximum social welfare whenN=10.After calculating the solution of the first-order derivative of social welfare function withλ^1in (30), we can obtain the optimal effective passenger arrival rate (see Table 7). Table 7 gives the different solutions under different buffers and different values of λ2. If the taxi arrival rate is constant, the effective socially optimal passenger arrival rate is increasing with buffer N; If the buffer is fixed, with the increases of the taxi arrival rate, more socially concerned passengers will choose to take taxis.We present an example to find out in what case the government should subsidize the taxi drivers and in what case the government should levy tax on taxi drivers. SetR=$50,C1=$10,C2=$10,Cf=$30,λ1=20,λ2=25(ρ=20/25=0.8). According to the discussion in Section 4.2, we can get the optimal taxi buffer size=3.In this case, a passenger utility is equal to(39)U1=R−p1−C1W1=50−p1−10×0.8325(1−0.8)=48.976−p1.In order to make sure the positive passenger utility, the taxi fare p1 should be less than 48.976 dollars.A taxi driver utility is(40)U2=p1+p2−Cf−C2W2=p1+p2−30−10×(320−0.8−0.8420(1−0.8))=p1+p2−30.524.In order to encourage the taxi drivers to join the system, p2 should be larger than(41)p2>30.524−p1>30.524−48.976=−18.452.Whenp2∈(−18.452,0),it means the government levies taxes on the taxi drivers. Whenp2∈(0,+∞),it means the government subsidizes the taxi drivers.We study a passenger–taxi queueing model with strategic passengers and taxis in this paper. We found that the social welfare is concave with respect to the buffer size of taxis if the passenger arrival rate and the taxi arrival rate are close. We prove that if the taxis are limited by the optimal buffer size, on average, taxis wait longer than passengers.In the observable case, selfish passengers decide whether to join the system or balk according to a selfish threshold strategy related to their own utilities; socially concerned passengers set a socially threshold to maximize the social welfare. We show that the existence of the socially optimal threshold depends on the ratio of the potential passenger arrival rate and the taxi arrival rate.In the unobservable case, we found that the individually optimal passenger arrival rate is less than the taxi arrival rate when the passengers are selfish; the social welfare function is concave with socially passenger arrival rate when the passengers are socially concerned.To balance the benefit between passengers and taxis, the government should give subsidy to taxis if the fixed cost of taxis is larger than or equal to the average reward of passengers; while the government’s decision is dependent on the taxi buffer size if the average reward of passengers is larger than the fixed cost. In this situation, the government needs to subsidize taxis whenN∈[1,N˜]⋃[N¯,∞),and to levy a tax on them whenN∈(N˜,N¯).In this paper, we assume that the passenger/taxi matching time is negligible, which is reasonable when the matching time is relatively short comparing with the passenger/taxi inter-arrival times. While it is a limitation when both the passenger/taxi arrival rates are quite high (inter-arrival times are quite short). The matching time is not negligible any more. In that case, we need to calculate the system performance measure (expected waiting times etc.) by using a two-dimensional Markov process. We will discuss this case in the future work.

@&#CONCLUSIONS@&#
