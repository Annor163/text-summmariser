@&#MAIN-TITLE@&#
Partial retrieval of CAD models based on local surface region decomposition

@&#HIGHLIGHTS@&#
A B-rep model is decomposed into surface regions with different convexity.An optimal procedure is utilized to guide the surface partition.A kind of region codes is adopted to describe the surface regions.Partial model retrievals are realized by matching the region codes between models.

@&#KEYPHRASES@&#
Surface region decomposition,Partial retrieval,Attributed relational graph,

@&#ABSTRACT@&#
Most existing methods for 3D model retrieval focus on the global shape description and matching. However, partial shape description and retrieval may be used more frequently in the fields of product design and manufacture. In order to resolve the problem that the retrieval efficiency for complex model descriptors is low, a CAD model retrieval method based on local surface region decomposition is presented in this paper. First, according to the salient geometric features of the mechanical part, the surface boundary of a solid model is divided into local convex, concave and planar regions. Then, we give a kind of region codes that describe the surface regions and their links in the CAD model. Finally, the model retrievals are realized based on the similarity measurement between two models’ region codes. Experimental results have shown that this approach is able to support partial retrieval of CAD models.

@&#INTRODUCTION@&#
Ullmann  [1] estimated that more than 75% of product designs were case-based designs or adaptable designs. Designers usually modify existing products to meet the new requirements instead of starting from scratch. In order to seek out the reference schemes, more than 60% of design time is spent on collecting and reading the related documents. In industries, enterprises have suffered from tremendous waste due to the repeated design phenomenon. Obviously, effective information retrieval tools are helpful for solving this problem.The popularity of three-dimensional (3D) CAD systems in industries has brought about the emergence of a large number of 3D CAD models. Methods for model retrieval can help users locate the desired models for design reuse. However, most existing methods for 3D model retrieval focus on the global retrieval instead of partial retrieval. In fact, many local design structures of different 3D CAD models are more likely to be reused in engineering applications. Consequently, model retrieval based on partial shape matching may be used more frequently in product design. Funkhouser et al.  [2] showed how the partial shapes retrieved from libraries can be utilized by compositing the interesting retrieved results together in different ways to form new objects. Its benefit is that the retrieved results usually offer highly detailed geometric feature for a user design concept. Fisher and Hanrahan  [3] proposed another kind of application of partial shape retrieval, in which the strength of relationships between partial shapes of models in databases provides a clue for discovering a proper candidate partial model in a given location.Partial model retrieval needs much more computation than whole model retrieval because the former has to determine which part of a model to be matched with query model. One way to improve the efficiency is to reduce the size of the problem by making the granularity of model elements larger. Triangles in mesh models are too small, and even the faces like polygonal planes and cylindrical surfaces in B-rep models are not large enough when models are complex. So, we need the model segmentation, which divides models into new model elements with some basic characteristics, replacing triangles in meshes or faces in B-reps. In this paper, we just handle the problem for B-rep models and the model elements are boundary regions with consistent convexity.However, the boundary partitions for B-rep models also face the efficiency problem and the resulting uncertainty problem. Existent approaches in literature include region growing and clustering algorithm. The former has good efficiency but may produce different results when the program starts with different seed faces. The latter as an optimization process can give a determinate result, provided that the process has traversed all the possible combinations, but obviously its time cost is high. To address the issue of surface segmentation mentioned above, we adopt a multi-step approach, where the regions that can be identified easier are processed first and the combinatorial optimization process is only applied to the remaining areas with reduced sizes. The justification of this approach is based on the fact that some adjacent faces can be said to belong to the same region without any doubts while others may not. The previous steps form a determinate process without any seed-face inputs and do not perform any questionable face-merging, while the last step is just provided for handling questionable face-merging.After partitioning B-rep models into regions, region-matching is another task for partial model retrieval. Actually many existent methods for 3D shape comparison can be used for this purpose. Here, we adopt a relatively simple method, which is based on a kind of face-context codes. Generally, the code comparison method is faster than the methods of graph isomorphism checking, and it is also more convenient for B-rep model than the methods based on shape statistics and shape analysis. The basic assumption for using this approach is that the B-rep models are mainly composed of faces with regular geometry like plane, cylinder, cone, sphere and so on. It is worth mentioning that the code method like other face-topology matching approaches is not suitable for mesh models. This is because the same 3D shape may be tessellated in different ways with different mesh topologies. But topologies of B-rep models in mechanical engineering are determined by their face geometries (plane, cylinder, cone, sphere and so on); if two adjacent faces have the same geometry, they should belong to the same face. Therefore, it is reasonable to use the proposed region-matching method for partial CAD model retrieval.Based on the motivations described above, a partial retrieval method for CAD models is proposed in this paper. In this method, FAG representations for each library model and retrieval model are created from their B-rep models first, and then they are decomposed into convex, concave and planar regions. After the surface decomposition, a kind of region codes is adopted to describe the surface regions and their links in the CAD models, and finally the partial model retrieval is realized with the comparison of their region codes. The experimental results have shown that the proposed approach is feasible.The rest of this paper is organized as follows. First, a brief review of the related literature is presented in Section  2. Then, local surface region decomposition is introduced in Section  3. In Section  4, a kind of region codes that describes the surface region and their links in the CAD model are presented in detail. Following this, partial retrieval approach for CAD models is developed in Section  5. Section  6 presents some results of experiments that apply the proposed approach to the partial retrieval of CAD models. Finally, the paper ends up with some conclusions in Section  7.

@&#CONCLUSIONS@&#
In this research, a partial CAD model retrieval approach is developed by handling model’s face adjacency graphs, which mainly consists of three aspects: local surface region decomposition, surface region description based on shape codes, and local shape comparison through matching the region shape codes. To reflect salient geometric features in a model, which are the basic shape elements in most partial model retrievals, the region decomposition is performed by separating regions with different convexity. For user’s queries with hybrid convexity, multiple regions with different convexity can be considered simultaneously. To address the issue that there exist alternative decompositions based on region convexity for a given model, which may cause the indeterminate problem in the retrieval, the decompositions for both query models and data models are carried out with a determinate process controlled by an appropriate optimization criterion. Although local regions are often with relatively less faces compared with whole models, their matching efficiency still needs to be guaranteed with certain measures for practical applications. Here, face context codes combined with the codes reflecting region’s convexity and relations are further generated from region’s FAG to serve as the substitutes of the original FAG shape description, and consequently the matching efficiency is achieved by replacing the subgraph-isomorphism checking process with the comparison of the codes. Experiments show that the face context codes have good shape differentiating capability. In summary, the proposed approach is an efficient and effective approach for partial CAD model retrieval.