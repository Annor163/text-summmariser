@&#MAIN-TITLE@&#
Exploring the sequential usage patterns of mobile Internet services based on Markov models

@&#HIGHLIGHTS@&#
We model users’ mobile online behavior based on a multi-state Markov model.We model users’ mobile online behavior based on a hidden Markov model.Typical sequential patterns of mobile online behavior are discovered and analyzed.Some managerial implications are provided through behavior pattern analysis.

@&#KEYPHRASES@&#
Mobile internet,Behavior pattern,Multi-state model,Hidden Markov model,Clustering,

@&#ABSTRACT@&#
Mobile Internet has developed rapidly, and various types of mobile Internet services have changed people’s lifestyles profoundly. Consequently, there is a broad market for mobile Internet service providers. To provide better service and attract users, service providers must understand their users’ behavior patterns. This study proposes a framework to model users’ mobile online behavior based on a multi-state model and a hidden Markov model; this study also extracts typical sequential behavior patterns through clustering methods. The results of the experiments display several characteristic behavior patterns that can guide service providers in application designing, operating, and marketing.

@&#INTRODUCTION@&#
With the development of the 3G/4G network and an intelligent terminal industry, the quantity of mobile Internet users is increasing rapidly. According to the 2014 ICT figures released by ITU (ITU 2014), the number of mobile Internet users reached 2.3billion, with 55% of these users in developing countries that lead mobile-broadband growth. By the end of 2014, China had 649million Internet users and 557million mobile Internet users, according to CNNIC survey (CNNIC 2014a). Additionally, the percentage of Chinese users accessing the Internet via mobile grew to 83.4% as of June 2014, for the first time surpassing the percentage of users (80.9%) who access the Internet via PCs (CNNIC 2014b). As the figures show, the mobile Internet market is a new rapidly growing market for online service providers. To seize mobile Internet market share, online service providers, including telecommunication operators and Internet enterprises, are committed to developing and operating various mobile Internet services.Through mobile Internet, people can send instant messages, watch videos, read online books, order takeout and so on. All types of mobile online behavior have generated a huge volume of behavior-record data, which is stored by telecommunication operators and Internet enterprises. With the development of the mobile Internet market, the behavior data volume will continue to grow rapidly. Knowledge such as users’ preferences and habits is covered in those mobile online behavior records. By analyzing user behavior data, online service providers can understand mobile Internet users’ behavior patterns. Furthermore, that knowledge can help telecommunication operators plan network resources and design pricing policies; in addition, it can assist Internet service providers in developing marketing strategies and designing new services.In the mobile Internet user behavior research field, previous researchers have studied network traffic, geospatial dynamics of application usage and single service behavior from several aspects. However, most studies are based on a single service or focus on underlying technology aspects. To assist in business decisions, we need to extract knowledge from all-service records of user behavior and analyze this from a business perspective. Thus, we can develop managerial proposals regarding mobile online user behavior.This study proposes a novel framework for analyzing the sequential behavior patterns of various mobile Internet services. This framework transforms users’ behaviors into state transition processes, train a multi-state model (MSM) and a hidden Markov model (HMM) separately to describe user behavior and understand behavior patterns by clustering users and extracting the typical behavior characteristics of each cluster. Although both of the MSM and HMM originate from Markov model, their results are significantly different (see Section 3) and their combination can improve the understanding of behavior patterns.The remainder of this paper is structured as follows. In Section 2, the related literature regarding Internet service usage pattern and model algorithms are thoroughly reviewed. Section 3 presents this study’s framework and process. Section 4 describes the data used in this study and the experimental results. The managerial implications of the results are discussed in Section 5, and the contributions and limitations of this study are presented in Section 6.This study’s objective is to propose a novel framework for analyzing the behavior patterns of various mobile Internet services. The literature review is composed of two parts: studies on mobile Internet user behavior and the related models applied in this study. The latter includes a multi-state model, a hidden Markov model, distance computation and clustering. The literature reviews are shown in Table 1.There are some studies on mobile Internet user behaviors. Cheng and Sun (2012) used message, entertainment and micropayment services to segment customers with an improved segmentation model, the TFM (time, frequency, money) model. Wu and Chou (2011) developed a soft clustering method that uses a latent mixed class membership clustering approach to classify online customers based on their purchasing data across categories. Bose and Chen (2010) selected Internet usage, revenue, services and user categories as the research indicators to cluster customers.Zhao et al. (2013) exposed four aspects of the characteristics of service visit styles using a weighted user-service bipartite network model. Liu et al. (2012) studied mobile Internet streaming services from the server perspective and showed the great heterogeneity from traditional Internet streaming services in terms of hardware and software differences in mobile devices, different characteristics of mobile videos, and different user access patterns from those in traditional Internet streaming services. Keralapura et al. (2010) studied mobile user browsing behavior by investigating behavior patterns among mobile users based on real mobile network data collected from a large 3G CSP in North America; they also proposed and developed a scalable co-clustering methodology using a novel hourglass model. Ghosh et al. (2011) examined the characteristics of traffic observed at a large number of public Wi-Fi hot-spots deployed in two large metropolitan cities in terms of arrival counts, temporal variations, connection durations, and byte counts and categorized the different venues into certain business types. Chen et al. (2012) studied user movement behavior patterns in terms of the problem of mining matching mobile access patterns based on joining mobile, movement location, and dwell time in a timestamp and service request. Shafiq et al. (2012) provided a fine-grained characterization of the geospatial dynamics of application usage in a 3G cellular data network. Zhao constructed an empirical model for Web browsing on the mobile Internet, which showed that the size of the main object and the size of the embedded object exhibited a Pareto distribution; in addition, the number of embedded objects and the session duration fitted the Weibull distribution well, and the embedded object Inter-arrival time as well as reading time followed Lognormal distribution (Zhao et al. 2011). Lu et al. (2012) proposed a framework to combine user motion patterns and mobile purchase behaviors.From the above discussion, previous mobile Internet user behavior studies consist of network traffic, geospatial dynamics of application usage and single service behavior. In the mobile Internet data set, however, user behaviors across various mobile Internet services are recorded. For telecommunication operators and Internet enterprises, studies on user behavior of various mobile Internet services and the interrelations among services, which are based on all-service data, are more helpful for understanding mobile Internet user behavior as a whole and assist in making business decisions. In the previous mobile Internet customer segmentation studies, clustering methods were often directly applied to the customers’ usage attributes, such as the frequency of usage, the money spent on services, the time preference of service access. However, this study focus on the sequential pattern of service usage, so the clustering methods are applied on the customer distance matrix that are obtained by computing the distance between transition matrices in MSM or between HMMs (see Section 3) for each pair of customers.A multi-state model (MSM) is a model for a continuous time stochastic process that allows individuals to move among a finite number of discrete states. The change of state is called a transition or event (Meira-Machado et al. 2008). A multi-state model is usually based on the Markov assumption because there is a clear advantage of an intuitive graphical understanding of the model (Hougaard 1999). The Markov assumption is that future evolution depends solely on the current state (Jackson 2011). Cox and Miller (1977) presented a thorough introduction to the theory of continuous-time Markov chains. The MSM model is a very useful means of describing a process in which an individual moves through a series of discrete states in continuous time and finding behavioral transition characteristics in the process. In this study, it can help us understand the sequential patterns of customers’ mobile Internet usages that are described by a process in which individual customer moves through many mobile Internet services.Multi-state methods have been used in various situations. In medicine, the states can describe conditions such as healthy, diseased, diseased with complication, and dead (Hougaard 1999). Multi-state Markov models are also widely used in the social sciences, particularly in the study of data that records life history events (e.g., social mobility studies) for individuals (Kalbfleisch and Lawless 1985) and labor supply (Haan 2010).A hidden Markov model (HMM) is a tool for representing probability distributions over sequences of observations (Ghahramani 2001). This model is a doubly stochastic process with an underlying stochastic process that is not observable (hidden) but can only be observed through another set of stochastic processes that produce the sequence of observed symbols (Rabiner and Juang 1986). In this study, the observed symbols represent the mobile Internet services and the hidden process represents the patterns transition. The basic theory of HMM was published by Baum and his colleagues in the late 1960s and early 1970s (Baum et al. 1970; Baum and Petrie 1966).HMMs are especially known for their applications in temporal pattern recognition, for example, speech recognition, machine translation (Och and Ney 2004), gene prediction (Stanke and Waack 2003) and human activity recognition (Duong et al. 2005). Because HMMs are based on the discrete state sequences that are different from the continuous state sequences used in MSM model, we also adopt HMM in the study. The combination of MSM and HMM allow us to observe the sequential patterns from the views of both discrete and continuous time.There are many methods for measuring distance/similarity between two probability density functions (pdf); these are summarized as two approaches: vector and probabilistic. A probability density function can be considered a vector, as a point in the Euclidean space (Cha 2007). Therefore, Minkowski distance can be used to measure distance between two pdfs, which includes the Euclidean distance, the Manhattan distance and the Chebyshev distance. Bray–Curtis distance is widely used in ecology (Bray and Curtis 1957) when measuring the dissimilarity between pdfs. The mutual information of two random variables is a measure of the variables’ mutual dependence, which is also a measure of similarity between pdfs. Kullback and Leibler introduced the Kullback–Leibler divergence to measure the difference between two probability distributions, also called relative entropy or information deviation, which was non-symmetric (Kullback and Leibler 1951). The Bhattacharyya distance measured the similarity of two discrete or continuous probability distributions and measured the separability of classes in classification (Bhattacharyya 1946). The Hellinger distance was introduced by Ernst Hellinger in 1909; this obeyed the triangle inequality.There are many methods for measuring distance/similarity between two hidden Markov models. Juang and Rabiner proposed a distance measure for measuring the dissimilarity between hidden Markov models with arbitrary observation densities. The measure is based on the Kullback–Leibler number and is consistent with the re-estimation technique for hidden Markov models (Juang and Rabiner 1985). Rabiner proposed a measure that described how well models 1 and 2 matched observations generated by model 2 (Rabiner 1989). Bicego and his colleagues introduced a new method, BP metric, based on Rabiner’s method with the consideration of modeling goodness by evaluating the relative normalized difference between observations and the training likelihoods (Panuccio et al. 2002).In clustering, various methods have been studied by researchers. K-means is popular for cluster analysis in data mining. K-means clustering’s objective is to partition N observations into k clusters in which each observation belongs to the cluster with the nearest mean, serving as a prototype of the cluster (Lloyd 1982). The k-medoids is a clustering algorithm related to the k-means algorithm, which attempts to minimize the distance between points labeled to be in a cluster and a point designated as the center of that cluster. The most common realization of k-medoids clustering is the Partitioning Around Medoids (PAM) algorithm; in addition, Ng proposed a novel algorithm called CLARANS (Ng and Han 2002). Hierarchical clustering is a method that builds a hierarchy of clusters and presents the result in a dendrogram (Johnson 1967). This method includes two types: agglomerative and divisive.In this section, we propose and demonstrate the framework for analyzing the behavior patterns on various mobile Internet services, which includes two parts: a multi-state Markov model and a hidden Markov model. In each part, we first explain the model principle, the input data format, and how to model each user’s behavior sequence based on model. Second, the calculation of the distance between users based on the trained models is analyzed. Third, we introduce the cluster methods into the framework to segment users. Fig. 1shows this study’s process.A multi-state model describes how an individual moves between a series of states in continuous time (Jackson 2011). Suppose an individual is in stateS(t)∈{1,…,N}at timet. The movement on the discrete state space{1,…,N}is governed by transition intensitiesqrs(t,z(t)),r,s∈{1,…,N}which may depend on timet, or, more generally, also on a set of individual-level or time-dependent explanatory variablesz(t). The intensity represents the instantaneous risk of moving from statertos≠r:(1)qrs(t,z(t))=limΔt→0P(S(t+Δt)=s|S(t)=r)/ΔtTheqrsform aN×NmatrixQwhose rows sum to zero, so that the diagonal entries are defined byqrr=-∑s≠rqrs. In a time-homogeneous continuous-time Markov model, a sojourn time in staterhas an exponential distribution, with a rate given by-qrr(or mean sojourn time equals-1/qrr). The remaining elements of therthrow ofQare proportional to the probabilities governing the next state afterrto which the individual transfers. The probability that the individual moves from statertosis-qrs/qrr. Therefore, we can construct aN×Nstate transit probability matrixP, in whichprs=-qrs/qrr,r≠s. An illustration of the process of MSM is shown in Fig. 2. When fitting a multi-state model to training data, we need to estimate the intensity matrixQand the state transit probability matrixP. We use the Markov assumption that future evolution depends solely on the current state. Cox and Miller (1977) introduced the theory of continuous-time discrete-state Markov chains further and more comprehensively.Now, we consider what type of data can be used as training data for the MSM model in this study. Because of the smartphone’s characteristic, a user can only use one application on the screen at a particular point in time, regardless of applications running in the background, which is different from personal computers. If we utilize the usage of a certain application type as a state and also non-usage as a state, the entire smartphone usage can be counted as a continuous time stochastic process in which an individual moves among a finite number of discrete states. Fig. 3illustrates a simple example of the process. Suppose a user is occupied with three types of applications, services A, B, and C, which are represented by states 2, 3, and 4. If the user is not using any applications, the state is 1. As time passed, the user changed from non-usage to service B, then to service A, then to service C, and then to service A. The usages of different services may last different duration. The data of a user’s state transitions are imported as training data for a multi-state model; therefore, the training result can represent the user’s behavior patterns.During the past 10years, multi-state modeling software has advanced impressively. The statistical theory of counting processes is the preferred method for the estimation of multistate models, and R is the preferred programming platform (Willekens and Putter 2014). In this study, we apply the msm package to train models. The msm package, developed by Jackson and first published in 2002, adopts the parametric method for estimating transition rates in multistate models. The package uses the maximum likelihood method developed by Kalbfleisch and Lawless (1985b). This package accommodates the knowledge of exact times at transition, such as the data type we previously noted. We use the records of each user as an imported data set, which has three variables (Table 2). In the training settings, exacttimes are set to TRUE, which means startTimes are assumed to represent the exact times of the process transition.From the training results, we obtain rich information regarding every user’s multi-state model. As we previously noted, the mean sojourn times and the probability that the individual moves from state r to s provide more intuitive information on a continuous-time Markov model than the raw transition intensities matrices. The mean sojourn time shows information regarding separate services, and the transfer probability shows information regarding the relation among services. Considering that we focus on sequential behavior patterns, we choose transfer probabilities matrix for further study.A user’s behavior patterns are represented by the probability matrix P extracted from a multi-state model. Every row of the P matrix can be treated as a probability distribution function in an analogy method. There are many ways to compute the distance between two probability distribution functions, as noted in Section 2. We adopt the Hellinger distance (Nikulin 2001) in this study because elements in the P matrix may be 0.SetPiis the P matrix of useri, and there areNstates totally in the data.Piis aN×Nmatrix, whose rows sum to 1. The Hellinger distance between user i and user j is defined by:(2)dij=12∑r=1N∑s=1,s≠rNpsri-psrj2Thus, we can obtain the distance matrix D in whichdijis the distance between useriandj.On the basis of the distance matrix D, we segment users into k clusters using clustering algorithms. In this study, we apply clustering algorithms including the most common realization of the k-medoids clustering algorithm, the Partitioning Around Medoids (Theodoridis and Koutroumbas 2008) (see Appendix A), and the hierarchical clustering algorithms (Hartigan 1975). The clustering algorithms include the Ward’s minimum variance method (Ward) (Ward 1963) that aims at finding compact, spherical clusters and the complete linkage method (Complete) that adopts a ‘friends of friends’ clustering strategy.Estimating the optimal number of clusters is a major challenge in cluster analysis. In this study, we adopt Gap statistic (Tibshirani et al. 2001) to determine the number of clusters in every type of clustering algorithm (Appendix B). Gap statistic is a method for estimating the number of clusters; this is designed to be applicable to virtually any clustering method. After obtaining the clustering results, we apply the k-medoids method on each cluster to determine a representative user for each cluster, based on k=1.In this study, we use the hclust function in the stat package of R and the pam function in the cluster package of R to implement hierarchical clustering and k-medoids clustering, respectively. The Gap statistic can be calculated through the clusGap function in the cluster package.An HMM is a doubly stochastic process with an underlying stochastic process that is hidden, but can only be observed through another set of stochastic processes that produce the sequence of observed symbols (Rabiner and Juang 1986). A hidden process describes the transition of hidden statesXt→Xt+1at discrete time pointst→t+1,Xt∈S={S1,S2…SM}andt=1,…,T. The model assumes that the hidden process states satisfy the Markov property. That means, the stateXtat timetdepends solely on the stateXt-1at timet-1and is independent of the states prior tot-1. The observation symbolYt∈O={O1,O2…ON}at timetis emitted by stateXtin the hidden process. The observations also satisfy a Markov property on the basis of the states: givenXt,Ytis independent of the states and observations at all other time indices (Ghahramani 2001).Based on the observed symbol sequenceY1,…,YTand a specified value ofM, we can estimate (1) the initial state distributionπ={π1,…,πM},πidenoting the probability that the hidden state isSiat time pointt=0; (2) theM×Mstate transition probability matrixA={aij|i,j=1,…,M},aijdenoting the probability that hidden state transfers fromSitoSj; (3) the observation symbol probability distributionb(i)={bj(i)|j=1,…,N}for each hidden stateSi(i=1,…,M),bj(i)denoting the probability that observed symbol could beOjat hidden stateSi. The process is illustrated in Fig. 4.In this study, each observation symbolOi∈Orepresents one service, and each stateSi∈Srepresents one usage pattern because one state corresponds to a distinct probability distribution of the observation symbols (A sample illustration is given in Table 7) which shows the user’s service preference.In the previous multi-state model segment, we extract the service usage behavior as a continuous-time discrete-state Markov process in which states represent the types of services. Now we discretize the process to a sequence of points that represent services. Using each point as an observation, we obtain the observed symbol sequence data. After the data processing, the hidden Markov model can be applied to model users’ behavior patterns. In this study, we apply the hmm.discnp package in R to train models. The package is developed by Rolf Turner from the University of Auckland.A key challenge in training hidden Markov models is the determination of the number of hidden states,M, in the model. We adopt the Bayesian information criterion to select the bestM. In statistics, the Bayesian information criterion (BIC) is a criterion for model selection among a finite set of models; the model with the lowest BIC is preferred. When fitting models, it is possible to increase the likelihood by adding parameters; however, doing so may result in overfitting. BIC resolves this problem by introducing a penalty term for the number of parameters in the model. BIC is normally defined by:(3)BIC=-2·ln(L)+f·ln(T),where L means the maximized value of the likelihood function of the model, f means the number of free parameters to be estimated and T means the number of data points in training data.We use an M-states N-distinct-observations hidden Markov model and an input observation sequence Y of T points as an example. The number of free parameters in the transition probability distribution isM·(M-1), the number of free parameters in the observation symbol probability distribution isN·(M-1), and the number of free parameters in the initial state distribution isM-1. Therefore, the number of free parameters in the example model is(N+M+1)·(M-1). The BIC in this case is:(4)BIC=-2·ln(L(T|λ))+(N+M+1)·(M-1)·ln(T).We organize the behavior observation sequences in a one-day cycle. According to the package manual, we use the observation sequence of each user in each day as a vector, and combine each user’s sequences as a list. The list is the training data sets for the user’s hidden Markov model. From the training results, we obtain the initial state distributionπ, the state transition matrixA, and the observation symbol probability distributionb.After obtaining the HMM of each user, we measure the distance between users by calculating the dissimilarity between their HMMs. In this study, we adopt the method that Rabiner proposed in 1989, which described how well modelimatched observations generated by modeljand how well modeljmatched observations it generated.Suppose HMM modelλiis trained from customeri’s observation sequenceY(i)={Y1(i),Y2(i),…,YTi(i)}. We describe how wellλimatches observations generated byλj, relative to how well modelλimatches observations it generated, as:(5)D(λi,λj)=1Ti[logP(Y(j)|λi)-logP(Y(j)|λj)],whereTiis the length ofY(i). Because the measure is non-symmetric, a symmetric measure between modelλiand modelλjis:(6)Ds(λi,λj)=(D(λi,λj)+D(λj,λi))/2.The distance matrix among users can be created by computing theDs={Ds(λi,λj)}between each pair of users.As in the multi-state model, we cluster the users with the previously calculated distance matrixDs. The applicable methods include k-medoids method and the hierarchical clustering algorithm. Additionally, the number of clusters is decided by Gap statistic. K-medoids (k=1) is used in each cluster to abstract the representative users.There are several differences between MSM and HMM. First, MSM is a continuous-time model, and HMM is a discrete-time model. Now we use an example to explain the difference when we apply the two models to mobile service usage behavior. Fig. 5shows two processes. The transitions are the same; however, the durations are different. In MSM, different behavior sequences are extracted from the two processes because of the different state durations. However, in HMM, the two processes have the same training data, which starts from state 1, to state 3, state 2, and back to state 1. Therefore, when we focus on the transition of states rather than the duration of states, we should choose HMM. Second, MSM solely has a state sequence, and HMM contains a state sequence and an observation sequence. The patterns in MSM are represented by state (service) transition matrix; however, the patterns in HMM are represented by hidden states’ corresponding observation (service) distribution. Therefore, the MSM’s results provide the understanding of the sequential relationship of the services, and the HMM’s results give the insight of patterns’ transfer and services combination.In this study, the experimental data are derived from a significant telecommunications company on the Chinese mainland and is composed of the mobile Internet behavior records of 1000 customers over 28days that cover the complete four weeks. The customers are chosen randomly, but in order to ensure the reliability and validity of the analyses, we only choose the customers who used mobile Internet services every day in the period, and have used the mobile Internet services at least one year. So the chosen customers have steady behaviors. The variables in the data set are shown in Table 3. The endTime variable cannot always be recorded accurately. If users terminate services actively (for example they shut off the explorer or power off their phones), the end time of services is accurate. If users do not terminate the services actively, end time depends on the expiration time of sessions. The valid period of a session is set up to 5min in the system. For example, when a user has been using a service for 13min and does not terminate it actively, the session will expire after 5min and the system will record the duration of 18min.With the development of smartphones and the 3G/4G network, the competition in the mobile Internet service market is becoming fiercer. Therefore, a particular type of service would include similar applications from different service providers. For instance, when people need to download new applications, they may choose Wandoujia Marketplace or Google Apps Marketplace, which can both meet their needs but originate from two competing enterprises. Because we focus on the mobile Internet services instead of on the service providers, we divide the services into 13 groups regardless of service providers, as listed in Table 4.To ensure the results are correct and effective, we remove 55 records whose value for serviceState is failure. Furthermore, few customers used the service groups Prop and Encry; therefore, the records of these two service groups are removed. To reduce the dimensions in training, we merge the Cartoon and StrMed groups into the Video group, VoIP into the IM group, and ftp into the P2P group. Finally, thirteen types of service groups remained.We develop a multi-state model for each user using the training data. After calculating the distance matrix, we apply the three clustering methods to the distance matrix and use gap statistic (Tibs2001sEmax) to determine the number of clusters. The behavior patterns of the medoids in clusters are extracted and analyzed. The clustering results are shown in Table 5.We find that the medoids of the clusters in k-medoids method are not suitable representatives of customer behaviors. Moreover, the sizes of the clusters in the hierarchical clustering with Complete method are greatly unbalanced. Therefore, we choose the results of the hierarchical clustering (Ward) as the final results. Then, in each cluster we use the k-medoids method (k=1) to determine its medoid, which is the representative user. The Q matrices of the five representative users are extracted and transformed into P matrices, which denote the probability of the individual’s next move. We visualize the P matrices with correlograms (Fig. 6) in which the rows represent the services that the individual moves from and the columns represent the services the individual moves to. The deeper the square color is, the higher the probability is.From the correlograms, we can find distinct behavior patterns: (1) cluster 1 favorites a few services and Game => IM <=> Video <= Mblog is the most frequent service transfer pattern. Brow is its most available starting service; (2) cluster 2 has a strong combination of IM, Navi and Mblog. The reason may be that most applications of IM and Mblog have embedded a map module that is directly connected to navigation. Moreover, Cluster 2 has an unusual strong connection between Music and Navi; (3) cluster 3 uses all of the services, and the transitions between services are more frequent. IM and Brow are the most available transfer-to services; (4) cluster 4 seldom uses navigation and pay services. IM, Music and Video are their favorite combination; (5) cluster 5 is an active user group. Brow and Video are a strong combination. Browser is the most available move-to service after every service instead of no-usage.However, these clusters still have certain features in common: (1) when users turn to data usage and begin to use mobile Internet services, Brow is the most available first service; (2) Brow and IM are the most often move-to services; (3) IM is more possible, both as a move-to service and a move-out service. This service plays a bridge role between services; (4) Mblog has a strong connection with entertainment services such as Video, Music and Game; and (5) after using email, users’ behavior differs greatly from their common behavior. Each user has his or her preferred move-to services after using Email, and barely moves to no-usage.We obtain each user’s hidden Markov model using the training data. After calculating the distance matrix, we find that there are two outliers that may influence the clustering results; therefore, we delete the two points (users). Then we apply three clustering methods to the distance matrix and use gap statistic (Tibs2001SEmax) to determine the number of clusters. The clustering results are shown in Table 6.The K-medoids result has three clusters, and there is excessively general clustering. Additionally, the clusters in the hierarchical clustering with Complete method are distinguishable. Therefore, we choose the hierarchical clustering (Ward) results as the final results. Then, in each cluster, we use k-medoids method (k=1) to determine the medoid, which is the representative user in the cluster.As we have previously noted, the state transition probability distribution, the observation symbol probability distribution and the initial state distribution are more decisive in a transition process. The state transition probability distributions of the six representative users share a common feature, which is that the diagonal entries are close to 1 and the others are close to 0. This illustrates that, in the mobile service usage sequence, each hidden state, which represents a typical usage pattern, tends to remain unchanged for a long time. Therefore, the probability that a hidden state keeps unchanged is close to 1. The observation symbol probability distributions and the initial state distribution are shown in Table 7. The elements whose values are below 0.01 are set to be invisible.From the results in Table 7, we can find that the clusters may have different number of patterns (hidden states) and the patterns have different service preference. For example, Cluster 2 has only two patterns and only favors IM, Video and Brow services; however, Cluster 5 has four patterns and has various service preferences. Although different clusters have different usage patterns, they still have some common characteristics: (1) Brow and no-usage (NA) are the services most often chosen in any state. Next are IM, Video, and Game; (2) in many patterns, users focus on two or three services. In a few states, users tend to use more types of services; (3) many clusters have a pattern that only focus on Brow service; and (4) users are more likely to remain in a state and not easily move to other states.We have explained the results of two behavior models. Additionally, to validate the similarity of the two clustering results, the normalized mutual information (NMI) is calculated. The NMI value is equal to 1 if the clustering results of two models are identical, and has an expected value of 0 if the clusters are independent.The NMI of the clustering results of the two models is 0.179. This is smaller than 0.5, which means that the clustering results of the algorithms are significantly independent. As we have explained in Section 3.3, the two models extract behavior sequences based on different data format, continuous data for MSM and discrete data for HMM. Therefore, the independency of the two models is explainable and acceptable.In order to compare the fitness of the MSM and HMM on data, we divide the data sequence for each customeriinto two parts, in which the first partDi(1)is used to train the modelMiand the second partDi(2)={Yi,1,Yi,2,…,Yi,Ti}is used to evaluate the predictability ofMi. The predictability of the HMM and MSM model can be measured by:(7)Pred=1C∑i=1C1Ti∑t=1Ti1{Yi,t=Ŷi,t},Ŷi,t=argmaxjP(Sj|Mi,Yi,t-1)whereCis the number of customers;Tidenotes the number of observations inDi(2);1{Yi,t=Ŷi,t}is an indicator function and1{Yi,t=Ŷi,t}=1ifYi,t=Ŷi,t, otherwise1{Yi,t=Ŷi,t}=0;Sjdenotes the mobile Internet services;P(Sj|Mi,Yi,t-1)denotes the probability of current observation being serviceSjgiven modelMiand last observationYi,t-1. The results show that the predictabilities of MSM and HMM are 0.75 and 0.79 respectively, which means that MSM and HMM are not bad models and have similar prediction performance in this dataset.Mobile Internet services have been adopted by increasing numbers of people in recent years and have already played an important role in people’s personal and work lives. Therefore, the rapid development of mobile Internet services has created various business opportunities for online service providers and communications network providers. To achieve a win–win for both the interests of the users and the benefits of the companies, service providers and network providers must have a deep understanding of the behavior patterns of mobile Internet customers.From the representative users’ behavior based on MSM model, we can determine certain behavior patterns that can assist in service providers’ business decisions. We use several typical services as examples: (1) Instant message plays a bridge role in mobile Internet services, and it has strong connections with other services. Therefore, for IM service providers, it is essential to provide easy connections with other applications for users. Thus, IM service providers can obtain traffic and attract users from other services and strengthen user stickiness. For example, IM service providers can open their applications more for other types of applications to access, such as building open platforms and providing application program interfaces (APIs) for application developers. (2) The browser is an entrance service in mobile Internet. When people turn on data usage, they are likely to use the browser first. As an entrance service, a browser plays an important role in the mobile Internet market. In most cases, the browser is the first service people use when they access the mobile Internet. In the browser, users can obtain access to other services. Therefore, for a particular browser application, the more users adopt it, the more traffic the company obtains. For companies that have various applications, it is critical to develop browser applications to hold users and guide the traffic to their own applications. For companies that focus on vertical markets, cooperation with browsers is a suitable option to obtain traffic and users. (3) The microblog has strong entertainment properties. After using entertainment services such as music, video, and game, users tend to use a microblog. In addition, after using the microblog, users also tend to use entertainment services such as music, video, and games. The microblog is a bridge between entertainment applications. For companies that have microblog applications, introducing entertainment content is a practical direction for content because this can attract potential users. For companies that have entertainment applications, increasing advertising and marketing investment in microblogs may produce better effects because there are more target users in microblogs. (4) Email is a service that has a strong guidance ability. After using email, users have their own preferred services, which are far different from their normal move-to services. Because email has strong guidance ability, email direct marketing (EDM) is a useful means of marketing for companies. Accurate and targeted EDM may have a stronger response than traditional marketing methods, and it is much cheaper. (5) Users are likely to be absorbed in entertainment services, such as video and game services. The more time users spend in a service, the more business value it has. For telecommunication operators, traffic cooperation with entertainment services companies will be a suitable choice for selling more traffic. Additionally, this is an appropriate entry point for back-charging.From the clustering results based on the HMM model (Table 7), we find some typical patterns that can help to design marketing strategies. (1) Some customers have a pattern that shows diversified services preferences (S3 in Cluster 3, S3 in Cluster 4, and S4 in Cluster 5). Because of their wide range of interests, they are more likely to be interested in some new services and to become the first-generation users. If a company pushes out a new product, these customers can be the marketing targets. However, we have to pay attention to that these customers also have other patterns (e.g., S1 and S2 in Cluster 3) in which they only use a few services; therefore, we should recommend products to them at the time of diversified services pattern being active. (2) Although some customers (Cluster 6) have diversified patterns, they focus on some fixed services in all patterns. The differences of the patterns only lie on the proportions of the services. Further, we can find that their favorite services are IM and Video that are most efficient interactive marketing tool and embedded advertisements tool, respectively, to recommend some products to these customers. Moreover, since these customers are extremely dependent on IM and Video, they naturally become the important targets of customer caring for IM and Video service providers. (3) Some customers have simple patterns and simple service preferences, and spend less time on mobile Internet (Cluster 2). The telecommunication operators should cultivate their habits of using mobile Internet by giving larger discount on data traffic package or free service experiences. (4) Except the Brow service, IM is the most favorite service for most customers. We know that IM service runs on social networks that are one of the most effective carriers of word-mouth marketing. Therefore, we can encourage the customers to spread their other favorite services through IM platform to their friends by giving them extra benefits. For example, the customers in Cluster 4 can recommend their other favorite services, such as Video, App and Game services, to their friends because of some extra awards from telecommunication operators or other service.

@&#CONCLUSIONS@&#
With the rapid development of the mobile Internet, mobile service providers have enjoyed enormous business opportunities and gained generous profits in the mobile Internet market. In addition, there is fierce competition in this market. Understanding the behavior patterns of the mobile Internet users is essential for mobile service providers to seize and increase their market shares. In this study, we propose an analysis framework for discovering the sequential behavior patterns of mobile Internet users.The main contributions of this paper include the following: (1) the methods of modeling mobile Internet behaviors based on MSM and HMM are proposed; (2) typical sequential behavior patterns of the representative users are extracted and compared; and (3) the relation of the various mobile Internet services are analyzed from the perspective of usage sequences. These results are useful for mobile Internet service providers in designing applications, operating applications, developing marketing plans, and formulating development strategies.The limitation of this study is that the data set used in the experiment is based solely on the mobile Internet service usage records collected from mobile networks; therefore, it may not cover the complete usage records. In certain cases, users may have access to mobile Internet services through other means, such as a WiFi network. However, mobile networks remain the main entrance to mobile Internet services because they can be used anywhere and anytime. Moreover, both of the MSM and HMM models in this study satisfy the Markov assumption that the next state evolution depends solely on the current state, which maybe do not accord with practical scenarios in which behavior transfer may be based on multiple previous states. Applying variable-order markov chains to mobile Internet behaviors will become our future study. Despite these limitations, we believe that this study can provide insights into the sequential behavior patterns of mobile Internet services with a new proposed framework.