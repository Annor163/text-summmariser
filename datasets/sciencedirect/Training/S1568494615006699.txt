@&#MAIN-TITLE@&#
A SVM controller for the stable walking of biped robots based on small sample sizes

@&#HIGHLIGHTS@&#
A SVM gait controller is proposed for the stable walking of biped robots.The SVM controller is equipped with a mixed kernel function for the gait learning.The SVM controller is trained based on small sample sizes.The proposed method can satisfy the ZMP criterion well.

@&#KEYPHRASES@&#
Biped robots,Gait,Small sample sizes,Learning control,SVM,

@&#ABSTRACT@&#
Conventional machine learning methods such as neural network (NN) uses empirical risk minimization (ERM) based on infinite samples, which is disadvantageous to the gait learning control based on small sample sizes for biped robots walking in unstructured, uncertain and dynamic environments. Aiming at the stable walking control problem in the dynamic environments for biped robots, this paper puts forward a method of gait control based on support vector machines (SVM), which provides a solution for the learning control issue based on small sample sizes. The SVM is equipped with a mixed kernel function for the gait learning. Using ankle trajectory and hip trajectory as inputs, and the corresponding trunk trajectory as outputs, the SVM is trained based on small sample sizes to learn the dynamic kinematics relationships between the legs and the trunk of the biped robots. Robustness of the gait control is enhanced, which is propitious to realize the stable biped walking, and the proposed method shows superior performance when compared to SVM with radial basis function (RBF) kernels and polynomial kernels, respectively. Simulation results demonstrate the superiority of the proposed methods.

@&#INTRODUCTION@&#
The biped leg motions tend to deviate from the reference trajectory in unstructured walking environments, which causes the biped to tumble when discordance emerges between the trunk and the legs [1]. A giant challenge is the learning control of stable biped walking in unknown dynamic environments based on small sample sizes.In this paper, the stability of the biped locomotion is ensured using the zero moment point (ZMP) theory [2,3]. The concept of ZMP is introduced by Vukobratovic et al. in 1990. ZMP is defined as that point on the ground at which the net moment of the inertial forces and the gravity forces has no component along the horizontal axes. At a given time instant, the ZMP position is influenced by all the forces acting on the system, and if the ZMP is inside the support area, dynamic balance is ensured [4]. When the ZMP criterion is considered here, one of the most important problems for biped robots is how to learn to satisfy the ZMP criterion in unstructured environments with small sample sizes.Increasing the locomotion ability of robots through learning is the ultimate challenge of artificial intelligence and robotics. To build learning models for complex tasks is very helpful for the design of control laws for robots in unstructured environments with uncertainties. These uncertainties are primarily due to the imprecision of the sensors and the unpredictability of the environments, i.e. lack of full knowledge of the environment characteristics and dynamics. Great progress has been made in the learning control of robots by means of soft computing methods [5–13], including neural networks, reinforcement learning [14–20], evolutionary learning [21,22] and support vector machine (SVM) [23–25]. According to the previous literatures, reinforcement learning is an effective global optimization strategy for learning control systems of robots, while the considerable computational complexity makes it not easy to implement the learning control in real-time. On the other hand, conventional machine learning methods such as neural networks (NN) use empirical risk minimization (ERM) based on infinite samples, which is disadvantageous to the gait learning control based on small sample sizes for biped robots walking in unstructured dynamic environments.SVM was first developed by Vapnik [26] to solve classification problems, and then successfully extended to regression and density estimation problems. The formulation of SVM employs the structural risk minimization (SRM) principle [23–25], which has been shown to be superior to the traditional ERM principle employed in conventional learning algorithms. SRM minimizes an upper bound on the generalization error whereas ERM minimizes the error on the training data. This difference makes SVM more efficient in resolving the conflict between learning accuracy and generalization. What is especially interesting is the ability of SVM to solve the small-sample-sizes learning problems, which is difficulty for the conventional machine learning methods such as NN using ERM based on infinite samples. That is precisely why SVM provides clues to solve the problem of biped walking in unstructured environments with uncertainties.This paper proposes a method of gait control based on a SVM with mixed kernel function to solve the problem of learning control based on small sample sizes for stable biped walking in unstructured environments. Similar as human behaviors, the proposed SVM-based soft computing technology does not demand high precision and high certainty during the process of learning biped gaits, thus it is practicable and robust under the condition of unstructured environments and small sample sizes. The proposed method shows superior performance when compared to SVM with RBF kernel and polynomial kernel respectively. Using ankle trajectory and hip trajectory as inputs, and the corresponding trunk trajectory, which guarantees the ZMP criterion as outputs, the SVM is trained based on small sample sizes to learn the dynamic kinematics relationships between the legs and the trunk of the biped robots. Robustness of the gait control is enhanced and the stable walking of the biped is realized when the trained SVM is incorporated into the control system of the robots.Main contributions of this work can be concluded as two points:•SVM-based trunk rotation controller for bipeds.Conventional methods of gait control for biped robots emphasize the control of the knees and the ankles. In this work, a gait control system emphasizing trunk rotations is proposed. As a human-like method for maintaining dynamic balance of the biped, trunk rotation is simple, natural and flexible. However, it is difficult to build a control rule for the trunk rotations. To address this issue, the first contribution of this paper is to build a gait control system with appropriate control rules based on SVM.Mixed kernels for SVM learning.For the robots walking in unstructured environments, as far as uncertainties of the environment are concerned, the desired gait samples are too limited to follow. To address this issue, the second contribution of this paper is designing a SVM equipped with a mixed kernel. Mixed kernels combine the desirable characteristics of two kinds of kernels, which results in excellent response of trunk position for both trained leg motions and untrained leg motions.The organization of this paper is as follows. In Section 2, the mechanical structure and the model of the robot are presented, and two typical gaits imitating human walking patterns are planned for SVM to learn in Section 3. Gait control method based on a SVM using finite samples for biped robots is outlined in Section 4. Simulations and experiments were conducted using a 14 degree-of-freedoms (DOFs) humanoid, and the results are provided in Section 5, followed by the conclusions in Section 6.The experiments were performed with the GDUT-I biped robot that was designed and built at the Faculty of Automation, Guangdong University of Technology, Guangzhou, Guangdong, China. The GDUT-I biped robot has 14 DOFs with a 0.455m height and a 1.93kg weight. The mechanical structure of the robot is shown in Fig. 1.The biped robot consists of a trunk, two legs, and two arms. The trunk has two DOFs in the waist joint. Each leg is composed of a thigh, shank, and foot, and of three DOFs in total, one of which is located in the hip joint, one in the knee joint, and one in the ankle joint. Each arm is composed of an upper arm, forearm, and of three DOFs in total, two of which are located in the shoulder joint, one in the elbow joint.The biped carries a wireless camera, electronic board for controlling and communicating, four rechargeable nickel metal hydride batteries for the servomotors and a lithium battery for the electronic board in the trunk. A 9600-b/s RS232 wireless transmission link connects the control software, which is running on a PC, to the robot's electronic board. The robot board has two peripheral interface controller (PIC) microprocessors, one to acquire the analog signals of the vision sensors and the other to control the servomotors. The robot is driven by 14 servomotors, its structure is aluminum and acrylic.To control the robot expediently, we designed a supervisory computer control platform called GDUT-I Controller (GC), a screenshot of GC is shown in Fig. 2. GC is based on the Visual Basic (VB) development platform which has the functions of wireless communication, actions storing and image processing. The outputs of the GC include the angles of the servomotors, actuation time and interval time of the instructions. The control accuracy is 20ms.The motion of a biped robot can be divided into the sagittal plane and the lateral plane. In this paper, we focus on the sagittal dynamics of the GDUT-I biped robot, which is symmetrical between the left and right part in the frontal plane. The simple model of GDUT-I biped robot in the sagittal plane is depicted in Fig. 3. The details of the humanoid can be referenced in Table 1.A robotic system with n+1 interconnected links is considered with its dynamic model in single-support phase given as follows:(1)M(Θ)Θ¨+C(Θ,Θ˙)Θ˙+G(Θ)=τ,whereΘ=(θ1,…,θn)∈ℝn,Θ˙=(θ˙1,…,θ˙n)∈ℝnandΘ¨=(θ¨1,…,θ¨n)∈ℝnare joint variable vectors.M(Θ)∈ℝn×nis the inertia matrix, andC(Θ,Θ˙)∈ℝnrepresents Coriolis and centripetal forces, G(Θ) is the gravity term. In recent years, many researchers applied computer torque method [27], variable structure control (VSC) [28], fuzzy system [29–32], and NNs [25,33,34], and hybrid soft computing strategies [10–13] to design controllers for biped robots based on the original dynamical equations. The perfect controller can be designed using the method of computer torque(2)τ=Mˆ(Θ)(Θ¨d+Kve˙+Kpe)+Cˆ(Θ,Θ˙)Θ˙+Gˆ(Θ),where ∧ denotes the estimation parameter. e=Θd−Θ,e˙=Θ˙d−Θd,and Θd,Θ˙d,Θ¨dare the desired reference trajectories for the robot. Kpand Kvare the proportional and differential gains. τ is the inverse dynamic controller.It is almost impossible to make a complete precise gait plan for biped robots walking in unstructured environment. However, there exists some kind of nonlinear kinematic dynamics between the legs and the trunk of the biped robots, which can be learned, and guarantees the ZMP criterion. To obtain the gait samples that satisfy the nonlinear kinematic dynamics, two typical gaits imitating human walking pattern are planned for SVM to learn. SVM is chosen because it is one of the effective methods to solve the learning problem based on small sample sizes, and the desired gait samples are finite as far as the unstructured environment is concerned. Using ankle trajectory and hip trajectory as inputs, and the corresponding trunk trajectory, which guarantees the ZMP criterion as outputs, biped robots can be controlled to walk stably in unstructured environment when SVM-based gait controller are applied.Two typical gaits are planned for the biped robot to walk on the horizontal ground considering the human's walking pattern, and the gaits will be learned by SVM, as described next. The first gait has 100% time in the single support phase, and the other has 80% time in the single support phase. The whole walking period of the biped robot is considered to be composed of a single support phase and a double support phase. The supporting foot is assumed to remain in full contact with the ground during the single support phase, and both the feet revolve around the point contacting with the ground during the double support phase. The walk cycle is Tc, and let Tc=1s. And the trunk of the robot is always vertical to the horizontal plane.Gait 1 has 100% time in the single support phase. The trajectories are given as follows:(3)ya(k)=aπ2πN+1k−sin2πN+1kza(k)=dπ1−cos2πN+1kyh(k)=12ya(k)+a2zh(k)=12za(k)+r1+r2−d2,where yh, zhdenote the position of the hip and ya, zadenote the position of the swinging ankle joint. a is walking step length, and d is the height of swinging ankle. N+1 is the total sampling number for a step, k is the sampling index, and r1, r2 are the lengths of lower limbs. The analysis of gait 1 (single support) is shown in Fig. 4.Gait 2 has 100% time in the single support phase. The trajectories planning of the hip and the ankle are the same as gait 1. Both the feet revolve around the point contacting with the ground during the double support phase, which satisfies the following equation(4)qleft=qheel(tB−t)6tB6,t∈(0,tA]qheel(tB−t)6tB6,t∈(tA,tB]0,t∈(tB,tC]0,t∈(tC,tD],(5)qright=0,t∈(0,tA]−qtoe(t−tA)6(tC−tA)6,t∈(tA,tB]−qtoe(t−tA)6(tC−tA)6,t∈(tB,tC]a0qR+a1qRt+a2qRt2+a3qRt3+a4qRt4+a5qRt5,t∈(tC,tD],where qleft, qrightis the angle between the feet and the ground, qheelis the angle of the left foot revolves round its heel, qtoeis the angle of the right foot revolves round its toe. The left foot starts to revolve round its heel from the time of 0, keep revolving at the time of tA, and the sole of the foot is assumed to remain in full contact with the ground from the time of tBto tD. For the right one, the sole is in full contact with the ground from the time of 0, start to revolve round its toe at the time of tA, keep revolving at the time of tB, the feet is lifted off the ground at the time of tc, and lands with its heel at the time of tD. The decomposition of gait 2 (single and double support) is shown in Fig. 5.A method of gait control based on SVM is proposed to solve the problem of learning control based on small sample sizes for stable biped walking in unstructured environments. The SVM is trained offline using the desired samples from the gait planning mentioned in Section 3. A kind of mixed kernel function is proposed to ensure that the gait learning machine has good characteristics for both learning and generalization. The whole control system consists of three parts: gait planning, internal-loop control of joint motions and outer-loop gait control based on SVM. The system diagram is shown in Fig. 6.The three parts of the control system perform different functions respectively. Part 1, Gait planning unit generates the trajectory of the joints according to predetermined motion tasks. Part 2, the internal-loop articulation controller tracks the reference trajectory planned offline with a certain control strategy. There are some mature techniques to realize the functions mentioned above. Regarding part 3, outer-loop gait control, conventional controllers can ensure the stable biped walking in a known environment, but not uncertain environments. So we are facing a problem of learning control based on small sample sizes obtained from limited environments. The outer-loop part in Fig. 6 solved the problem with a method of gait control based on SVM, and enhanced the robustness of the gait controller. Details of the proposed SVM-based soft computing method can be found in Fig. 7.One of the key points in robotics is how to realize stable biped walking in unstructured environments. By far the most popular algorithm for gait planning is offline, which is mainly used on the desired horizontal ground without obstacles. So the biped robots tend to tumble easily when leg motions deviate from the walking reference trajectory in unstructured environments, which leads to the discordance between the trunk and the legs.Since SVM has the good characteristic of simple structure, rapid convergence rate, global optimum, strong generalization ability and high accuracy, it is applied in modeling and control of nonlinear systems. So, a control strategy of gait planning offline and SVM regulating online is proposed to realize stable biped walking in unstructured environments. First, a nonlinear dynamic kinematics relationship model is established through SVM-learning offline. Then the trained SVM is incorporated into the control system of the robots, and the trajectory of the trunk is regulated online according to the output of the SVM to achieve the sagittal balance of the biped in unstructured environments. The sensors glean trajectory information of the swing ankle, supporting the hip and trunk, and the data guaranteeing the ZMP criterion are collected to be the gait samples needed for modeling. The SVM is then trained based on these samples to learn the dynamic kinematics relationships between the legs and the trunk of the biped robots. As an important supplement to the gait planning offline, the strategy of regulating online based on SVM stabilize the biped walking robots effectively by ensuring the appropriate position of the trunk. Benefiting from the strong generalization ability of SVM, the regression model can provide rapid, appropriate response to the deviating trajectory of the legs, which results in stable biped walking in unstructured environments.Usually, the original gait and control method cannot work well because of the variation of the environment (characteristics and geometry of the ground and of obstacles, external forces) and the state of the robot (carried load, level of energy). It determines that gait learning control of biped robots in uncertain environment is characterized by small sample sizes. Therefore, biped robots must make full use of the originally desired gait samples through some appropriate learning methods, which apply dynamic relationships of the finite samples to new environment and state to realize the stable biped walking in uncertain environments.There exist some kinds of nonlinear kinematics dynamics guaranteeing the ZMP criterion between the legs and the trunk of the biped robots which can be learned, as shown in Fig. 4. The desired gait samples can be obtained by simulations. Then the gait samples guaranteeing the dynamic kinematics relationships can be obtained. The relationships can be formulated as(6)θtrunksvm=f(yankle,yhip).A desired gait sample set can be formulated as(7){(yankle(1),yhip(1),θtrunksvm(1)),…,(yankle(N),yhip(N),θtrunksvm(N))},where yankleand yhipare inputs andθtrunksvmis the output of the gait control module based on SVM. N is the sample size. yankleand yhipare the actual swing ankle trajectory and the supporting hip trajectory, respectively.θtrunksvmis the output trunk trajectory guaranteeing the ZMP criterion.It should be pointed out that it is not difficult to get gait samples guaranteeing the ZMP criterion through simulation. However, to the actual robots walking in unstructured environments, as far as uncertainties of the environment are concerned as far as I am concerned; As far as I’m concerned; as far as I, the desired gait sample set obtained from the simulation is a sample set with small size, and the gait learning control of biped robots in uncertain environment is a typical problem of small sample sizes.SVMs with different parameters or kernel functions display very different performances, and there is not a manifest theory supporting the selection of them up to now. Therefore, the feature of biped walking is analyzed carefully to model the dynamic kinematics relationships between the legs and the trunk of the biped robots based on SVM.It was confirmed to be an effective method of gait control that measuring and analyzing the walking locomotion of humans, studying the fundamental principles of biped walking, and applying the obtained gait feature to the controller of biped robots. But it is not easy to acquire large amounts of data suitable for the given robots due to the relevance between the gait and the actual physical parameters of the robots. Under the condition of small sample sizes, the learning strategy should not only approximate the pre-existing gait but also generalize the gait in rough terrain. The ability of SVM to approximate and generalize depends on the choice of kernel function and the SVM parameters, and that is the problem of SVM modeling based on gait control.Kernel selection is an important issue in SVM modeling. There have been some theories like Riemann geometry and Boosting algorithm for designing the Kernel functions, and kernel selection is always concerned with priori knowledge and domain knowledge. On the one hand, gait control of biped robots walking in unstructured environments is difficult under the limited condition of small sample sizes, which determines that the learning strategy should not only approximate the pre-existing gait but also generalize the gait in unknown terrain. On the other hand, kernel functions fall into two main categories named local and global kernels. In local kernels only the data that are close or in the proximity of each other have an influence on the kernel values. RBF kernels are typical representative of local kernels. In contrast, a global kernel allows data points that are far away from each other to have an influence on the kernel values as well. Polynomial kernels are typical representative of global kernels. Combining the desirable characteristics of both kinds of kernels, the proposed mixed kernel function is a weighted sum of a RBF kernel and a polynomial kernel. The influence of the two kinds of kernel functions can be tuned by mixing coefficient, which makes mixed kernels more suitable for the biped gait learning. The selected kernel for biped gait control is(8)K=aKpoly+(1−a)Krbf,a∈(0,1),(9)Kpoly(xi,x)=[〈xi,x〉+1]d,d=1,2,…,(10)Krbf(xi,x)=exp−(xi−x)22σ2,where Kpolyand Krbfdenote a polynomial kernel and a RBF kernel respectively. It is easy to prove that the mixed kernel satisfies Mercer's Theorem. d is the degree of the polynomial kernel, and σ is the width of the RBF kernel. The mixing coefficient a is a constant scalar, and the optimal a has to be determined according to the applications. For example, Smits and Jordaan [35] pointed out that the mixed kernel has both approximation and generalization abilities when d=2, σ=0.15 and a=0.95.Resample techniques and Bayesian evidence frameworks are widely used to determine the SVM parameters. It can be observed that in case of polynomial kernels with lower degrees the extrapolation ability gets better. However, for better interpolation ability, polynomials with higher degrees are required. Just relying on the choice of the degree of a polynomial kernel, it is difficult to get a SVM that provides both good interpolation and extrapolation properties. On the other hand, the RBF kernel (a local kernel) has good interpolation abilities, but fails to provide longer range extrapolation. Therefore, just relying on the choice of the width of a RBF kernel, we cannot get a SVM that provides both good interpolation and extrapolation properties, too.The performance of SVM depends mainly on the mixing coefficient a as far as the proposed mixed kernel is concerned. It is striking that using polynomials with higher degrees or larger widths of RBF kernels cannot produce better results. Both good interpolation and extrapolation properties can be achieved with a single choice of the mixing coefficient, which is also a great advantage to the SVM learning based on the proposed mixed kernel.The variation of the environment and the state of the robot would lead to the deviation of the leg motions. In order to realize a stable walk satisfying the ZMP criterion, the trunk trajectory is tuned according to the actual leg trajectory and the function of gait regression to avoid the falling down of the biped when discordance emerges between the trunk and the legs. The desired gait sample set{(yankle(1),yhip(1),θtrunksvm(1)),…,(yankle(N),yhip(N),θtrunksvm(N))}is obtained through simulations. Objective function of the SVM gait regression is(11)minw,b,ξ,ξ∗12wTw+C∑i=1Nξi+C∑i=1Nξi*,(12)s.t.wTϕ[(yankle(i),yhip(i))T]+b−θtrunksvm(i)≤ε+ξi;θtrunksvm(i)−wTϕ[(yankle(i),yhip(i))T]−b≤ε+ξi*;ξi,ξi*≥0;i=1,…,N.wherexi=(yankle(i),yhip(i))Tis the input vector andyi=θtrunksvm(i)is the output of the ith sample.yankle(i)andyhip(i)denote the position of the swing ankle and support hip of the biped, respectively.θtrunksvm(i)denotes the trunk trajectory. N is the number of the samples, w is a weight vector and b is a bias, C is a penalty coefficient, ɛ is the error probability, ξiandξi*are positive slack variables enabling to deal with permitted errors. ϕ(·) is a nonlinear mapping function for mapping the input space into a higher dimension feature space. Eq. (11) can be solved using the dual form(13)minαi,αi∗12(αi−αi*)TQ(αi−αi*)+ε∑i=1N(αi+αi*)+∑i=1Nθtrunksvm(i)(αi−αi*),(14)s.t.∑i=1l(αi−αi*)=0,0≤αi,αi∗≤C,i=1,…,N.whereQij=K[(yankle(i),yhip(i))T,(yankle(j),yhip(j))T]≡ϕ(yankle(i),yhip(i))⋅ϕ[(yankle(j),yhip(j))T],Qijis the kernel function satisfying the Mercer condition. Here, let K=aKpoly+(1−a)Krbf, a∈(0, 1) where K denotes a mixed kernel, Kpolyand Krbfdenote a polynomial kernel and a RBF kernel respectively, a is a mixing coefficient. αiandαi*are Lagrange multipliers. The solutions of quadratic programming in Eq. (11) have few gait samples with nonzero coefficients because of the sparse nature of SVM. The gait samples corresponding to nonzero coefficients are support vectors. Assuming the number of the support vector is g, the gait regression function of the robot is(15)f(x)=∑i=1g(αi∗−αi)k[(yankle(i),yhip(i))T,(yankle,yhip)T]+b,where(16)b=12minθtrunksvm(i)−∑i=1g(αi*−αi)k[(yankle(i),yhip(i))T,(yankle,yhip)T]+maxθtrunksvm(i)−∑i=1g(αi*−αi)k[(yankle(i),yhip(i))T,(yankle,yhip)T].So we obtain the gait regression function of the robot shown as Eq. (15) using the SVM.(yankle(i),yhip(i),θtrunksvm(i))is the known gait sample, αiandαi*are Lagrange multipliers which need to be optimized. The optimization algorithm is to be described in next section.The goal of the algorithm is to obtain the Lagrange multiplier in Eq. (13). Submitting the Lagrange multiplier into Eq. (15), which is the function of gait regression, we can get the dynamic kinematics relationships between the legs and the trunk of the biped robots, guaranteeing the ZMP criterion. The gait is trained offline. Letβi=αi*−αiandαi*αi=0,then Eq. (13) is completely equivalent to(17)max∑i=1nθtrunksvm(i)βi−ε∑i=1n|βi|−12∑i,j=1nβiβjk[(yankle(i),yhip(i))T,(yankle(j),yhip(j))T],(18)s.t.∑i=1nβi=0,−C≤βi≤C,i=1,2,…,n.Eq. (17) is solved with the Sequential Minimal Optimization (SMO) algorithm. The problem is divided into quadratic optimizations of a series of minimal subsets, and only two multipliers (β1 and β2) are optimized in each iteration. The multiplierβicorresponding to the sample that violates the Karush–Kuhn–Tucker (KKT) condition the most is obtained with the heuristic method. The training error is(19)ei=f[(yankle(i),yhip(i))T]−θtrunksvm(i).We can know that β1 and β2 are in a straight line according to Eq. (18), that means(20)β1new+β2new=β1old+β2old.First, we calculateβ2new.According to Eq. (18), the constrained space ofβ2newis(21)A≤β2new≤B,where(22)A=max(−CA2,β1old+β2old−CB1),(23)B=min(CB2,β1old+β2old−CA1),whereCAi=0,CBi=Cwhenβiold≥0,CAi=−C,CBi=0whenβiold<0.Suppose(24)k=K[(yankle(1),yhip(1))T,(yankle(1),yhip(1))T]+K[(yankle(2),yhip(2))T,(yankle(2),yhip(2))T]−2K[(yankle(1),yhip(1))T,(yankle(2),yhip(2))T],then(25)β2new,clipped=β2old+(e1−e2)−ε(signβ2−β1)k.Theβ2newis clipped to satisfy Eq. (21), that is(26)β2new=A,β2new,clipped<Aβ2new,clipped,β2new,clipped∈[A,B]B,β2new,clipped>B.By solving Eq. (20), a new β1 is given as(27)β1new=β1old+β2old−β2new.Until now, the new β1 and β2 meet the constraint condition through the first iteration of SMO. The next iteration optimizes the multipliers according to the KKT condition again, and the cycle repeats itself until all of the multipliers meets the conditions of KKT, which means the solution of Eq. (13) is given. Substituting the solution of Eq. (13) into Eq. (15), the dynamic kinematics relationships between the legs and the trunk of the biped robots can be obtained.To verify the effectiveness of the proposed control method based on SVM, we did some walking experiments by using the virtual biped robot and the actual biped robot. Parameters of the virtual biped robot are set as the same as the actual biped robot. The performance of the proposed method is compared with NNs.The two gaits described in Section 3 are considered in the simulations and experiments. Three different motions are planned for each gait: Motion 1 (the step length is 0.10m, the step height is 0.02m); Motion 2 (the step length is 0.12m, the step height is 0.02m); Motion 3 (the step length is 0.14m, the step height is 0.02m). The parameters include a penalty coefficient C=1000, an insensitive loss parameter ɛ=0.001, degree of the polynomial kernels d={1, 2, 3, 4, 10, 15, 20, 25}, width of the RBF kernels σ={0.01, 0.05, 0.1, 0.15, 0.2, 0.25}, and mixed coefficient of the mixed kernels a={0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.95, 0.99}.When regressing the gait, we sample the swing ankle trajectory and the supporting hip trajectory in the period of T, and let T=0.025s. That is to say, there are 41 points in a single walking period (including the starting point). The desired gait sample set satisfying the ZMP criterion is{(yankle(1),yhip(1),ytrunkd(1)),…,(yankle(41),yhip(41),ytrunkd(41))}.All the simulation experiments choose the first 11 groups of data as test samples, and the last 30 groups of data as training samples. On the other side, we build a three layered NN to learn the gait, and the mean square error of NN is compared to one of the SVM. The goal of training MSE and test MSE of NN are both zero, and the transfer function of the hidden layer is a Sigmoid function, the transfer function of the output layer is a linear function.When controlling the gait, without loss of generality, it is assumed that the 16th sampling point of the supporting hip is deviating from the reference trajectory to imitate the variation of the leg motions caused by the environment and the state of the robot. The details can be referenced in Table 2, and gait 1 has the same condition as gait 2.Comparisons of the gait regression functions are shown in Figs. 8–13. Figs. 8–13(a)–(c) are the gait regression functions based on SVM with RBF, polynomial and mixed kernel, respectively. The width of RBF kernel, the degree of polynomial kernel and the mixed coefficient of the mixed kernel used to obtain the above mentioned functions are the parameters corresponding to the best test MSE, which can be seen as bold type in Tables 3–20. As shown in the figures, RBF kernels have significant local quality while polynomial kernels present typical global quality. Mixed kernels combine the desirable characteristics of both kinds of kernels, which results in excellent response of trunk position for both trained leg motions and untrained leg motions. Data comparisons are shown in Tables 3–20. The training MSE is small while the test MSE is big for SVM with RBF kernel, the test MSE is small while the training MSE is big for SVM with polynomial kernel. The mixed kernel has the ability of obtaining both an excellent test MSE and an excellent training MSE, which means that we can generalize the gait in unknown terrain as well as approximate the pre-existing gait. The proposed method gives an excellent solution for the gait learning problem based on small sample sizes.The MSE of the NN learning machine including five neurons in the hiding layer is shown in Table 21. Obviously, the learning performance seems not as good as SVM in general. Moreover, adding the neurons of the hiding layer cannot reduce the MSE but unfortunately increase the training time.Comparisons of gait control effects based on SVM with mixed kernels are shown in Figs. 14–19(c), and Figs. 14–19(a) is the planned gait. In Figs. 14–19(b), the supporting hip deviates from the reference trajectory on the 16th sampling point, and the gait gets out of control little by little when we only use the inter-loop articulation controller. In Figs. 14–19(c), the same deviation emerges and the gait is stabilized gradually when we use the outer-loop SVM controller. As shown in the figures, the biped robot tends to fall down when the trunk trajectory is not tuned according to the deviation of the hip. The trunk position can be turned appropriately to match the leg motions using outer-loop SVM control strategy considering deviation of the legs, which stabilize the biped walking efficiently.According to the ZMP theory [2–4], there should be some distance between the actual ZMP and the boundary of the support area to ensure the dynamic balance. In the following, the minimum distance between the ZMP and the boundary of the support area is called the ZMP stability margin. The ZMP can be computed using the following equations:(28)xzmp=∑i=1mmi(z¨i+g)xi−∑i=1mmix¨izi−∑i=1mIiyΩiy∑i=1mmi(z¨i+g),(29)yzmp=∑i=1mmi(z¨i+g)yi−∑i=1mmiy¨izi+∑i=1mIixΩix∑i=1mmi(z¨i+g),where (xzmp, yzmp, 0) is the coordinate of the ZMP, and (xi, yi, zi) is the coordinate of the mass center of link i on an absolute Cartesian coordinate system. mi is the mass of link i, Iixand Iiyare the inertial components, Ωixand Ωiyare the absolute angular accelerations components around x axis and y axis at the center of gravity of link i, g is the gravitational acceleration.To implement the stability analysis using the ZMP theory, the minimum ZMP stability margin (MIN) and the mean of the ZMP stability margin (MEAN) is calculated during one whole walking step using the next formulas:(30)MIN=minl=1N{min[ytoe−yzmp(l),yzmp(l)−yheel]},(31)MEAN=1N∑l=1N[ytoe−yzmp(l)],ifyzmp(l)>yheel+ytoe2;[yzmp(l)−yheel],ifyzmp(l)≤yheel+ytoe2.where yzmp(l) is the position of the ZMP on the lth sampling point in a walk cycle, which can be obtained using Eq. (29), and l=1, 2, …, N(N=40). ytoeand yheelare the positions of the toe and the heel of the biped robot. The two indexes are shown in Table 22, which indicates that the proposed SVM controller satisfy the ZMP stability criterion well.The real-time trajectory of the ZMP is shown in Figs. 20 and 21, which indicates that the biped dynamic controlled by the proposed method can satisfy the ZMP criterion well, and all the planned gaits have a similar trend of the ZMP trajectory. Fig. 22shows the real-time experimental results of one step on an even horizontal ground. As shown in the figures, the proposed controller stabilizes the biped walking efficiently.

@&#CONCLUSIONS@&#
Aiming at the stable walking control problem in the dynamic environments for the biped robots, this paper has proposed a novel strategy of gait control based on SVM, which provides a solution for the learning control issue based on small sample sizes. A SVM method for gait control with mixed kernel functions is proposed, where the gait sampling, gait regression and learning are developed in the SVM control mechanism. Simulation and experiment result have shown the proposed method have a superior performance when compared with NN or conventional learning strategies. In the future works, it is still interesting to study the feasibility and applicability of SVM controllers for the learning of complicated working environments, such stairs and inclines.