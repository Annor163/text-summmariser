@&#MAIN-TITLE@&#
Decision support system of unplanned dilution and ore-loss in underground stoping operations using a neuro-fuzzy system

@&#HIGHLIGHTS@&#
Focus on a minimisation unplanned dilution and ore-loss in underground stope.Comprehensive datasets were collected from three mines.Prediction model was built via artificial neural network (ANN).Consultation model was built via Fuzzy expert system (FES).ANN and FES are combined as a concurrent neuro-fuzzy model.

@&#KEYPHRASES@&#
Neuro-fuzzy system,Underground metalliferous mining,Unplanned dilution,Ore-loss,

@&#ABSTRACT@&#
Unplanned dilution and ore-loss are the most critical challenges in underground stoping operations. These problems are the main cause behind a mine closure and directly influencing the productivity of the underground stope mining and the profitability of the entire operation. Despite being aware of the significance of unplanned dilution and ore-loss, prediction of these phenomena is still unexplained as they occur through complex mechanisms and causative factors. Current management practices primarily rely on similar stope reconciliation data and the intuition of expert mining engineers. In this study, an innovative unplanned dilution and ore-loss (uneven break: UB) management system is established using a neuro-fuzzy system. The aim of the proposed decision support system is to overcome the UB phenomenon in underground stope blasting which provides quantitative prediction of unplanned dilution and ore-loss with practical recommendations simultaneously. To achieve the method proposed, an uneven break (UB) prediction system was developed by an artificial neural network (ANN) considering 1076 datasets covering 10 major UB causative factors collected from three underground stoping mines in Western Australia. In succession, the UB consultation system was established via a fuzzy expert system (FES) in reference to surveyed results of fifteen underground-mining experts. The UB prediction and consultation system were combined as one concurrent neuro-fuzzy system that is named the ‘uneven break optimiser’. Because the current UB prediction systems in investigated mines were highly unsatisfactory with correlation coefficient (R) of 0.088 and limited to only unplanned dilution, the performance of the proposed UB prediction system (R of 0.719) is a remarkable achievement. The uneven break optimiser can be directly employed to improve underground stoping production, and this tool will be beneficial not only for underground stope planning and design but also for production management.

@&#INTRODUCTION@&#
The goal of underground mining is to extract ore as economically as possible while ensuring the safety of the workforce and machinery. To achieve this goal, numerous mining methods have been developed and employed that are based on the geological formations and conditions of ore bodies, e.g., the shape, size, depth, orientation, and surrounding waste rock [1]. Among many metalliferous underground mining methods, various stoping methods, e.g., sublevel, cut and fill, shrinkage, open long-hole, etc., are prevalently applied based on the technical and economical consideration of the orebody and geology conditions of the region. Prevalence of stoping methods was reported by many researches. For instance, 51% of underground metalliferous production in Canada relies on open-stoping methods [2]. In addition, surveying eight major underground metalliferous mines in Australia reveals that seven out of eight mines are employing various stoping methods.The productivity of stoping methods can be evaluated by the excavation of the planned stope with a marginal amount of unplanned dilution and ore-loss [3]. Because the stope is primarily extracted by drilling and blasting, unplanned dilution and ore-loss are inevitable phenomena that affect not only the safety of the workforce and machineries but also seriously deteriorate the overall mining processes. In other words, the most effective way to increase the productivity of the mine is to reduce the unplanned dilution and ore-loss [4].The definition of dilution is “the contamination of ore stream with lower grade ore and/or waste material”. Dilution and ore-loss are generally categorised into planned and unplanned. This study focuses on unplanned dilution (the lower grade material exterior to the planned ore-reserve block that deteriorates the value of the ore stream) and unplanned ore-loss (the remaining valuable material after production blasting). In addition, through different engineering perspectives, these phenomena can be described as dynamic and quasi-static types; the dynamic type occurs immediately, whereas, the quasi-static type occurs within an interval of time after blasting [5]. This study deals with the dynamic type of unplanned dilution and ore-loss. Moreover, a new term ‘uneven break’ (UB) has been introduced to define them. Fig. 1demonstrates a schematic view of typical underground stoping method with reconciliation of unplanned dilution and ore-loss.Fig. 1a is an overview of a typical metalliferous mine and Fig. 1b depicts 3D view of a planned underground stope, which will be excavated by drilling and blasting. After the production, the planned stope will be reconciled with the actual mined volume of stope, which can be captured by cavity monitoring system (CMS) [6]. 3D reconcile model and its section view are demonstrated in Fig. 1c and d, respectively.Despite being aware of the importance of controlling unplanned dilution and ore-loss, numerous underground mines experience these negative effects that are prominent in the causes of mine closure. However, current unplanned dilution and ore-loss (uneven break: UB) management still relies on historical reconciliation data of similar stopes and the intuition of engineers. According to a survey from Pakalnis [7], 47% of the open stoping mines had more than 20% dilution in Canada. Likewise, Henning and Mitri [8] reported that approximately 40% of open-stoping operations in Canada suffered 10–20% dilution.In this study, to successfully manage the potential UB, a new uneven break (UB) prediction and consultation systems were established with the help of soft computing technologies. An uneven break (UB) prediction system was established by using an artificial neural network (ANN). The proposed ANN model was trained adopting 1076 datasets of 10 major UB causative factors, which had been selected via thorough investigations of field documents from three underground stoping mines in Western Australia. The selected 10 UB causative factors are composed of two geological, five blasting, and three stope design factors and details of these factors are explained in Section 2. In succession, an uneven break (UB) consultation system was designed using a fuzzy expert system (FES) in reference to surveying fifteen underground mining experts. The proposed decision support tool is established based on Mamdani fuzzy inference system [8] composing of two inputs and two outputs. A predicted UB percentage (PUB) from the proposed UB perdition ANN model and a representative geological factor, i.e., Q-value [9] are adopted as input parameters. For output parameters of FES, two new criteria, powder factor (Pf) and ground support (GS) control rates (PFCR and GSCR) are introduced. Detailed information of these parameters is explained in Section 4. Ultimately, these two systems were combined as a neuro-fuzzy system to support not only underground stope planning and design but the production management of the mine also.As presented in the following section, even though various studies have been established to manage and control unplanned dilution and ore-loss in underground blasting, these studies failed to explain this complex phenomenon as they just consider few causative parameters using unsatisfactory methodology. The significance of the proposed decision support system is that it is the first successful application of ANN and FES in underground stope management providing quantitative value of potential UB and its controlling criteria prior to actual stope production. Furthermore, it is the unique model can cover both unplanned dilution and ore-loss at the same time.In the following Section 2, previous studies on unplanned dilution and ore-loss (uneven break: UB) are presented emphasising on their causative factors. Section 3 expounds the data management of this study. The proposed UB prediction ANN model, UB consultation FES model, and their integrated concurrent neuro-fuzzy system are demonstrated in Section 4. Subsequently in Section 5, the paper concluded with explaining the significance of the proposed system for managing uneven break.Numerous studies have been conducted on the control of unplanned dilution and ore-loss in underground blasting. Unplanned dilution and ore-loss are still not clearly defined because they occur through complex mechanisms and causative factors; most of the previous studies focused on a few particular causative parameters.The stability graph method [9,10] has been recognised as an adequate method to estimate stope dilution, and this method has been accepted by both industry and academia [2,11]. The stability graph plots a stability number (N) against a hydraulic radius (HR: area/perimeter of the stope wall) of a stope wall, where N is calculated from the modified Q (Q′), stress, joint orientation, and gravity factors. The stability graph method has been modified and improved by various authors. For instance, dilution lines were proposed by Scoble and Moss [12], and cable bolt effects on the stability of the stope wall were introduced by Nickson [13]. Subsequently, [14] proposed an empirical stope design approach based on a historical stope database from six Canadian underground open-stoping operations. A new parameter termed ELOS (equivalent linear overbreak/slough) was incorporated into the stability graph. Additionally, Hadjigeorgiou et al. [15] and Clark and Pakalnis [16] modified the gravity factor, and Suorineni et al. [17] introduced a new factor for a fault. Nevertheless, the stability graph method does not consider blasting factors and the far field stress relative to the stope orientation [18]. The complex unplanned dilution and ore-loss mechanism is a large impediment in predicting unplanned dilution using the stability graph method. Therefore, predicting unplanned dilution and ore-loss should be performed by considering a broad range of potential causative factors, not only a parameter or a group of parameters. The three mines investigated in this study also used the stability graph method as a guide for stope design and a tool to predict unplanned dilution. However, the performance of the prediction was unsatisfactory because the correlation coefficient (R) value for unplanned dilution was 0.31. Furthermore, the R for both the unplanned dilution and ore-loss was only 0.09 because a prediction method for ore-loss has not been previously developed.Germain and Hadjigeorgiou [19] conducted a study to analyse the stope overbreak at the Louvicourt mine in Canada. Stope performances were collected via a cavity monitoring system (CMS), and a linear regression analysis was used to examine the relations of the stope geometries and blasting patterns to the stope performances. As a result, the correlation coefficients (R) of the powder factor and Q-value against the stope performance were −0.083 and 0.282, respectively. The results reconfirmed the complexity in the mechanism of unplanned dilution and ore-loss.Henning et al. [20] performed a case study to assess the influence of stress on stope dilution in the Bousquet mine in Quebec, Canada. The authors examined the blasting vibration attenuation, deformation of hanging walls, and the excavated stope profile of two sequenced stopes. The extent of rock mass damage on the primary and secondary stope was estimated by a model that used Hoek–Brown brittle parameters. The study concluded that the extent of the dilution is quantified by the loss of confinement within the hanging wall because of the redistribution of stress after the extraction of the primary stope.Stewart et al. [21] studied a relationship between stress damage and dilution in narrow vein mines in Kundana Gold mines in Western Australia. After investigating 410 case studies, the author stated that on average more than 50% of overbreaks were observed in the stress damaged stope wall than the stope wall in which stress had not exceeded the damage criterion.Henning and Mitri [8] examined the influence of depth, in situ stress and stope geometry on the stope wall overbreak using an elastic-plastic numerical analysis program (Map3D). The input parameters for the numerical analysis were obtained from the Canadian Shield mining environment, and various aspects of dilution were observed by a broad range of parametric studies. The study showed the significant influence of the stope aspect ratio in the orientation of major principal in situ stresses with respect to the stope versus stope overbreak. In succession, Henning and Mitri [22] studied the influence of the stope mining sequencing on the blasthole stoping dilution. One hundred and seventy-two sequentially mined long-hole stopes were investigated, and the authors concluded that the overbreak was significantly increased for a stope that has one or more backfilled walls.Many causative factors for the unplanned dilution and ore-loss were defined by the strength of numerous studies, and these factors can be categorised into three main groups and one subsidiary group. Table 1provides a summary of unplanned dilution and ore-loss causative factors from various studies and the factors employed in this study.The authors used different expressions, but the primary concepts behind the factors influencing the unplanned dilution and ore-loss correspond to each other. Additionally, 10 major causative factors that were employed in this study are also tabulated in Table 1. This study relies on historical data; therefore, the human errors were impossible to obtain. Instead of the human error, the average blast hole length data were collected to indirectly imply blasthole deviations. This substitution is based on the engineering concept that the drilling accuracy is commonly expressed as the percentage of drilling depth [28].Comprehensive ranges of historical stope reconciliation and geological data were collected to establish an appropriate uneven break (UB) prediction method using an ANN model. In total, 1067 datasets consisting of 10 major causative factors and actual UB percentage were collected from a thorough review of historical documents from three underground stoping mines in Western Australia. A schematic view of collecting 10 major causative factors is depicted in Fig. 2.Fig. 2a shows a section view of a stope and a 3D top view of the stope is presented in Fig. 2b. In addition, a section view of multiple stopes is depicted in Fig. 2c. As can be seen in Fig. 2, the average length of the blasthole (Blen: ranges from 0.70 to 25.80m), powder factor (Pf: ranges from 0.15 to 3.00kg/ton), angle difference between the hole and wall (AHW: ranges from 0.00° to 170.20°), diameter of the blasthole (Bdia: ranges from 76 to 89mm), and space and burden ratio (SbR: ranges from 0.57 to 1.50) were collected as the blasting parameters. In addition, the adjusted Q rate (AQ; ranges from 6.30 to 93.30) and average horizontal to vertical stress ratio (K: ranges from 1.74 to 14.38) were collected as the representative geological parameters. The planned tonnes of stope (Pt: ranges from 130 to 51,450ton), aspect ratio (AsR: ranges from 0.07 to 4.17), and stope breakthrough to a nearby drift and/or stope (BTBL: ranges between breakthrough (0) and blind (1)) were considered as uneven break (UB) causative factors in the stope design category. The actual stope unplanned dilution and ore-loss (uneven break: (UB): ranges from 92.00% to −65.40%) was also collected in which plus and minus values represent unplanned dilution and ore-loss, respectively.Recently, artificial neural networks (ANNs) and the Fuzzy expert system (FES, also called a fuzzy inference system (FIS)) have been successfully applied to various engineering disciplines. Main rationale to adopt these soft computing technologies is the superiority of nonlinear approximation of ANNs and FES compared to classical statistic and stochastic approximation methods. For instance, attempts had been made to establish UB prediction models with multiple linear and nonlinear regression models. Unfortunately, the coefficient of determination (R2) of multiple linear and nonlinear models was barely reached 0.171 and 0.192, respectively. These results imply the complexity of the UB phenomenon [29].ANNs and FES are often applied in combination to compensate for the difficulties and limitations of a single model. This combination is called as neuro-fuzzy system. Various methods to combine an ANN with FES are introduced, and these methods are generally classified into three categories: the cooperative, concurrent, and integrated neuro-fuzzy systems [30]. In this study, a type of the concurrent neuro-fuzzy system (CNFS) is adopted to sequentially connect an ANN with the FES to assist each other while operating separately. The proposed CNFS model was developed by combining an ANN and FES via a graphic user interface in MATLAB [31]. A schematic view of the developed CNFS is shown in Fig. 3.The ANN and FES need to be optimised before combining, and the details of these two engines will be presented in the following sections. The ANN is modelled through a training and validation process, and the FES is optimised by defining the adequate membership functions and fuzzy rules in reference to the knowledge of experts. The proposed CNFS system begins by inputting 10 UB causative factors into the ANN model; the ANN process finishes after retrieving one output, which is a percentage of the predicted uneven break (PUB). In succession, the fuzzy expert system (FES) is initiated after receiving the predicted uneven break (PUB) and adjusted Q-value (AQ). The overall process of CNFS is completed by retrieving the Pf and GS control rates (PFCR and GSCR) from FES.An artificial neural network (ANN) is a representative computational inference model of artificial intelligence (AI) techniques that imitate the biological structure of a human brain. Since McCulloch and Pitts [32] introduced the early ANN model, various types of ANNs and algorthms have been introduced, e.g., Hopfield networks [33] and self-organised maps [34]. The most popular algorithm, back-propagation, was introduced by Bryson and Ho [35], and this algorithm was additionally highlighted by McClelland, Rumelhart and Group [36]. The back-propagation algorithm that composes multiple layers remains the most prevalent ANN algorithm for nonlinear approximations. This method was also used in this study.The proposed ANN model in this study is composed of three layers: input, hidden, and output layers. These layers are organised into a number of mathematical elements termed the artificial neuron (simply referred to as neuron). The neurons in each layer are fully interconnected to neurons in the adjacent layer, and the intensity of the connection is represented by numerical weights. The optimisation of the ANN retrieves the optimum weights of all connections in the system by minimising the output error through consecutive forward and backward calculations. Fig. 4demonstrates an example of an artificial neuron model.As shown in Fig. 4, all of the input vectors (x1,2…,n) will be multiplied by randomly assigned corresponding connection weights (w1,2…,n), and the neuron will be activated with the assigned transfer function as follows:(1)Yp=f∑i=1nxpwp+θwhere p is the number of steps, Ypis the output from the p step, Wpis the weight of the p step, θ is the initial threshold (bias), and f is the assigned transfer function. The calculated Ypwill be compared to the target Yd, and the error epwill be back-propagated to update the weights for the next step. In this study, a conjugate gradient algorithm (CGA), which was introduced by Hestenes and Stiefel [38], was used to update the connection weights as follows:(2)w(p+1)=−gwp+1+βp+1epwhere w(p+1) is the updated weight for the p+1 step, g is the error gradient (g=∂E(x,w)∂w), epis the error for the p step, and βp+1 is the combination coefficient of the conjugate gradient algorithm. Various types of combination coefficients (β) were introduced to determine the appropriate conjugate direction. A well-known algorithm was introduced by Fletcher and Reeves [39] and applied in this study. The β for p+1 step can be calculated as follows:(3)βp+1=(gp+1Tgp+1)/(gpTgp)where gp+1 is the error gradient in the P+1 step, andgp+1Tis the transposed matrix of gp+1.Generally, the predictive performance of an ANN relies on the learning algorithm, the transfer function, and the architecture of the system. As mentioned in the previous section, the conjugate gradient algorithm (CGA) is selected as the learning algorithm in the proposed ANN. For the transfer function, the hyperbolic tangent (tansig) and the log sigmoid (logsig) functions are normally applied in nonlinear approximations. In this study, the tansig function was applied, as it presented a better performance than logsig in a previous overbreak prediction study [40]. Caution must be taken when designing the architecture of an ANN; appropriate parameters such as the number of layers and neurons in each layer must be selected. If an ANN consists of an unnecessary number of layers and/or neurons, then the number of parameters will increase, which can cause over-fitting [41]. This over-fitting can display a good fit for the training data, but the actual model cannot predict a proper output for untrained datasets. Several empirical suggestions have been introduced by Hecht-Nielsen [42] and Kaastra and Boyd [43] to define the optimum number of hidden neurons to overcome the over-fitting problem. However, the optimum number of hidden neurons can be different in simulations of the identical problem. Thus, an iterative loop operation was programed to determine the optimum number of neurons in the proposed model.To enhance the performance of ANN, all the input and output values were normalised from −1 to 1 and the datasets were randomly divided into three subsets: training, validation and test. Of the total, 70% of the datasets were used for training and the remaining datasets were equally assigned to the validation and the test stage. The ANN was modelled with 10 input neurons, forty hidden neurons, and one output neuron. During the training of the ANN model, the root mean square error (RMSE) was calculated in each iteration to determine the performance. The RMSE dramatically dropped during the first 30 iterations, and it smoothly decreased during the next 100 iterations. The final RMSE values for the training and validation were 1.90E−2 and 2.80E−2, respectively. The entire ANN was coded in MATLAB [31]. Finally, the optimum UB prediction for the ANN system was achieved, and Table 2displays the details of the final ANN model and training results.The optimised ANN model displayed a strong positive correlation (R=0.719) in the test stage which is higher than training (R=0.660) and validation (R=0.560) stages. This phenomenon may happen due to randomly selecting datasets. The current UB prediction results in the studied mines and the test performance of the optimised ANN model are illustrated in Fig. 5.As shown in Fig. 5a, the current uneven break (UB) prediction models used by the mine sites are unsatisfactory and limited to only unplanned dilution without ore-loss. In comparison with this poor current UB prediction, the UB prediction performance of the optimised ANN (Fig. 5b) displayed a better prediction.Fuzzy logic is used to build a fuzzy expert system (FES) that provides general recommendations on powder factor (Pf: a ratio presents mass of explosive per unit volume of rock) and ground support (GS: artificial rock supports, e.g., rock bolt and cable bolt) to minimise predicted uneven break percentage (PUB). As explained in the introduction, the proposed FES is established based on Mamdani fuzzy interface system composing two inputs and two outputs. Adjusted Q-value (AQ) and predicted uneven break percentage (PUB) were established as input parameters. Because AQ is an unalterable significant representative of geological factor and PUB is a target parameter of the proposed FES that needs to minimise. The output parameters of the proposed FES system should be adjustable factors that can recommend modifications for blasting and support plans. Through surveying underground mining experts, the powder factor and ground support control rates (PFCR and GSCR) were set as outputs with ranges of −1 to 1. These output parameters indicate intensity and direction of experts’ recommendation to minimise potential UB based on powder factor, and ground support.Unlike the classical two-valued Boolean logic that only accepts the values of 0 (false) or 1 (true), fuzzy logic is a set of mathematical principles that is multi-valued and incorporates degrees of membership and degrees of truth. The multi-valued logic was initially introduced by Lukasiewicz [44]; this study extended the range of truth between zero and one. This work triggered the study of ‘possibility theory’. Later, Black [45] defined the first fuzzy sets, and Zadeh [46] extended the work into a formal system of mathematical logic and introduced fuzzy logic to calibrate the vagueness of natural linguistic terms. An example of crisp and fuzzy sets with a five membership function of rock mass ratings (RMR) [47] is shown in Fig. 6.As shown in Fig. 6a, which displays classical Boolean logic, a rock with an RMR of 25 is only a member of the ‘poor rock’ set with degree of membership of 1.0. However, in fuzzy logic, a rock with an RMR of 25 is a member of the ‘very poor rock’ set with a degree of membership of 0.25 and simultaneously a member of the ‘poor rock’ set with a degree of 0.75 as shown in Fig. 6b. This mathematical feature of the fuzzy set theory (also called fuzzification) can incorporate expert knowledge into a mathematical model.By virtue of the outstanding abilities to control vagueness and uncertainties, fuzzy logic has been successfully applied to various mining conundrums, such as, mining method and equipment selection problems and several rock mechanics and blasting subjects. More details of applying fuzzy logic to mining subjects are thoroughly reviewed by Jang and Topal [48] and Burt and Caccetta [49].To develop a fuzzy expert system (FES), the membership functions and the fuzzy ‘IF-THEN’ rules must be determined. In this study, membership functions of inputs and outputs and the practical fuzzy rules were obtained from surveying fifteen underground mining experts. Twelve experts are members of the International Society of Explosive Engineers (ISEE) in the U.S. and Canada, and three experts work in underground mines in Western Australia with over 10–30 years of experience. The determined fuzzy membership functions and the fuzzy rules were activated with a fuzzy inference system (FIS). A Mamdani-style fuzzy inference system was utilised to establish the UB consultation system that was processed with four steps: fuzzyfication, rule evaluation, aggregation of the rule outputs, and defuzzification [50].The triangular or trapezoidal type functions are defined as ordinary membership functions [51]. As elements of membership functions precisely assigned to exact membership values, the ordinary membership functions considerably simplify the computation process. These membership functions are the most common in rule-based fuzzy modelling, which provides adequate representation of the expert knowledge and they have been successfully applied into various different engineering fields. Meanwhile, some of other types of membership functions, called as generalised membership functions, have also been introduced. In some cases, if the level of information is insufficient and it cannot be precisely specified to membership functions, then it would be described by different type of membership functions, such as, an interval-valued membership function. Details of generalised membership functions can be found in a cited reference [52]. In this study, triangular and trapezoidal types are used to develop the membership functions of the inputs and outputs because each membership elements of the universe of input and output fuzzy sets can be assigned to specific membership values. The developed input and output membership functions are displayed in Fig. 7.Because the AQ of the collected database varies between 6.30 and 93.30, the range of the membership function of input-AQ (Fig. 7a) assigned from 0 to 100 covers poor (P), fair (F), and good (G) rock categories in the Q-system [53]. As depicted in Fig. 7b, the predicted uneven break (PUB) percentage ranges from −1 to 1 and is determined using five functions: massive-underbreak (MunB), underbreak (unB), acceptable (AcT), overbreak (ovB), and massive-overbreak (MovB). As shown in Fig. 7c and d, the outputs, powder factor (Pf) and ground support (GS) were determined with three membership functions: decrease, retain, and increase. These outputs range from −1 to 1. Table 3tabulates the linguistic values and numerical ranges of input and output fuzzy membership functions.Fuzzy IF-THEN rules (fuzzy rules) must be determined as the implication function in the fuzzy inference system based on linguistic variables defined previously. As the proposed fuzzy system consists of dual non-interactive antecedents (inputs) with three and five subclasses and dual non-interactive consequents (outputs) with three subclasses, 135 fuzzy rules could be formed. To optimise the fuzzy system, 98 rules were removed in reference to fundamental engineering aspects and expert knowledge acquired through the questionnaire surveying. Ultimately, the fuzzy system presented a collection of 37 linguistic IF-THEN propositions in the Mamdani form, which is described as:(4)IFAQisA1kandPUBisA2kTHENpfisC1kandGSisC2k,fork=1,2,3,…,37whereA1kandA2kare the fuzzy sets of the Kth antecedent pairs, andC1kandC2kare the fuzzy sets of the Kth consequent pairs. A fuzzy rule matrix of 37 rules was obtained and tabulated in Table 4.The fuzzy inference system (FIS) is a process of mapping inputs to the output space, which is sequentially performed in four steps: fuzzification, rule evaluation, aggregation of the activated fuzzy rule consequents, and defuzzification. An example of the structure and process of an UB-consultation Mamdani-type fuzzy inference system is demonstrated in Fig. 8.The first step in FIS is the fuzzification. Fuzzification uses the crisp AQ and PUB as inputs and determines the degree of corresponding fuzzy subsets (membership functions). In this study, the truth value (T) assigned to the fuzzy logic propositions AQ and PUB can be any value within the intervals of 0 to 100 and −1 to 1. For instance, if the proportions AQ and PUB, are respectively assigned to fuzzy sets F and AcT, then the true value of the propositions T(AQ) and T(PUB) will be determined as:(5)T(AQ)=μF(x)where0≤μF≤100(6)T(PUB)=μAcT(y)where−1≤μF≤1where μFand μAcTare the degree of the truth for the proportions AQ:x∈F and PUB:y∈AcT.In this example, as shown in Fig. 8a, crisp values of 30 and 0.15 are allocated to the AQ and PUB, respectively. Thus, the AQ subsets of Fair (F) and Good (G) and the PUB subsets of acceptable (AcT) and overbreak (ovB) are assigned with the membership degree of 0.30, 0.72, 0.25, and 0.75, respectively.The second step in the FIS is fuzzy rule evaluation, which is demonstrated in Fig. 8b. In this stage, the fuzzified inputs (e.g., μF=0.30, μG=0.72, μAcT=0.25, and μovB=0.75) will be evaluated based on the fuzzy rules in the antecedent and applied as the evaluation results to the consequent membership function. Similar to classical logic, the logical connectives such as negative, disjunction, conjunction, and implication are also defined in fuzzy logic. In this study, the antecedent of the UB consultation fuzzy system is only composed of conjunctions (logical product: AND), and this connection can be determined as [51]:(7)AQ^PUB:xisFandyisAcT,T(AQ^PUB)=min(T(AQ),T(PUB))The true value of the antecedent is evaluated with Eq. (7) and applied to the referred membership functions in the consequent model based on fuzzy rules. In this example, fuzzy rules 14, 15, 16, 29, 30, and 31 are activated among 37 rules, and Fig. 8b illustrates rules 14 and 30 as examples.The third step in the FIS is the aggregation of the activated fuzzy rule consequents, which is a process that unifies the results of all fuzzy subsets into a single fuzzy set for each consequent. In other words, all evaluated fuzzy consequent subset results of Pf and GS will be combined into a new aggregated fuzzy set of Pf and GS as shown in Fig. 8c.The final stage of the fuzzy inference system is defuzzification (Fig. 8d). Defuzzification converts fuzzy results into crisp values. Among the many defuzzification methods including the centre of gravity (COG: also called the centre of area (COA) or centroid method), max membership principle, weight average method, mean max membership, and centre of sum, the centre of gravity (COG) is employed in this study. The COG is considered the most prevalent method [54,55]. The COG calculates the centre of area under the curve in the aggregated fuzzy consequent subsets. For example, the defuzzification of consequent Pf in this example can be mathematically expressed as:(8)Zpf:COG*=∫μpf(Z)ZdZ/∫μpf(Z)dZwhereZpf:COG*is the defuzzified value of Pf, Z is the interval of Pf, and μpfis the aggregated fuzzy subset Pf. The fuzzy expert system will be finalised after retrieving the crisp outputs of the Pf and GS control rate (PFCR and GSCR), calculated as 0.307 and 0.000 in this example. Through the fuzzy inference system, a 3D map of the outputs versus the input sets was obtained, and this map is illustrated in Fig. 9.As demonstrated in Fig. 9, the Pf and GS outputs are more dominated by PUB than AQ. As shown in Fig. 9a, the Pf control rate (PFCR) dramatically increased or decreased over the PUB range of −0.4 to 0.4, and the PFCR rapidly converged to either −0.6 or 0.6 when the PUB is over −0.4 and 0.4. The phenomenon implies that if the predicted uneven break (PUB) is over 40% of the underbreak (PFCR<−0.4) or overbreak (PFCR>0.4), the uneven break (UB) cannot be effectively controlled by Pf itself but must consider a redesign by re-examining the overall stope design parameters. The GS control rate (GSCR), also shown in Fig. 9b, had a similar tendency with the PFCR but more steeply increased and decreased over the PUB range of 0.2 to 0.4 and −0.2 to −0.4. Moreover, the GSCR quickly converged at approximate values of −0.35 and 0.35. A unique feature is that the GSCR remained at 0.00 over the PUB range of −0.2 to 0.2. This flat level indicates that the mining experts are more conservative in modifying the GS than the powder factor (Pf) when a stope suffers from a relatively low percentage of uneven break (UB).As the fuzzy expert system (FES) is constructed based on the knowledge of underground mining experts, phased recommendation maps covering the powder factor (Pf) and ground support (GS) are suggested based on the predicted uneven break (PUB) rate and the Pf and GS control rate (PFCR and GSCR). The graphical recommendation maps for the Pf and GS are illustrated in Fig. 10.The right-hand side of Fig. 10a and b demonstrates the Pf and GS control rates (PFCR and GSCR). The control rates are composed of six UB control categories: ‘retain’, ‘slightly increase’, ‘slightly decrease’, ‘increase’, ‘decrease’, and ‘consider redesign’. The PFCR range of −0.1 to 0.1 and GSCR of zero were categorised as ‘retain’ because the potential predicted uneven break (PUB) rates ranged from −0.05 to 0.05 for the PFCR and −0.2 to 0.2 for the GSCR. In sequence, the PFCR ranges of 0.1 to 0.3 and −0.1 to −0.3 were categorised as ‘slightly decrease’ and ‘slightly increase’, respectively, because their potential overbreak (positive) and underbreak (negative) percentages varied by 5–20%. Similarly, the GSCR ranges of 0–0.1 and 0 to −0.1 were categorised as ‘slightly decrease’ and ‘slightly increase’, respectively, because their potential overbreak (positive) and underbreak (negative) percentages varied by 20–30%. The PFCR was categorised as ‘increase’ and ‘decrease’ when it ranged from 0.3 to 0.5 and −0.3 to −0.5 because the corresponding potential overbreak and underbreak percentages varied by 20–40%. The GSCR ranges of 0.1 to 0.25 and −0.1 and −0.25 were categorised as ‘increase’ and ‘decrease’ because the potential corresponding predicted uneven break (PUB) rates ranged between 0.3 to 0.4 and −0.3 to −0.4. Both the PFCR and GSCR are categorised as ‘consider redesign’ when the potential predicted overbreak and underbreak exceed 40% (i.e., PFCR of over 0.5 or under −0.5 and GSCR of over 0.25 and under −0.25).The developed uneven break (UB) prediction ANN and the UB consultation FES were combined into one concurrent neuro-fuzzy system (CNFS) through a graphic user interface (GUI). The GUI was built using the GUI building software GUIDE in MATLAB. A standalone application was created using the MATLAB compiler. Hence, the developed neuro-fuzzy system can be run on any computer system without the installation of MATLAB. Fig. 11demonstrates the graphical user interface (GUI) of the neuro-fuzzy system.Referring to the planned stope design at a mine, engineers can verify the potential overbreak and underbreak of the stope wall prior to production by employing the developed neuro-fuzzy system called the ‘uneven break optimiser’. The first step requires 10 input parameters for the ANN to be typed into the boxes in area (A). The ANN system then calculates the potential uneven break (PUB) percentage after the ‘Run ANN’ button is clicked. This button will display in the upper text box on area (B). Meanwhile, the inputted AQ value in area (A) will simultaneously appear in the lower text box in area (B). In succession, the fuzzy expert system (FES) will be activated by clicking the ‘Run FES’ button, which automatically inputs the calculated PUB and AQ. Finally, the Pf and GS control rates (PFCR and GSCR) appear in area (C).

@&#CONCLUSIONS@&#
The uneven break (UB; unplanned dilution and ore-loss) is the most critical phenomenon in underground stoping operations that can cause the closure of the mine. Therefore, the productivity of the mine significantly increases when the UB is under engineering control. Despite being aware of the significance of UB, current UB management methods rely on historical production data from similar stopes and the intuition of engineers.To assist the management of uneven breaks in underground stoping, a new UB prediction and consultation system was developed using an artificial neural network (ANN) and fuzzy expert system (FES), which is the first expert system to predict and control UB in underground mining in the literature. The performance of the uneven break (UB) prediction model based on an ANN was examined by comparing the predicted results with actual UB percentage values. A strong positive correlation with a correlation coefficient (R) of 0.719 was obtained at the test stage. Because the current uneven break (UB) predictions in investigated mines are highly unsatisfactory (R value was 0.088) and were limited to only unplanned dilution without ore-loss, the performance of the optimised UB prediction system is a remarkable achievement. In succession, the uneven break (UB) consultation fuzzy expert system was developed using the fuzzy inference system (FIS) editor in MATLAB. The inputted parameters were based on a survey from fifteen underground mining experts. The predicted uneven break (PUB) from the UB prediction ANN system and the adjusted Q-value (AQ) were set as the inputs, and the powder factor (Pf) and ground support (GS) control rate (PFCR and GSCR) were set as the outputs with ranges of −1 to 1. Thirty-seven out of 135 fuzzy IF-THEN rules were selected, and the Mamdani-type fuzzy inference system (FIS) was then adopted to build the expert system. Ultimately, UB consultation maps were derived based on the calculated Pf and GS control rates (PFCR and GSCR). These maps were composed of six UB control categories: ‘retain’, ‘slightly increase’, ‘slightly decrease’, ‘increase’, ‘decrease’, and ‘consider redesign’. The uneven break (UB) prediction and consultation system were combined as one concurrent neuro-fuzzy system called the ‘uneven break optimiser’. This optimiser was built using the graphic user interface (GUI) building software GUIDE in MATLAB. Furthermore, a standalone application (executable file) was created using the MATLAB compiler. Thus, the ‘uneven break optimiser’ can be run on any computer system with or without MATLAB installed.The proposed decision support system has several original contributions. It is the first system developed for underground UB management with utilised neuro-fuzzy model. Besides, the proposed unique model facilitates prediction of quantitative percentage of potential UB covering both unplanned dilution and ore-loss at once. Furthermore, the model provides practical recommendations to minimise UB based on powder factor (Pf) and ground support (GS).Although, the uneven break optimiser displayed an outstanding performance for UB prediction and consultation compared with current UB managing systems in mines, this optimiser has an intrinsic limitation. The database of the ANN system is composed of comprehensive ranges of each UB causative factor; however, the system cannot predict an UB beyond the ranges in the database. Fortunately, this limitation can be easily improved in the future by providing additional ranges of datasets through establishing a real-time data collection system in mines. Any suspicious UB causative factors must be included because the uneven break (UB) is a susceptible phenomenon caused by both multiplicative and single causative factors. Furthermore, the influential force of a factor will be magnified if the factor has a preposterous value even when the factor is considered to have only a minor influence on the UB. By increasing the number of input parameter and their ranges, more reliable system can be established for a specific mine and for a global UB management system. Improvement, alteration, and adaptation of up-to-date soft computing technologies can be considered as another aspect of future work.