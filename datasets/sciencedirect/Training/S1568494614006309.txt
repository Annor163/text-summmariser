@&#MAIN-TITLE@&#
Inputting molecular weights into a multilayer perceptron to estimate refractive indices of dialkylimidazolium-based ionic liquids—A purity evaluation

@&#HIGHLIGHTS@&#
Neural networks to estimate the refractive index of imidazolium-based ionic liquids.Purity determination by comparison of estimated and experimental refractive indices.Only the molecular weights are required as previously known information.Chemical approach by relating molecular weights and refractive indices.Successful results obtained with both bibliographical and experimental data.

@&#KEYPHRASES@&#
Dialkylimidazolium-based ionic liquids,Refractive index,Multilayer perceptron,Molecular weights,Water content,

@&#ABSTRACT@&#
Dialkylimidazolium-based ionic liquids (ILs) are one of the most employed and accessible ILs. These novel chemicals possess unique physicochemical properties which, unfortunately, are greatly altered by impurities. A simple method to evaluate the purity level of ILs is proposed, as a direct relationship exists between refractive index (RI) and purity. Two multilayer perceptrons (MLPs) have been designed to estimate the RI values using the molecular weights (MWs) of the imidazolium-based ILs. The RI is defined as the single output of the created neural network models. These MLPs offered low verification prediction errors (less than 0.48% in both cases), thus leading to useful mathematical tools that are able to more than adequately estimate the RI of imidazolium-based ILs by solely relying on the MWs. Therefore, an extremely manageable mathematical tool that can accurately estimate the RIs of imidazolium-based ILs, and, in the end, their purity, has been created. Additional tests were developed with experimental data regarding two imidazolium-based ILs to evaluate the applicability of the networks, and the results were successful in terms of RI and purity estimation.

@&#INTRODUCTION@&#
Data analysis and modelling are vital steps for the design of useful chemometric tools. An exhaustive analytical procedure may fall into deaf ears unless backed up by a suitable mathematical treatment. When designing algorithmic models, such as group classifiers [1] or variable estimators [2], there are various options to choose from. For example, principal components analysis, support vector machine, or discriminant factor analysis are typical alternatives. These three mentioned approaches are powerful linear modelling possibilities. However, in many occasions, to correctly interpret the relations among independent and dependent variables, non-linear options ought to be considered to correctly understand a specific system. A clear and well-known set of algorithms that qualify as such are artificial neural networks (ANNs) [3].Even though the training and optimizing processes of ANNs are complex and elaborate, once concluded, the resulting tools are reliable, user-friendly, and can be easily combined with analytical equipment to bring many applicable chemometric devices to life [4,5]. Under numerous circumstances, ANNs have proven to be a better option than linear approaches [6,7], reason why many industrial and research applications take advantage of their effectiveness and adaptability.ANNs, and more specifically, supervised multilayer perceptrons (MLPs), are commonly employed ANNs due to their flexibility and numerous available optimization steps and parameters. Not only can the architecture of the network and weights be optimized, but multiple functions, such as the training and transfer ones, and many intrinsic parameters can be modified to improve the statistical performance of the non-linear tool [4,6]. All these attributes turn MLPs into versatile options that can be modulated for their utilization in countless applications in many fields from industry or chemistry [8,9] to biomedicine [10,11].In the present work, a chemical application has been developed using MLPs to relate extremely accessible data (molecular weights; MWs) regarding a variety of dialkylimidazolium-based ionic liquids (ILs) to design a model that estimates their refractive indices (RIs). The optimized chemometric tool is able to accurately assess the purity of these compounds, which are easily contaminated due to their chemical nature, which, in the end, alters their properties and deteriorates their performance. ILs are hygroscopic compounds, which makes water and/or atmospheric water vapor a significant threat to their purity [12]. Most physicochemical properties of ILs are highly dependent on their purity degree [13], and, as a matter of fact, the presence of water greatly affects the RI value, which decreases as the water content rises [12].The aim of this work is to obtain a new and exceptionally easy-to-use mathematical model which permits an accurate evaluation of the purity of dialkylimidazolium-based ILs by determination of their RIs. These RIs are estimated by simply introducing the MWs of the desired IL into the designed MLPs, which reduces the data gathering process to employing a periodic table and a calculator.The data collected from the literature and the ANNs employed are described in the subsections below. Additionally, the different equipment and chemicals used to obtain the experimental data, which allows testing the created mathematical models, are also described.All of the data utilized for optimizing the ANN (training dataset) and afterwards testing its level of generalization (verification dataset) was obtained from the literature. A variety of bibliographical sources, containing the RIs of pure imidazolium-based ILs measured at 298.15K, have been used for creating the two employed datasets (Table SI 1), which are the learning and verification sets. It is important to state that all of the ILs found in the literature are considered pure by the authors even though they contain an unavoidable amount of water. Nevertheless, this water content never exceeded the value of 0.2wt.%, and the purity level of the ILs was always greater than 99%.The database was randomly divided into two different parts to create the training and verification datasets. They each were respectively formed by 85% and 15% of the database (Table SI 1). For every data point, all of the necessary MWs (independent variables; vide infra) to create the mathematical model were calculated. It is important to note that the verification dataset is contained inside the range of the training dataset. This is required due to the fact that ANNs work well when interpolating data, but introduce large errors when extrapolation is necessary [4].The type of ANN that has been used in this work to assist in the estimation of the RI of the imidazolium-based ILs has been a multilayer perceptron (MLP), which is the most commonly applied type. It is a feed-forward network with a back-propagation algorithm, which is in charge of the supervised learning process [14]. The MLP network contains three kinds of layers, each one with nodes or neurons: the input (nodes), the hidden (neurons), and the output (neurons) layers, which are consecutively connected. Weighted parameters, known as weights, are assigned to every node-neuron (input-hidden layers) and neuron–neuron (hidden-output layers) connection. Weights are necessary due to the distinct relative importance of every fed-forward signal of the network [15], and they must be optimized in order to correctly train the MLP [16].These mathematical calculations are done by each neuron, and have two successive steps. The first calculation, which is achieved by an activation function (Eq. (1)), is the sum of the results of multiplying each input value by its corresponding weight. The obtained result is then introduced into a transfer function, which limits the range of the outputs from a specific neuron. The sigmoid function (Eq. (2)), which is one of the most typical transfer functions, provides values between zero and one and has been the one selected for the defined MLP.(1)xk=∑j=1wjkyj(2)yj=11+e−xkIn the equations above, wjkrepresents the weight that connects layers j and k, yjis the fed-forward signal, and xkand yjsymbolize the activation function and transfer function solutions respectively [14].To develop the training phase of the MLP, the learning dataset (Table SI 1) was used to optimize the weights and the verification dataset (Table SI 1) was employed to check the verification prediction error of the network. Both of these steps originate a complete cycle or epoch during the ANN training phase. Throughout the learning process, first step of the training phase, the MLP uses the input values (MWs) of the training dataset (Table SI 1) to estimate their corresponding output values. Once these are obtained, they are compared with the given targets (theoretical outputs), thus resulting in a certain training estimation error which is calculated with the mean square error (MSE, Eq. (3)). The ANN will then modify the weights in order to decrease this error, which should lead towards more similar output versus target values. Following this, the verification process begins for the active epoch. This is the second step of the training phase, in which the weights are not modified. The MLP estimates the output values of the verification dataset (Table SI 1), which is not used during training, but is always contained in the range of the training dataset. Once it finishes, a verification prediction error is obtained, ending a training epoch. Additional epochs take place until this verification prediction error starts to rise, and that is when the weights, and the whole MLP, can be thought of as optimized [15]. It also must be noted that, in order to compare the obtained results, two different training functions were employed to design the models: the Bayesian Regulation training function (trainBR) and the Levenberg–Marquardt backpropagation function (trainLM) [17]. The first one was chosen due to the fact that this function offers the most satisfactory results when relatively undersized databases are used [18], while the second one is considered the fastest method to work with moderated-sized databases [19].(3)MSE=1N∑N(r−f(x))2In the previous equation, N stands for the number of neurons in the output layer, r is the real already known value, and f(x) represents the solution provided by the transfer function for the output of a given neuron.In addition to training the network, the following features of the MLP have been optimized following a thorough experimental design (vide infra). They are the hidden neuron number (HNN), and various neural network parameters called the learning coefficient (Lc), the Lc decrease (Lcd), and the Lc increase (Lci) [17].Once the network was optimized, it was validated applying the verification dataset (Table SI 1) (never involved in the optimization of the weights). This test or simulation allows determining the level of generalization the MLP can provide, and, therefore, defining whether it presents over-fitting towards the training dataset or not. The objective of this test is to evaluate the applicability of the trained MLP [16]. In order to entirely guarantee the generalization capability of the model in the whole range of the data, a k-fold cross-validation method has been followed [20]. This method is based on the division of the total database into k datasets with the same size (called folds) which will all be used once as the verification dataset, while the remaining data (k−1 sets) will be employed as training dataset (Fig. 1). Following this procedure, every data point is considered by the network and, at the same time, each one is independently estimated. The results obtained from this statistical validation can be seen as a precise determination of the accuracy of the model, as they have been obtained employing every data point to test the model [20,21].To create the MLP and develop the exhaustive experimental design, the software applied was Matlab version 7.0.1.24704 (R14) [17].In this section, the equipment and chemicals employed to obtain the experimental data needed to design the tests which are proposed to validate the different networks by assessing the purity of 1-butyl-3-methylimidazolium tetrafluoroborate ([BMIM][BF4]) and 1-butyl-3-methylimidazolium methylsulfate ([BMIM][MeSO4]) are described.Details of water content, mass fraction of present halides, and purity of the compounds used in this work can be found in Table 1. Material supplied by IoLiTec.All the IL samples used were dried by heating them at 333K for 24h under reduced pressure. All of the experiments were carried out in a vacuum atmosphere glove box under dry nitrogen due to the sensitivity of the ILs to air moisture. Every sample was prepared in triplicate, and then, each one was monitored also three times.Water content determination of the aqueous solutions of [BMIM][BF4] and [BMIM][MeSO4] was carried out utilizing a Karl Fischer titrator DL31 from Mettler Toledo and using the one-component technique. For volumetric Karl–Fischer titration, dry methanol (CH3OH, Riedel-de Haën, HYDRANAL-water mass fraction <0.01%) and a standard compound (Riedel-de Haën, HYDRANAL-standard (5.00±0.02mgmL−1) as water) were used. The polarizing current for the potentiometric end-point determination was 20A, while the stop voltage was 100mV. The end-point criterion was the drift stabilization (3μg H2O·min−1) or maximum titration time (10min). The measurement was corrected for the baseline drift, defined as the residual or penetrating water that the apparatus removes per minute. The uncertainty of the water content measurements was estimated to be less than ±2.5%.The RIs of the binary mixtures of [BMIM][BF4] or [BMIM][MeSO4] and different water contents, at 298.15K and under atmospheric pressure, were determined using a J357 Automatic Refractometer (Rudolph Research Analytical). The standard uncertainty in these experimental measurements was lower than ±9×10−5.

@&#CONCLUSIONS@&#
