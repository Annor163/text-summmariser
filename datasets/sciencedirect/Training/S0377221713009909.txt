@&#MAIN-TITLE@&#
The Multi-Handler Knapsack Problem under Uncertainty

@&#HIGHLIGHTS@&#
We introduce a new stochastic multi-handler knapsack problem.The item profit is a random variable with unknown probability distribution.We derive a deterministic approximation by using the asymptotic theory of extremes.Good results are obtained on a large set of instances in negligible computing time.

@&#KEYPHRASES@&#
Knapsack problem,Stochastic profit,Multiple handlers,Deterministic approximation,

@&#ABSTRACT@&#
The Multi-Handler Knapsack Problem under Uncertainty is a new stochastic knapsack problem where, given a set of items, characterized by volume and random profit, and a set of potential handlers, we want to find a subset of items which maximizes the expected total profit. The item profit is given by the sum of a deterministic profit plus a stochastic profit due to the random handling costs of the handlers. On the contrary of other stochastic problems in the literature, the probability distribution of the stochastic profit is unknown. By using the asymptotic theory of extreme values, a deterministic approximation for the stochastic problem is derived. The accuracy of such a deterministic approximation is tested against the two-stage with fixed recourse formulation of the problem. Very promising results are obtained on a large set of instances in negligible computing time.

@&#INTRODUCTION@&#
The increasing competition due to both globalization of production processes and the movement of large quantities of freight between continents and countries creates the need for new tools for strategic and tactical decisions, that are able to deal with the stochastic nature of the processes involved. While this leads to new location and transportation problems (Tadei, Ricciardi, & Perboli, 2009; Tadei, Perboli, & Baldi, 2012), only a few studies deal with the stochastic study of packing problems (Perboli, Tadei, & Baldi, 2012). This is mainly due to the peculiarities of the literature related to packing. In fact, even if packing problems play a central role in transportation and logistics, the problems presented in the literature are mainly related to operational issues (Crainic, Perboli, & Tadei, 2012; Martello & Toth, 1979). Moreover, the parameter uncertainty affecting the final solutions such as the profit associated to item delivery or the cost of container renting is usually more evident in the planning phases rather than in the operational ones.In this paper we introduce a new stochastic variant of the knapsack problem, the Multi-Handler Knapsack Problem under Uncertainty (MHKPu). Given a set of items, characterized by volume and random profit, and a set of potential logistics handlers, the problem consists in finding a subset of items which maximizes the expected total profit. The profit is given by the sum of a deterministic profit and a stochastic profit oscillation, with unknown probability distribution, due to the random handling costs of the handlers.A large number of real-life situations can be satisfactorily modeled as a MHKPu, e.g. in financial and resource allocation. The general idea is to think of the capacity of the knapsack as the available amount of a resource (i.e. budget) and the items as activities to which this resource can be allocated (i.e. shares). Moreover, these items present profits which are random variables. The MHKPumay also appear as a subproblem of larger optimization problems.A specific application of the MHKPucan be found in the automotive sector (Tadei, Perboli, & Della Croce, 2002). There the delivery of cars from manufacturers to dealers is not managed by the manufacturers themselves, but is delegated to specialized companies. These companies manage both the finishing operations on the cars (e.g. removal of the protective wax, installation of specific accessories, etc.) and the logistics operations linked to delivery to the dealers. In order to have a more flexible structure, the fleet of auto-carriers used to deliver the cars is only partially owned by each company, while a substantial part of the deliveries is sub-contracted to micro-companies with highly variable random costs. Moreover, the auto-carriers have different capacities due to the presence of specific technical features. From the point of view of the cars that must be delivered, the net profit for the company is affected by different factors, including delays in the finishing operations, additional costs due to violations of the negotiated deadlines or additional transportation costs.Another example of real-world applications of the MHKPucomes from trans-continental naval shipping operations, where freight transportation from eastern ports to Europe and North America is managed by specialized companies. The competition between the transportation companies, as well as the possibility of managing the port cranes by different operators, force the companies to consider both the profit given by the shipped items and the additional costs due to the logistics operations.The problem can be also seen as a relaxation of container loading problems where the capacity of the given containers are collapsed into one single container. This leads to an approximation of the real problem suitable in strategic and tactical planning, where the stochastic nature of the profits in more relevant than the actual loading of the items. Moreover, it is required to obtain accurate solutions within a limited computational effort in order to explore multiple scenarios of the underlying business model.Other applications come from the domain of Smart City and City Logistics, and particularly in the last mile delivery. One of the trends is to substitute traditional single-echelon routing structures with two and three-echelon ones. The reason is the willingness to use “green” vehicles inside the city, whilst consolidating the freight in medium and small sized transshipment depots, called satellites (Crainic, Ricciardi, & Storchi, 2009; Crainic, Mancini, Perboli, & Tadei, 2010; Perboli, Tadei, & Vigo, 2011). In the satellites different sequences of consolidation operations are done by different workers. The different skill levels of the workers can cause delay in the operations reducing the overall profit. A similar problem is present in yard management, where the profit oscillations are given by the operations done by workers working for yard management companies, different in skills and reliability.In general, the MHKPuarises in logistics and production scheduling applications, where a single item can be managed by several handlers (third-party logistics providers or sub-contractors), whose costs affect the net profit of the item itself. The large number of possible handler cost scenarios and the difficulty to measure the associated handler costs suggest the representation of these net profits as stochastic variables with unknown probability distribution.This paper introduces the formulation of the stochastic problem. From this formulation, a deterministic approximation is derived. In particular, under a mild hypothesis on the unknown probability distribution, the deterministic approximation becomes a knapsack problem where the total expected profit of the loaded items is proportional to the logarithm of the total accessibility of those items to the set of handlers. Moreover, at optimality, the percentage of an item handled by any handler is given by a multinomial Logit model.The paper is organized as follows. The literature review is introduced in Section 2. In Section 3 the model of the MHKPuis given. Section 4 is devoted to presenting the deterministic approximation of the MHKPu, while in Section 5 its two-stage program with fixed recourse is given. Finally, in Section 6 the deterministic approximation and the two-stage program with fixed recourse are tested and compared on a set of newly introduced instances. The conclusion of our work is reported in Section 7.

@&#CONCLUSIONS@&#
In this paper we have addressed the Multi-Handler Knapsack Problem under Uncertainty, which consists in finding a subset of items which maximizes the expected total profit, given by the sum of deterministic profits plus stochastic profit oscillations. One of the main features of this problem is that the profit oscillations are random variables with unknown probability distribution.From a theoretical perspective, the paper shows that, under a mild assumption, the probability distribution of the maximum random profit for loading any item becomes a Gumbel distribution. Moreover, the total expected profit of the loaded items is proportional to the logarithm of the total accessibility of those items to the set of handlers and, at optimality, any item is handled by the set of handlers according to a multinomial Logit model.The deterministic approximation of the stochastic model obtained provides very promising results on a large set of instances in negligible computing time.In conclusion, the performance of the methodology proposed is particularly good when the probability distribution of the random profits of the stochastic model is a Gumbel distribution, even if good results are also provided by the Uniform distribution. This feature makes our deterministic approximation a good predictive tool for considering stochastic handling costs in supply chain problems.