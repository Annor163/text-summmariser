@&#MAIN-TITLE@&#
Image enhancement using the averaging histogram equalization (AVHEQ) approach for contrast improvement and brightness preservation

@&#HIGHLIGHTS@&#
A histogram equalization method is proposed to preserve original image brightness.A histogram averaging technique is developed to recover image information lost.A histogram remapping technique is used to reduce artifacts introduced to images.An optimization minimizes the brightness change between input and output images.Results show that image brightness is preserved while image contrast is enhanced.

@&#KEYPHRASES@&#
Image contrast enhancement,Histogram smoothing,Brightness preservation,Dynamic stretching,Sub-image separation optimization,

@&#ABSTRACT@&#
Image contrast enhancement and brightness preservation are fundamental requirements for many vision based applications. However, these are two conflicting objectives when the image is processed by histogram equalization approaches. Current available methods may not provide results simultaneously satisfying both requirements. In this work, a pipelined approach including color channel stretching, histogram averaging and re-mapping is developed. By using stretching, color information from a scene is restored. Averaging against a uniform distribution enables the output image to recover the information lost. Furthermore, histogram re-mapping reduces artifacts that often arise from the equalization procedure. The technique also employs a search process to find optimal algorithmic parameters, such that the mean brightness difference between the input and output images is minimized. The effectiveness of the proposed method was tested with a set of images captured in adverse environments and compared against available methods. High performing qualitative and quantitative results were obtained.

@&#INTRODUCTION@&#
Digital imagery is becoming an indispensable source of information in a wide range of contemporary applications. For instance, it is found in hand-held consumer electronic devices [1], where auto-focusing is one of the major functionalities [2]. In engineering, there are even more demands and requirements of image processing technology. This technique can be used in the monitoring of machine operation conditions [3], in the remote sensing of the environment revealing land covers [4]. In robotics, image processing can be used for object tracking [5]. It is also useful in human computer interactions [6] such as hand gesture recognition [7]. The major demand for image enhancement is to restore a captured image from degradations arising from imperfect acquisition conditions. For example, to remove the noise imposed, to correct the color cast [8] and to sharpen the objects that appear in the image [9].One of the most demanding features in restoring an image is to improve its contrast so that it is pleasant to a human viewer and to easy computer based operations such as object identification [10]. Among these, contrast improvement using histogram equalization (HE) methods has found a lot of real-world applications for its implementation simplicity and effectiveness [11]. In particular, uniform histogram equalization (UNFHE) or conventional histogram equalization is the most common HE method employed in computer vision applications, and the histogram of the output image from this equalization follows a uniform distribution. However, it is also observed that these approaches may produce artifacts due to over-enhancement if the algorithm is not properly designed. Another concern of HE based techniques is the preservation of the output image brightness such that a true reproduction of the scene characteristics can be made available.There are a number of research works reported in literature that aimed at accomplishing the aforementioned goal. An early attempt was made to separate the input image into two sub-images using the mean intensity or brightness as the threshold in the brightness preserving bi-histogram equalization (BBHE). The two sub-images were then processed independently using histogram equalization with reference to a target uniform histogram [12]. By the design of this method, an exact match between the brightness of input and output images is not generally available. In order to reduce such discrepancy, the separation was made using the median brightness [13]. In the equal area dualistic sub-image histogram equalization method (DSIHE), the numbers of pixels classified in the lower and higher sub-images are equal. It enables a closed form solution to find the output image mean brightness, however, its preservation is still not guaranteed.Further to the requirement to satisfy mean brightness preservation, avoiding the generation of artifacts due to over-enhancement is also important. A class of methods was hence developed where the peaks of the histogram are clipped to avoid over-enhancement. An original development was suggested; where the image is first separated into two sub-images using the input image mean brightness, known as the bi-histogram equalization with a plateau limit (BHEPL) method [14]. The clipping limits were obtained from the mean values of the histogram heights of individual sub-images and then used as the target histogram in the equalization [15]. Although over-enhancement can be controlled, but due to the deviation of the target histogram from a uniform profile, it is difficult to steer the output image mean brightness to the desired value. The choice of the clipping limit is not automatic but it may be problem specific, such as driven by the exposure or viewing perception [16,17].The selection of separation thresholds and clipping limits has been addressed in several research works. A variation named the bi-histogram equalization median plateau (BHEPLD) was reported in [18], where the clipping limit was obtained from the median values of the sub-images. In fact, this choice of plateaus does not warrant perfect brightness preservation. Recently, another choice of clipping limit was proposed as the adaptive image enhancement bi-histogram equalization (AIEBHE) [19]. In the work reported therein, the sub-images are separated by the input median brightness. The plateaus were taken from the minimum of the histogram value, mean value and the median value of the sub-image histogram. This choice of limits might fail when the median value tends to zero for images biased toward the two ends of the intensity range. A further variation was reported, known as the median-mean sub-image clipped histogram equalization (MMSICHE) [20]. In the work presented there, the input image was divided into four sub-images. The first separation was carried out using the mean intensity while the division into four sectors used the median values of the two sub-images. The clipping limits for the four obtained sub-images were the median values of individual sectors. As can be seen, this process increases implementation complexity while the preservation of output image brightness cannot be assured.Other than clipping the histogram to prevent artifacts generation, there have been alternative approaches available. For example, the input image histogram can be smoothed and used as the target distribution in the histogram equalization process called smoothed histogram equalization (SMHEQ) [21]. The smoothing was conducted using a varying weighting divisor as a sliding window across the input image histogram. The next effect was that histogram elements in the middle intensity range were flattened towards a uniform distribution thus contributed to the increase in information content. The low and high intensity elements were only modified to a lesser extend hence reducing the generation of artifacts. By its algorithmic design, this method does not particularly address the brightness preservation problem. On the other hand, this approach had indicated a direction for an automatic process to enhance the image contrast and to preserve the mean brightness by properly manipulating the smoothing process.In this work, a color image enhancement approach is proposed. The developed procedure is performed in a pipeline called averaging histogram equalization (AVHEQ). The method is formulated towards restoring images degradations due to adverse environmental conditions when they are captured. Improvements are sought in the information content, contrast, and preservation of the mean brightness in order to truly represent the features in the scene. Unlike previous approaches, this method does not need to separate the histogram into sections and it is not necessary to include hard limiting plateaus to clip histogram peaks. Furthermore, an efficient search algorithm is used to optimize the performance without any user involvement.The rest of the paper is organized as follows. In Section 2, backgrounds in histogram equalization for contrast enhancement and its variations are reviewed. The proposed approach based on the histogram averaging concept is presented in Section 3. Experiments are described in Section 4 and their results are discussed. Section 5 contains the conclusions.

@&#CONCLUSIONS@&#
