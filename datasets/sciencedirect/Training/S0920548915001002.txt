@&#MAIN-TITLE@&#
A real-time feedback scheduler for environmental energy with discrete voltage/frequency modes

@&#HIGHLIGHTS@&#
We address the problem of real-time scheduling inherent to energy harvesting real-time systems.We propose a feedback scheduler for energy harvesting systems (FS-EH) in a soft real-time context on a DVFS processor.This solution computes the CPU speed with taking into account the energy levels and the executions time variability.The proposed approach shows experimentally a good compromise between the available energy and the processor workload.

@&#KEYPHRASES@&#
Embedded real-time systems,Scheduling algorithms,Feedback scheduling,Energy harvesting,Dynamic Voltage Frequency Selection,

@&#ABSTRACT@&#
Graphical abstract

@&#INTRODUCTION@&#
Because of their constraints in terms of computational power, and thereafter for their energy consumption, today's embedded systems (e.g. wireless sensors) see the availability of their services limited by the amount of energy available in the batteries over time. An efficient energy management is needed to conserve and optimize energy consumption through scheduling methods. Although these methods are proposed for reducing the system energy dissipation, any embedded system will eventually exhaust the battery. In this case and before the device can continue functioning, replacing or recharging the battery is required. However, in some applications, replacing battery is either costly or impractical. One of such applications is the wireless sensor network. The sensor nodes are deployed in a wide area for surveillance. The deployment of these sensor contributes the majority of the cost for building the networked sensor nodes. Hence, ideally such a system should be designed to achieve perpetual functioning without replacing or recharging batteries. To overcome limitations due to the batteries life, the alternative energy sources present in our environment could be exploited to achieve a perpetual operating of these systems: this is energy harvesting.In this paper, we propose an environmental energy aware feedback scheduler for energy harvesting real-time embedded systems. The objective is to set a technique for optimizing the Quality of Control (QoC), according to the Earliest Deadline First (EDF) [1] scheduling policy, while preventing any energy shortage that would result in the destabilization of the controlled process. We are interested in QoC, in soft real-time applications, which is different from the problem of meeting deadlines (matching to the so called hard real-time applications). Our solution takes into account the available energy, the variability of actual execution times and the actual processor needs.In earlier work, as later described in the related works section, the energy harvesting scheduling techniques consider the Worst-Case Execution Time (WCET). As a consequence, the solutions lead to use the energy reservoir (battery) in an approximate manner (over-estimation of the energy requirements) so that task deadlines be met. In addition, the solutions presented in those works do not take into account the variability of actual execution times. Jobs of the same periodic tasks have unknown execution times until the job completes [2]. The contribution and singularity of our work lie in this new central working hypothesis.The rest of the paper is organized as follows. We give background materials in Section 2. Related works are described in Section 3. In Section 4, we present the computing model, then we give the discrete and continuous energy consumption models. We also present the energy source model which is used to supplement the battery. We discuss our contribution concerning the real-time feedback scheduling under energy harvesting with discrete voltage/frequency modes in Section 5. Performance results are included and discussed in Section 6. The main conclusions and some future directions are highlighted in Section 7.Real-time systems (RTS) are defined as those systems in which correctness depends not only on the correct result, but they must also consider time constraints, mainly deadlines, to deliver this result. Those systems are classified as hard, soft, or firm systems, depending on the degree of missed deadlines that the system can tolerate. In hard RTS, any deadline violation may lead to a system failure and a catastrophic consequence. In soft RTS, some deadline violations are allowed but they may lead to a system performance degradation without inducing serious consequences. When a system has periodic soft tasks, in which the many consecutive losses instances need to be explicitly specified, it is characterized as a firm RTS. Our work focuses on soft real-time control tasks i.e. tasks that may miss deadlines from time to time (in contrast to the so called hard real-time tasks).We use the scheduling theory in order to check temporal constraints. The EDF algorithm [1] is probably the most known fixed-job priority assignment scheduler in real-time systems. It is optimal regarding schedulability in the context of independent tasks and preemptive uniprocessor scheduling [3]. In most known EDF implementation, job priority is proportional to its urgency (absolute deadline): the shorter the absolute deadline, the higher the priority. Nevertheless, our aim in using EDF is to improve the QoC.A feedback scheduling system (FBS), used in soft real-time applications, start with a schedule based on the nominal assumptions of the tasks (start time, WCET and deadline). Then, the FBS monitors the actual performance of the scheduler, compares it to the system requirements and detects differences. The system call control functions to assess the impact of these differences and apply a correction to keep the system within an acceptable range of performance.The underlying idea of feedback scheduling is that for tasks integrating a control loop, meeting the deadlines does not necessarily imply achieving the best quality of the process control since practical control applications are usually designed with the capability of tolerating some deadline misses [4,5]. An example is the control of an inverted pendulum: task periodically calculates the next action to perform to keep the pendulum in the position of stable equilibrium. It can be tolerated if some samples (deadlines) of this task were missed (the pendulum remains in equilibrium position, but with more vibration) but if several consecutive instances of this task miss their deadlines, the pendulum will fall. This paper focuses on soft real-time control tasks.The conventional power management techniques are classified into two categories based on the nature of energy dissipation reduction [3]. One of them is Dynamic Power Management (DPM). It aims to reduce the static energy dissipation by switching the active component to the low power state or shutting down the idle components. The other technique is Dynamic Voltage and Frequency Selection (DVFS) which aims to reduce the dynamic energy dissipation by lowering the operating frequency of the processor. In our work, we consider the DVFS capabilities.

@&#CONCLUSIONS@&#
