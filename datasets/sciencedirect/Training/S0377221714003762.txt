@&#MAIN-TITLE@&#
Consumption–investment strategies with non-exponential discounting and logarithmic utility

@&#HIGHLIGHTS@&#
A non-Markovian model with random coefficients is considered.An N-person differential game is studied to get a time-consistent strategy.Martingale method is adopted. The solution is characterized by a family of BSDEs.

@&#KEYPHRASES@&#
Consumption–investment problem,Non-exponential discounting,Time-inconsistency,Multi-person differential game,BSDEs,

@&#ABSTRACT@&#
In this paper, we revisit the consumption–investment problem with a general discount function and a logarithmic utility function in a non-Markovian framework. The coefficients in our model, including the interest rate, appreciation rate and volatility of the stock, are assumed to be adapted stochastic processes. Following Yong (2012a,b)’s method, we study an N-person differential game. We adopt a martingale method to solve an optimization problem of each player and characterize their optimal strategies and value functions in terms of the unique solutions of BSDEs. Then by taking limit, we show that a time-consistent equilibrium consumption–investment strategy of the original problem consists of a deterministic function and the ratio of the market price of risk to the volatility, and the corresponding equilibrium value function can be characterized by the unique solution of a family of BSDEs parameterized by a time variable.

@&#INTRODUCTION@&#
In recent years, research on the time-inconsistent preferences has attracted an increasing attention. The empirical studies of human behavior reveal that the constant discount rate assumption is unrealistic, (see, for example, Thaler (1981), Ainslie (1992) and Loewenstein & Prelec (1992)). Experimental evidence shows that economic agents are impatient about choices in the short term but are more patient when choosing between long-term alternatives. Particularly, cash flows in the near future tend to be discounted at a significantly higher rate than those occur in the long run. Considering such behavioral feature, economic decisions may be analyzed using the hyperbolic discounting (see Phelps & Pollak (1968)). Indeed, the hyperbolic discounting has been widely adopted in microeconomics, macroeconomics, and behavioral finance, such as Laibson (1997) and Barro (1999) among others.However, difficulties arise when one attempts to solve an optimal control problem with a non-constant discount rate by some standardized control techniques, such as dynamic programming approach. In fact, these techniques lead to time inconsistent strategies, i.e., a strategy that is optimal for the initial time may not be optimal later (see, for example, Ekeland & Pirvu (2008) and Yong (2012b)). In other words, the classical dynamic programming principle fails to solve the so-called time-inconsistent control problem. So, how to obtain a time-consistent strategy for time-inconsistent control problems becomes an interesting and challenging problem. In Strotz (1955), the author studies a cake eating problem within a game theoretic framework where the players are the agent and his/her future selves, and seek a subgame perfect Nash equilibrium point for this game. Strotz’s work has been pursued by many others, such as Pollak (1968), Peleg and Yaari (1973), Goldman (1980) and Laibson (1997) among others.Recently, the time inconsistent control problems regain considerable attention in the continuous-time setting. A modified HJB equation is derived in Marín-Solano and Navas (2010) which solves the optimal consumption and investment problem with non-constant discount rate for both naive and sophisticated agents. The similar problem is also considered by another approach in Ekeland and Lazrak (2006) and Ekeland and Pirvu (2008), which provide the precise definition of the equilibrium concept in continuous time for the first time. They characterize the equilibrium policies through the solutions of a flow of BSDEs, and they show, with special form of the discount factor, this BSDE reduces to a system of two ODEs which has a solution. There are some literature following their definition of equilibrium strategy. In Björk and Murgoci (2010), the time-inconsistent control problem is considered in a general Markov framework, and an extended HJB equation together with the verification theorem are derived. Björk, Murgoci, and Zhou (2014) investigates the Markowitz’s problem with state-dependent risk aversion by utilizing the extended HJB equation obtained in Björk and Murgoci (2010). Considering the hyperbolic discounting, Ekeland, Mbodji, and Pirvu (2012) studies the portfolio management problem for an investor who is allowed to consume and take out life insurance, and they characterize the equilibrium strategy by an integral equation.Another approach to the time-inconsistent control problem is developed by Yong (2011, 2012a, 2012b). In Yong’s papers, a sequence of multi-person hierarchical differential games is studied first and then the time-consistent equilibrium strategy and equilibrium value function are obtained by taking limit. A brief description of the method is given as follows. LetT>0be the fixed time horizon andt∈[0,T)be the initial time. Take a partitionΠ={tk|0⩽k⩽N}of the time interval[t,T]witht=t0<t1<⋯<tN=T, and with the mesh size‖Π‖=max1⩽k⩽N(tk-tk-1).Consider an N-person differential game: fork=1,2,…,N, the k-th player controls the system on[tk-1,tk), starting from the initial state(tk-1,X(tk-1))which is the terminal state of the(k-1)-th player, and tries to maximize his/her own performance functional. Each player knows that the later players will do their best, and will modify their control systems as well as their cost functionals. In the performance functional, each player discounts the utility in his/her own way. Then for any given partitionΠ, a Nash equilibrium strategy is constructed to the corresponding N-person differential game. Finally, it can be shown that as the mesh size‖Π‖approaches to zero, the Nash equilibrium strategy to the N-person differential game approaches to the desired time-consistent solution of the original time-inconsistent problem. By this method, Yong (2011, 2012a) considers a deterministic time-inconsistent linear-quadratic control problem. Considering a controlled stochastic differential equation with deterministic coefficients, Yong (2012b) investigates a time-inconsistent problem with a general cost functional and derives an equilibrium HJB equation.In this paper, we revisit the consumption–investment problem (Merton, 1969, 1971) with a general discount function and a logarithmic utility function. In contrast to the references cited above, we consider this problem in a non-Markovian framework. More specifically, the coefficients in our model, including the interest rate, appreciation rate and volatility of the stock, are assumed to be adapted stochastic processes. To our best knowledge, the literature on the time-inconsistent problem in a non-Markovian model is rather limited. A time-inconsistent stochastic linear-quadratic control problem is studied in a model with random coefficients by Hu, Jin, and Zhou (2012). A time-consistent strategy is obtained for the mean–variance portfolio selection by Czichowsky (2013) in a general semimartingale setting. Following Yong’s method, we first study an N-person differential game. Similar to Hu, Imkeller, and Müller (2005) and Cheridito and Hu (2011), we adopt a martingale method to solve an optimization problem of each player and characterize their optimal strategies and value functions in terms of the unique solutions of BSDEs. Then by taking limit, we show that a time-consistent equilibrium consumption–investment strategy of the original problem consists of a deterministic function and the ratio of the market price of risk to the volatility, and the corresponding equilibrium value function can be characterized by the unique solution of a family of BSDEs parameterized by a time variable which can be understood as the initial time of each player in the N-person differential game.The remainder of this paper is organized as follows. Section 2 introduces the model. In Section 3, we study the N-person differential game. Section 4 gives a time-consistent equilibrium strategy and time-consistent equilibrium value function to the original problem. Section 5 concludes the paper. Some proofs and technical results are collected in the appendices.LetT>0be a fixed finite time horizon, and{W(t)}0⩽t⩽Tbe a standard Brownian motion defined on the filtered probability space(Ω,F,{Ft}0⩽t⩽T,P). Here the filtration{Ft}0⩽t⩽Tis the augmentation underPofFtW≔σ(W(s),0⩽s⩽t),t∈[0,T]. We consider a market which consists of a bond and a stock. The price of the bond evolves according to the differential equationdB(s)=r(s)B(s)ds,s∈[0,T],B(0)=1.The price of the stock is modeled by the stochastic differential equationdS(s)=μ(s)S(s)ds+σ(s)S(s)dW(s),s∈[0,T],S(0)=s0,wheres0>0. The interest rate process{r(t)}0⩽t⩽Tas well as the appreciation rate{μ(t)}0⩽t⩽Tand volatility{σ(t)}0⩽t⩽Tof the stock are assumed to be{Ft}0⩽t⩽T-adapted and bounded uniformly in(t,ω)∈[0,T]×Ω. In addition, we require that the volatility process{σ(t)}0⩽t⩽Tis bounded away from zero.A consumption–investment policy is a bivariate process(c(t),u(t))∈R+×R, wherec(t)is the consumption rate at time t as a proportion of the wealth andu(t)is the proportion of wealth invested in the stock at time t.LetC[t,T]=c:[t,T]×Ω→R+|c(·)isapredictableprocessforwhich∫tT|c(s)|ds<∞,a.s.,U[t,T]=u:[t,T]×Ω→R|u(·)isapredictableprocessforwhich∫tT|u(s)σ(s)|2ds<∞,a.s..For any initial timet∈[0,T]and initial wealthx>0, applying a consumption–investment policy(c(s),u(s))∈C[t,T]×U[t,T], the wealth process of the investor, denoted byX(·), is governed by(1)dX(s)=[r(s)-c(s)+u(s)σ(s)θ(s)]X(s)ds+u(s)σ(s)X(s)dW(s),s∈[t,T],X(t)=x,whereθ(s)≔μ(s)-r(s)σ(s).To emphasize the dependence of the wealth process on the initial state and the policy, we also write the solution of (1) asX(·;t,x,c(·),u(·)).In this paper, we focus on the logarithmic utility function. At any initial timet∈[0,T]with initial wealthx>0, the performance functional, i.e. the expected discounted utility from the consumption and terminal wealth is given byJ(t,x;c(·),u(·))=Et∫tTh(s-t)ln(c(s)X(s))ds+h(T-t)lnX(T),whereEt[·]=E[·|Ft]andh(·)is a general discount function satisfyingh(0)=1,h(·)>0,h′(·)≤0,∫0Th(s)ds<∞.We also impose a technical assumption on h.Assumption 1There exists a constantC>0such that|h(s)-h(t)|⩽C|s-t|, for alls,t∈[0,T].Note that Assumption 1 is satisfied by many discount functions, such as exponential discount functions, mixture of exponential functions and hyperbolic discount functions.Definition 2Given an initial state(t,x)∈[0,T]×(0,∞), a strategy(c(·),u(·))∈C[t,T]×U[t,T]is said to be admissible ifEt∫tT|ln(c(s)X(s))|ds<∞.We denote byA(t,x)the class of all such admissible strategies.Since we understandlnxto be-∞forx≤0by convention, an admissible strategy satisfiesc(·)>0,dt×P-a.e., wheredtis the Lebesgue measure on[0,T].Problem(N).For given(t,x)∈[0,T]×(0,∞), find(cˆ(·),uˆ(·))∈A(t,x)such that(2)J(t,x;cˆ(·),uˆ(·))=sup(c(·),u(·))∈A(t,x)J(t,x;c(·),u(·)).It is well-known that Problem(N)is time-inconsistent, i.e., if we find some(cˆ(·),uˆ(·))∈A(t,x)such that (2) is satisfied for initial state(t,x), we do not haveJ(τ,X(τ;t,x,cˆ(·),uˆ(·));(cˆ(·),uˆ(·))|[τ,T])=sup(c(·),u(·))∈A(τ,X(τ;t,x,cˆ(·),uˆ(·)))J(τ,X(τ;t,x,cˆ(·),uˆ(·);c(·),u(·)))in general, for anyτ∈[t,T], where(cˆ(·),uˆ(·))|[τ,T]is the restriction of(cˆ(·),uˆ(·))on the time interval[τ,T]. We refer the readers to Ekeland and Pirvu (2008) and Yong (2012b) for examples of time-inconsistent consumption–investment problem with more details.We end this section by introducing two notations. For any0⩽T1<T2⩽T, we denote byHT1,T22(R)the space of all predictable processesϕ:Ω×[T1,T2]→Rsuch that‖ϕ‖2≔ET1∫T1T2|ϕ(t)|2dt<+∞, and byHT1,T2∞(R)the space of all essentially bounded predictable processesY:Ω×[T1,T2]→R.Lett∈[0,T)andP[t,T]be the set of all partitionsΠ={tk|0⩽k⩽N}of[t,T]witht=t0<t1<⋯<tN=T. The mesh size ofΠis‖Π‖=max1⩽k⩽N(tk-tk-1).Given the initial state(t,x)∈[0,T]×(0,∞), we consider the following N-person differential game associated with partitionΠ∈P[t,T].Let us start with Player(N)who makes the consumption–investment strategy on[tN-1,tN]. ForxN-1∈(0,∞), consider the following wealth process(3)dXN(s)=[r(s)-cN(s)+θ(s)σ(s)uN(s)]XN(s)ds+σ(s)uN(s)XN(s)dW(s),s∈[tN-1,tN],XN(tN-1)=xN-1,and the performance functional(4)JN(tN-1,xN-1;cN(·),uN(·))=EtN-1∫tN-1tNh(s-tN-1)ln(cN(s)XN(s))ds+h(tN-tN-1)lnXN(tN).Note that,JN(tN-1,xN-1;cN(·),uN(·))=J(tN-1,xN-1;cN(·),uN(·)),forxN-1>0.Definition 3A consumption–investment strategycN(·),uN(·)∈C[tN-1,tN]×U[tN-1,tN]is said to be admissible for Player(N)with initial statexN-1∈(0,∞), ifEtN-1∫tN-1tN|ln(cN(s)XN(s))|ds<∞.We denote byAN(tN-1,xN-1)the class of all such admissible strategies.(CN).For anyxN-1∈(0,∞), find a strategy(cˆN(·),uˆN(·))∈AN(tN-1,xN-1)such that(5)JN(tN-1,xN-1;cˆN(·),uˆN(·))=VΠ(tN-1,xN-1)≔sup(cˆN(·),uˆN(·))∈AN(tN-1,xN-1)JN(tN-1,xN-1;cN(·),uN(·)).Theorem A.3 shows the value functionVΠ(tN-1,xN-1), the optimal strategy(cˆN(·),uˆN(·))and the optimal wealth processX^N(·)≡X^N(·;tN-1,xN-1).Next, we consider an optimal control problem for Player(N-1)on[tN-2,tN-1). For eachxN-2∈(0,∞), consider the following wealth processdXN-1(s)=[r(s)-cN-1(s)+θ(s)σ(s)uN-1(s)]XN-1(s)ds+σ(s)uN-1(s)XN-1(s)dW(s),s∈[tN-2,tN-1),XN-1(tN-2)=xN-2.Recall that Player(N-1)can only control the system on[tN-2,tN-1)and Player(N)will take over attN-1to control the system thereafter. Moreover, Player(N-1)knows that Player(N)will play optimally based on the initial pair(tN-1,XN-1(tN-1)), which is the terminal pair of Player(N-1). Hence, the performance functional of Player(N-1)should be(6)JN-1(tN-2,xN-2;cN-1(·),uN-1(·))=EtN-2∫tN-2tN-1h(s-tN-2)ln(cN-1(s)XN-1(s))ds+∫tN-1tNh(s-tN-2)ln(cˆN(s)X^N(s;tN-1,XN-1(tN-1)))ds+h(tN-tN-2)lnX^N(tN;tN-1,XN-1(tN-1)).Note that in (6) Player(N-1)“discounts” the future utility in his/her own way, i.e., he/she uses the discount functionh(s-tN-2)fors∈[tN-2,tN].LetgN-1(·)be a bounded positive function defined on[tN-2,tN]by the ODEgN-1′(s)=-gN-1(s)h′(s-tN-2)h(s-tN-2)-1,s∈[tN-2,tN],gN-1(tN)=1.and(YN(·),ZN(·))∈HtN-1,tN∞(R)×HtN-1,tN2(R)be the unique solution of the BSDEYN(τ)=∫τtNFN(s,YN(s))ds+∫τtNZN(s)dW(s),τ∈[tN-1,tN],whereFN(s,y)=-1gN-1(s)y-12θ2(s)+1gN-1(s)lngN(s)+1gN(s)-r(s).From Proposition A.4, we haveJN-1(tN-2,xN-2;cN-1(·),uN-1(·))=EtN-2∫tN-2tN-1h(s-tN-2)ln(cN-1(s)XN-1(s))ds+h(tN-1-tN-2)gN-1(tN-1)[lnXN-1(tN-1)-YN(tN-1)].Definition 4A consumption–investment strategy(cN-1(·),uN-1(·))∈C[tN-2,tN-1]×U[tN-2,tN-1]is said to be admissible for Player(N-1)with initial statexN-2∈(0,∞), ifEtN-2∫tN-2tN-1|ln(cN-1(s)XN-1(s))|ds<∞.We denote byAN-1(tN-2,xN-2)the class of all such admissible strategies.(CN-1).For anyxN-2∈(0,∞), find a strategy(cˆN-1(·),uˆN-1(·))∈AN-1(tN-2,xN-2)such thatJN-1(tN-2,xN-2;cˆN-1(·),uˆN-1(·))=VΠ(tN-2,xN-2)≔sup(cN-1(·),uN-1(·))∈AN-1(tN-2,xN-2)JN-1(tN-2,xN-2;cN-1(·),uN-1(·)).In Theorem A.5, we get the value functionVΠ(tN-2,xN-2), the optimal strategy(cˆN-1(·),uˆN-1(·))and the optimal wealth processX^N-1(·)≡X^N-1(·;tN-2,xN-2).Let(c¯N-1(s),u¯N-1(s))=(cˆN-1(s),uˆN-1(s)),s∈[tN-2,tN-1),(cˆN(s),uˆN(s)),s∈[tN-1,tN],andX‾N-1(s)≡X‾N-1(s;tN-2,xN-2),s∈[tN-2,tN]be the unique solution to the SDE(7)dX‾N-1(s)=[r(s)-c¯N-1(s)+θ(s)σ(s)u¯N-1(s)(s)]X‾N-1(s)ds+σ(s)u¯N-1(s)X‾N-1(s)dW(s),s∈[tN-2,tN],X‾N-1(tN-2)=xN-2.Similarly, we can state an optimal control problem for Player(N-2)on[tN-3,tN-2). For eachxN-3∈(0,∞), consider the following wealth processdXN-2(s)=[r(s)-cN-2(s)+θ(s)σ(s)uN-2(s)]XN-2(s)ds+σ(s)uN-2(s)XN-2(s)dW(s),s∈[tN-3,tN-2],XN-2(tN-3)=xN-3.The performance functional of Player(N-2)should beJN-2(tN-3,xN-3;cN-2(·),uN-2(·))=EtN-3∫tN-3tN-2h(s-tN-3)ln(cN-2(s)XN-2(s))ds+∫tN-2tNh(s-tN-3)ln(c¯N-1(s)X‾N-1(s;tN-2,XN-2(tN-2)))ds+h(tN-tN-3)lnX‾N-1(tN;tN-2,XN-2(tN-2)),whereX‾N-1(·;tN-2,XN-2(tN-2))is the solution to (7) with initial state(tN-2,XN-2(tN-2)).LetgN-2(·)be a bounded positive function defined on[tN-3,tN]by the ODEgN-2′(s)=-gN-2(s)h′(s-tN-3)h(s-tN-3)-1,s∈[tN-3,tN],gN-2(tN)=1,and(YN-1(·),ZN-1(·))∈HtN-2,tN-1∞(R)×HtN-2,tN-12(R)be the unique solution of the BSDEYN-1(τ)=∫τtNFN-1(s,YN-1(s))ds+∫τtNZN-1(s)dW(s),τ∈[tN-2,tN],whereFN-1(s,y)=-1gN-2(s)y-12θ2(s)+1gN-2(s)∑k=N-1Nlngk(s)1[tk-1,tk)(s)+∑k=N-1N1gk(s)1[tk-1,tk)(s)-r(s).It follows from Proposition A.6 thatJN-2(tN-3,xN-3;cN-2(·),uN-2(·))=EtN-3∫tN-3tN-2h(s-tN-3)ln(cN-2(s)XN-2(s))ds+h(tN-2-tN-3)gN-2(tN-2)[lnXN-2(tN-2)-YN-1(tN-2)].Definition 5A consumption–investment strategy(cN-2(·),uN-2(·))∈C[tN-3,tN-2]×U[tN-3,tN-2]is said to be admissible for Player(N-2)with initial statexN-3∈(0,∞), ifEtN-3∫tN-3tN-2|ln(cN-2(s)XN-2(s))|ds<∞.We denote byAN-2(tN-3,xN-3)the class of all such admissible strategies.(CN-2).For anyxN-3∈(0,∞), find a strategy(cˆN-2(·),uˆN-2(·))∈AN-2(tN-3,xN-3)such thatJN-2(tN-3,xN-3;cˆN-2(·),uˆN-2(·))=VΠ(tN-3,xN-3)≔sup(cN-2(·),uN-2(·))∈AN-2(tN-3,xN-3)JN-2(tN-3,xN-3;cN-2(·),uN-2(·)).The value functionVΠ(tN-3,xN-3)and the optimal strategy(cˆN-2(·),uˆN-2(·))are given by Theorem A.7,The above procedure can be continued recursively. For1⩽k⩽N, we define a bounded positive functiongk(·)on[tk-1,tN]by the ODEgk′(s)=-gk(s)h′(s-tk-1)h(s-tk-1)-1,s∈[tk-1,tN],gk(tN)=1.For1⩽k⩽N, let(Yk(·),Zk(·))∈Htk-1,tk∞(R)×Htk-1,tk2(R)be the unique solution of the BSDEYk(τ)=∫τtNFk(s,Yk(s))ds+∫τtNZk(s)dW(s),τ∈[tk-1,tN],with the driverFk(s,y)=-1gk-1(s)y-12θ2(s)+1gk-1(s)∑n=kNlngn(s)1[tn-1,tn)(s)+∑n=kN1gn(s)1[tn-1,tn)(s)-r(s).Recall that the optimal problem of Player(N)is described by Eqs. (3)–(5). By induction, we know that for Player(k),1⩽k⩽N-1, with initial statexk-1∈(0,∞), the state process isdXk(s)=[r(s)-ck(s)+θ(s)σ(s)uk(s)]Xk(s)ds+σ(s)uk(s)Xk(s)dW(s),s∈[tk-1,tk),Xk(tk-1)=xk-1,and the performance functional isJk(tk-1,xk-1;ck(·),uk(·))=Etk-1∫tk-1tkh(s-tk-1)ln(ck(s)Xk(s))ds+∫tktNh(s-tk-1)ln(c¯k+1(s)X‾k+1(s;tk,Xk(tk)))ds+h(tN-tk-1)lnX‾k+1(tN;tk,Xk(tk)),where(c¯k+1(s),u¯k+1(s))=∑i=k+1N(cˆi(s),uˆi(s))1[ti-1,ti)(s),andX‾k+1(·;tk,xk)is the unique solution of the SDEdX‾k+1(s)=[r(s)-ck+1(s)+θ(s)σ(s)u¯k+1(s)]X‾k+1(s)ds+σ(s)u¯k+1X‾k+1(s)(s)dW(s),s∈[tk,tN],X‾k+1(tk)=xk.LetYN+1(tN)≔0. It follows form Proposition A.8 that the performance functional of Player(k),1⩽k⩽N, is given by(8)Jk(tk-1,xk-1;ck(·),uk(·))=Etk-1∫tk-1tkh(s-tk-1)ln(ck(s)Xk(s))ds+h(tk-tk-1)gk(tk)[lnXk(tk)-Yk+1(tk)].Definition 6Fork=1,2…,N, a consumption–investment strategy(ck(·),uk(·))∈C[tk-1,tk]×U[tk-1,tk]is said to be admissible for Player(k)with initial statexk-1∈(0,∞), ifEtk-1∫tk-1tk|ln(ck(s)Xk(s))|ds<∞.We denote byAk(tk-1,xk-1)the class of all such admissible strategies.(Ck).Fork=1,2…,N, for anyxk-1∈(0,∞), find a strategy(cˆk(·),uˆk(·))∈Ak(tk-1,xk-1)such thatJk(tk-1,xk-1;cˆk(·),uˆk(·))=VΠ(tk-1,xk-1)≔sup(ck(·),uk(·))∈Ak(tk-1,xk-1)Jk(tk-1,xk-1;ck(·),uk(·)).Noting that (8) is in the form of (A.2), Problem(Ck)is a special case of Problem(C)studied in Appendix A.1. From Theorem A.2, we have the following solution to the Problem(Ck).Theorem 7Fork=1,2…,N, the value function of Problem(Ck)is given byVΠ(tk-1,xk-1)=gk(tk-1)[lnxk-1-Yk(tk-1)],xk-1(0,∞),whereYk(·)is defined by the unique solution(Yk(·),Zk(·))∈Htk-1,tk∞(R)×Htk-1,tk2(R)of the BSDEYk(τ)=Yk+1(tk)+∫τtkfk(s,Yk(s))ds+∫τtkZk(s)dW(s),τ∈[tk-1,tk],with the driverfk(s,y)=-1gk(s)y-12θ2(s)+1gk(s)(lngk(s)+1)-r(s).The optimal trading strategy(cˆk(·),uˆk(·))∈Ak(tk-1,xk-1)is given bycˆk(s)=1gk(s),uˆk(s)=θ(s)σ(s),fors∈[tk-1,tk].In summary, we state the following multi-person game.Problem(GΠ).Fork=1,2,…,N, the state process of Player(k)is given bydXk(s)=[r(s)-ck(s)+θ(s)σ(s)uk(s)]Xk(s)ds+σ(s)uk(s)Xk(s)dW(s),s∈[tk-1,tk),Xk(tk-1)=Xk-1(tk-1),withX0(t0)=x. He/she chooses control(ck(·),uk(·))∈Ak(tk-1,Xk-1(tk-1))to maximize the performance functionalJΠk(x;(c1(·),u1(·)),(c2(·),u2(·)),⋯,(cN(·),uN(·)))≔Jk(tk-1,Xk-1(tk-1);ck(·),uk(·)).For a given partitionΠ∈P[t,T], an N-tuple of controls((cˆ1(·),uˆ1(·)),…,(cˆN(·),uˆN(·)))∈A1(t0,x)×⋯×AN(tN-1,XN(tN-1))is called an open-loop Nash equilibrium of Problem (GΠ) if for allk=1,2,…,N, and for any(ck(·),uk(·))∈Ak(tk-1,Xk(tk-1)),JΠk(x;(cˆ1(·),uˆ1(·)),⋯,(cˆk-1(·),uˆk-1(·)),(ck(·),uk(·)),(cˆk+1(·),uˆk+1(·)),⋯,(cˆN(·),uˆN(·)))⩽JΠk(x;(cˆ1(·),uˆ1(·)),⋯,(cˆk-1(·),uˆk-1(·)),(cˆk(·),uˆk(·)),(cˆk+1(·),uˆk+1(·)),⋯,(cˆN(·),uˆN(·))).In this case, we call(cˆΠ(s),uˆΠ(s))≔∑k=1N(cˆk(s),uˆk(s))1[tk-1,tk)(s)∈A(t,x)a Nash equilibrium control of Problem(GΠ)with initial state(t,x)∈[0,T]×(0,∞).We end this section by showing a Nash equilibrium control of Problem(GΠ). First of all, we introduce the following notation. For any partitionΠ∈P[t,T]ands∈[t0,tN], letlΠ(s)=∑k=1Ntk-11[tk-1,tk)(s).LetD[t,T]={(s,τ):t⩽τ⩽s⩽T}. For any(s,τ)∈D[t,T], define the bounded functiongΠ(s,τ)bygΠ(s,τ)=∑k=1Ngk(s)1[tk-1,tk)(τ).Fort⩽τ⩽s⩽T, letYΠ(s,τ)=∑k=1N[Yk(s)1[tk-1,tk)(s)+Yk+1(s)1[tk,tN)(s)]1[tk-1,tk)(τ),ZΠ(s,τ)=∑k=1N[Zk(s)1[tk-1,tk)(s)+Zk+1(s)1[tk,tN)(s)]1[tk-1,tk)(τ),andfΠ(s,τ,y)=∑k=1N[fk(s,y)1[tk-1,tk)(s)+Fk+1(s,y)1[tk,tN)(s)]1[tk-1,tk)(τ).It follows from Appendix B that for(s,τ)∈D[t,T]we have(9)YΠ(s,τ)=∫stNfΠ(v,τ,YΠ(v,τ))dv+∫stNZΠ(v,τ)dW(v).From the construction of the multi-person game, we immediately get the following result.Theorem 9For any partitionΠ∈P[t,T]andτ∈[t,T], letgΠ(·,τ)be the unique solution of the ODEgΠ′(s,τ)=-gΠ(s,τ)h′(s-lΠ(τ))h(s-lΠ(τ))-1,t⩽τ⩽s⩽tN,gΠ(tN,τ)=1,wheregΠ′(s,τ)is the partial derivative with respective to the first variable s. For anyx∈(0,∞), defineX^Π(·;t,x)by the SDEdX^Π(s)=[r(s)-cˆΠ(s)+θ(s)σ(s)uˆΠ(s)]X^Π(s)ds+σ(s)uˆΠ(s)X^Π(s)dW(s),s∈[t,tN],X^Π(t)=x,wherecˆΠ(s)=1gΠ(s,s),uˆΠ(s)=θ(s)σ(s).ThenX^Π(·;t,x)and(cˆΠ(·),uˆΠ(·))are equilibrium state process and Nash equilibrium control for Problem(GΠ)with initial state(t,x)∈[0,T]×(0,∞), respectively. Furthermore, for anyτ∈[t,T], let(YΠ(·,τ),ZΠ(·τ))be the solution of the BSDEdYΠ(s,τ)=-fΠ(s,τ,YΠ(s,τ))ds-ZΠ(s,τ)dW(s),τ⩽s⩽tN,YΠ(tN,τ)=0which is parameterized byτ. Then we haveVΠ(t,x)=gΠ(t,t)[lnx-YΠ(t,t)],for any(t,x)∈[0,T)×(0,∞).Now, we are going to derive a time-consistent solution to the original Problem(N)by letting‖Π‖→0(i.e.,N→∞). The proofs of the results in this section are given in Appendix C. The following definition is similar to Definition 4.3 of Yong (2012a).Definition 10An adapted process(cˆ(·),uˆ(·))∈A(t,x)is called a time-consistent equilibrium strategy of Problem (N) with initial state(t,x)∈[0,T]×(0,∞)if the following hold:(i)The SDEdX^(s)=r(s)-cˆ(s)+θ(s)σ(s)uˆ(s)X^(s)ds+σ(s)uˆ(s)X^(s)dW(s),s∈[t,T],X^(t)=x,admits a unique solutionX^(·)≡X^(·;t,x,cˆ(·),uˆ(·)).Approximate optimality: For anyε>0, there exists aδ>0such that for any partitionΠ∈P[t,T]with‖Π‖<δ, one has the following: For anyk=1,2,…,N, and(ck(·),uk(·))∈Ak(tk-1,X^(tk-1)),(10)J(tk-1,X^(tk-1);(cˆ(·),uˆ(·))|[tk-1,tN))⩾J(tk-1,X^(tk-1);(ck(·),uk(·))⊕(cˆ(·),uˆ(·))|[tk,tN))-ε,where[(ck(·),uk(·))⊕(cˆ(·),uˆ(·))|[tk,tN)](s)=(ck(s),uk(s)),s∈[tk-1,tk),(cˆ(s),uˆ(s)),s∈[tk,tN).For anys∈[t,T), give a partitionΠ∈P[t,T]with‖Π‖<δands=tk-1for somek=1,2,…,N. Then (10) implies that along the equilibrium state processX^(·), the time-consistent equilibrium strategy(cˆ(·),uˆ(·))keeps the approximate optimality.Definition 11A functionV(·,·):[0,T]×(0,∞)→Ris called a equilibrium value function for Problem(N)ifV(t,x)=J(t,x;(cˆ(·),uˆ(·))).For(s,τ)∈D[t,T], let(11)g(s,τ)=exp∫sTh′(v-τ)h(v-τ)dv+∫sTexp∫szh′(v-τ)h(v-τ)dvdz=1h(s-τ)h(T-τ)+∫sTh(v-τ)dv,and(Y(·,τ),Z(·,τ))be the solution of the BSDE(12)dY(s,τ)=-f(s,τ,Y(s,τ))ds-Z(s,τ)dW(s),τ⩽s⩽T,Y(T,τ)=0,wheref(s,τ,y)=-1g(s,τ)y+1g(s,τ)lng(s,s)+1g(s,s)-12θ2(s)-r(s).Note that (12) is a flow of BSDEs parameterized by the variableτ(see, e.g. El Karoui, Peng, & Quenez (1997, Section 2.4)). Furthermore, fors∈[t,T], we define(13)cˆ(s)=1g(s,s),uˆ(s)=θ(s)σ(s).Now we have the main results of the paper.Theorem 12We havelim‖Π‖→0sup(s,τ)∈D[t,T]|gΠ(s,τ)-g(s,τ)|=0,and for anyτ∈[t,T]lim‖Π‖→0Esups∈[τ,T]|YΠ(s,τ)-Y(s,τ)|2+∫τT|ZΠ(s,τ)-Z(s,τ)|2ds=0.The pair(cˆ(·),uˆ(·))defined by(13)is a time-consistent equilibrium strategy of Problem (N) with initial state(t,x)∈[0,T]×(0,∞), the corresponding equilibrium state processX^(·)and equilibrium value function are given by(14)dX^(s)=r(s)-1g(s,s)+θ2(s)X^(s)ds+θ(s)X^(s)dW(s),s∈[t,T],X^(t)=xand(15)V(t,x)=g(t,t)[lnx-Y(t,t)],∀(t,x)∈[0,T]×(0,∞),respectively.From the proof of Theorem 13 (see Appendix C), we know that the strategy given by (13) is admissible, and the equilibrium value function V is the limit ofVΠas‖Π‖approaches to 0.We investigated a time-inconsistent consumption–investment problem with a general discount function and a logarithmic utility function in a non-Markovian framework. We followed Yong’s approach to study an N-player differential game. Using the martingale method, we solved the optimization problem of each player and characterized their optimal strategies and value functions. We obtained a time-consistent equilibrium consumption–investment strategy and the corresponding equilibrium value function of the original problem.The same problem is studied in Marín-Solano and Navas (2010) under a model with deterministic coefficients. The authors solve this problem with general utility functions for both naive and sophisticated agents. Specifically, the authors show that, for the logarithmic utility function, the naive strategy coincides with the one for the sophisticated agent. This special feature for the logarithmic utility function is also shown in Pollak (1968) and Marín-Solano and Navas (2009) which consider the cake-eating problem in deterministic models. Our results show that this coincidence is preserved for the model with stochastic coefficients. In fact, at any timet∈[0,T]with wealthx>0, a naive t-agent will solve Problem(C)in Appendix A.1 withT1=t,T2=T,a=1andF=0. In this special case, the functiong(·)given by (A.3) (to emphasize the dependence on the time t, here we denote it bygt(·)) becomesgt(s)=exp∫sTh′(v-t)h(v-t)dv+∫sTexp∫szh′(v-t)h(v-t)dvdz,s∈[t,T].Thus, from Theorem A.2, the naive strategy (denoted by(c̃(·),ũ(·))) is given byc̃(t)=1gt(t),ũ(t)=θ(t)σ(t),t∈[0,T].Note thatgt(t)equals tog(t,t)(with an abuse of notation g), where the functiong(·,·)is defined by (11). Thus, in our case, the naive strategy coincides with the time-consistent strategy given in Section 4. It also shows that the time-consistent strategy in our non-Markovian framework is essentially the same with the one obtained in Marín-Solano and Navas (2010) (note thath(0)=1, in their paper the consumption strategy is the dollar amount and in our paper it is the proportion of the wealth).Furthermore, similar to Marín-Solano and Navas (2010), the same problem can be considered with power and exponential utilities. However, there are some difficulties we want to remark here. For logarithmic utilities, it follows from Theorem 7 that the optimal strategy of Player(k), i.e.(cˆk(·),uˆk(·))is independent of(Yk(·),Zk(·)). Consequently,(Yk(·),Zk(·))which depends on(cˆn(·),uˆn(·)),n=k,…,N, is also independent of(Yn(·),Zn(·)),n=k,…,N. Thus, by definingYΠ(·,·),ZΠ(·,·)andfΠ(·,·,·), we get a standard BSDE (with a parameter), i.e. Eq. (9). Then letting the mesh size approaches to zero, we get the limit equation of (9), i.e. Eq. (12) which is also a standard BSDE. Unfortunately, this is not the case for power and exponential utilities. From the results obtained by Cheridito and Hu (2011), it is easy to see that for power and exponential utilities the optimal strategy of Player(k)depends on(Yk(·),Zk(·))which is the unique solution of some BSDE. Similarly, we can define(Yk(·),Zk(·))as the unique solution to some BSDE. But in these cases,(Yn(·),Zn(·)),n=k,…,N, appear in the driver of the BSDE satisfied by(Yk(·),Zk(·)). Similarly, we defineYΠ(·,·),ZΠ(·,·)andfΠ(·,·,·,·). Unlike Eqs. (9) and (12), we cannot get any standard equations for(YΠ(·,·),ZΠ(·,·))and the limit process(Y(·,·),Z(·,·)). At the moment, it is not clear to us what kind of (non-standard) equation it will lead to and how we get the existence and uniqueness of the solution of the non-standard equation. Therefore, we leave the cases with power and exponential utilities in our future research.

@&#CONCLUSIONS@&#
