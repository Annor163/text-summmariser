@&#MAIN-TITLE@&#
An equilibrium analysis of trading across multiple double auction marketplaces using fictitious play

@&#HIGHLIGHTS@&#
We investigate traders’ market selection and bidding strategies in multiple double auctions.We model the setting as a Bayesian game with continuous private values.We consider different trading environments with independent, substitutable and complementary goods.We use a modified fictitious play algorithm to compute Bayes–Nash equilibrium trading strategies.We draw various insights such as that traders may not participate when trading perfectly complementary goods.

@&#KEYPHRASES@&#
Trading strategies,Double auctions,Bayes–Nash equilibrium,Fictitious play,

@&#ABSTRACT@&#
We investigate how automated traders strategically select marketplaces and submit offers across multiple double auction marketplaces. We model the problem as a Bayesian game with traders that have continuous private values, and use fictitious play to analyse the traders’ Nash equilibrium market selection and bidding strategies. We do this for different trading environments (isolated, single-home, multi-home and hybrid) and different types of goods (independent, substitutable and complementary). We find that, in an isolated marketplace, the fictitious play algorithm converges to a Bayes–Nash equilibrium. In the single-home setting, all traders eventually converge to the same marketplace and the setting reduces to that of an isolated marketplace. In the multi-home setting with perfectly substitutable goods, buyers with high values only bid in one marketplace, whereas buyers with low values bid in multiple marketplaces. Then, for perfectly complementary goods, only buyers with high values bid in multiple marketplaces and buyers with low values enter no marketplaces. Finally, in the hybrid setting with perfectly complementary goods, traders choose no marketplaces.

@&#INTRODUCTION@&#
Electronic exchanges, in which securities, futures, stocks and commodities can be traded, are becoming ever more prevalent. In addition to various electronic financial markets (such as NASDAQ and NYSE), electronic betting exchanges have emerged which allow gamblers to trade online (such as World Bet Exchange http://www.wbx.com and BetFair http://www.betfair.com). Many of these adopt the double auction market mechanism which is a type of two-sided marketplace for matching buyers (one side) and sellers (the other side) (Friedman and Rust, 1993). The advantages of this type of mechanism are that traders can enter the marketplace at any time and they can trade multiple items in one place without travelling around several marketplaces. Furthermore, this mechanism is highly efficient in economic terms (Smith, 1962).Now, often electronic exchanges do not exist in isolation, and there are several competing electronic exchanges where traders can participate. In finance, companies can be listed on multiple electronic exchanges. In addition, alternative automated trading systems, often called “dark pools” or “dark liquidity”, are propagating rapidly (Carrie, 2008). For online betting, gamblers can choose to trade bets in one or multiple electronic bet exchanges, such as World Bet Exchange, Betfair and Betdaq (http://www.betdqa.com). In these markets, software agents are often used to make autonomous trading decisions because of the speed of trading that is required (Ma and Leung, 2007; Vytelingum et al., 2008; Dang et al., 2015). However, as there are multiple such markets, these trading agents need to both select which ones to participate in, as well as how much to bid in each one selected.Against this background, in this paper we use a computational learning approach called fictitious play to analyse how trading agents behave strategically in terms of selecting marketplaces and submitting offers in the context of multiple double auction marketplaces. Intuitively, trading agents’ strategies will be determined by their own preferences (types), which are usually heterogeneous and privately known. Moreover, traders’ strategies are affected by the trading environments. Specifically, we distinguish between four different trading environments. The first is the isolated marketplace, which corresponds to the commonly-studied setting with no competing marketplaces. The second is single-home trading where both buyers and sellers can only select one of the available marketplaces. The third is multi-home trading where both buyers and sellers can participate in multiple marketplaces simultaneously. Finally, in hybrid trading settings one side of traders can only enter one marketplace (i.e. single-home trading), while the other side of traders can enter multiple marketplaces (i.e. multi-home trading).It is known that different trading environments have different effects on the strategic behaviour of the traders. For example, in a single-home environment, traders will only participate in the most profitable marketplace. However, in the multi-home case, traders will participate in any marketplace that provides non-negative (or positive) profits. In addition to the impact of the trading environments, the types of the goods traded between buyers and sellers can also affect their behaviour. Specifically, when multiple goods are traded across multiple marketplaces, these goods can be either independent, substitutable or complementary. When they are independent, the trader’s valuation for the multiple goods is additive, i.e. equal to the sum of its valuation for each individual good. When they are substitutable, the trader’s valuation is subadditive, i.e. less than the sum of its valuation for each individual good. When the goods are complementary, the trader’s valuation is superadditive, i.e. greater than the sum of its valuation for each individual good. These different types also affect traders’ strategies. For example, when trading complementary goods, buyers may prefer to buy as many as they can, and thus will try to bid high in several marketplaces to maximise the number of transactions. In this paper, we will consider all of the above factors and derive traders’ market selection and bidding strategies in different trading environments with different types of goods.Intuitively, we can see that the decision about which marketplace to select and how much to offer depends on other traders’ decisions. Therefore, game theory (Fudenberg and Tirole, 1991), which mathematically studies such strategic interactions between self-interested agents (where an individual’s success in making choices depends on the choices of others), is the appropriate tool to analyse our system. Indeed, game theory has been widely used to analyse the strategic behaviour of traders in similar areas, see, for example, Lin and Chou (2004), Yuan and Zeng (2012), and Shi et al. (2013). Specifically, we assume that traders have a privately known value or type which determines their utility for the obtained goods, and this type is i.i.d. sampled from a continuous probability distribution. A trader does not know the types of other traders, but knows the probability distribution from which the types are sampled. Given this, the appropriate solution concept is the Bayes–Nash equilibrium in which each trading agent makes a best response against the other agents’ strategies. Due to the high complexity of the game we study, it is very difficult, perhaps impossible, to derive the equilibrium solution by purely theoretical approaches based on lemmas or theorems. Therefore, we use numerical approaches to compute the equilibrium. Furthermore, this game involves a continuous trader type space, which results in an infinite game. Therefore, standard approaches, such as the Lemke–Howson algorithm (Lemke and Howson, 1964) or the Govindan–Wilson algorithm (Govindan and Wilson, 2003), cannot be used. Instead, we adopt a computational learning approach based on fictitious play (FP) to approximate pure Bayes–Nash equilibria for the traders’ strategies. We use this approach because it has previously been effectively applied to find equilibria in complex auction settings where traders’ types are continuous (Rabinovich et al., 2013).In so doing, this is the first work to analyse traders’ Nash equilibrium market selection and bidding strategies across multiple double auction marketplaces that takes into account different trading environments with different types of goods. In more detail, the contributions of this paper are as follows. Firstly, we analyse the equilibrium bidding strategies in isolated double auction marketplaces. Despite the extensive existing research studying these auctions, computing equilibria for this setting is still challenging (although the existence of the Nash equilibrium has been shown and the solution for the simple setting with only one buyer and one seller has been analysed, see Section 2). We then go on to study the traders’ market selection and bidding strategies across multiple double auction marketplaces. In single-home trading environments, we find that all traders eventually converge to the same marketplace. In the multi-home environment, when trading perfectly substitutable goods, buyers having high values will only bid in one marketplace, and buyers having low values will bid in multiple marketplaces to increase the probability of being matched. When trading perfectly complementary goods, only buyers that have high values will bid in multiple marketplaces, while buyers with low values will not enter any marketplace. Furthermore, in the hybrid trading environment with perfectly substitutable goods, all traders only choose one marketplace in equilibrium and, as buyers’ values for multiple goods increase, buyers will increasingly bid in multiple marketplaces, which causes sellers to participate in different marketplaces depending on their types. For perfectly complementary goods, we find that buyers choose no marketplaces since they incur a high risk of loss, and so neither will sellers. However, as buyers’ values for individual items increase or buyers have more market power than sellers, we find that some trade does occur.The structure of the rest of the paper is as follows. In Section 2, we discuss related work. In Section 3, we describe the setting for analysing traders’ strategies across multiple double auction marketplaces, and derive the expected utilities of traders in this setting. In Section 4, we describe the FP algorithm used in our analysis. In Section 5, we use this algorithm to analyse traders’ equilibrium strategies. Finally, we conclude and discuss the limitations in Section 6.

@&#CONCLUSIONS@&#
In this paper, we analysed the Bayes–Nash equilibrium market selection and bidding strategies for traders that operate across multiple double auction marketplaces in different trading environments with different types of goods. Specifically, we first derived the equations to calculate the expected utilities of traders in this complex setting. Then we used a FP algorithm to analyse the traders’ Bayes–Nash equilibrium trading strategies in isolated marketplaces, single-home, multi-home and hybrid trading environments with independent, substitutable and complementary goods respectively.We first analysed the traders’ strategies in isolated marketplaces, where we found that they shade their offers in equilibrium. We then analysed the traders’ equilibrium market selection and bidding strategies across multiple double auction marketplaces in single-home trading environments, and found that all traders eventually converge to bid in one marketplace. Moreover, how they bid is exactly the same as that in the isolated marketplace setting.We extended the analysis by considering multi-home environments with different types of goods. Specifically, we assumed that the trading goods are independent for sellers, and could be independent, substitutable or complementary for buyers. With independent goods, traders bid in multiple marketplaces and the equilibrium bidding strategies are exactly the same as those in isolated marketplaces. With substitutable goods, we found that buyers with high types only bid in one marketplace and buyers with low types bid in multiple marketplaces to increase their probability of being matched. When perfectly complementary goods are traded, only buyers with high types bid in multiple marketplaces. Buyers with low types do not enter any marketplace. However, when buyers’ values on multiple complementary goods increase, more buyers bid in multiple marketplaces and they increase their bids, instead of shading, to win more goods.Finally, we extended the analysis to hybrid environments where buyers can trade in multiple marketplaces and sellers can only trade in one. We found that, for independent goods, different from the single-home result where sellers converge to bid in one marketplace, sellers split to place asks in different marketplaces in equilibrium. For substitutable goods we found that, as the buyers’ values for multiple goods increases, they begin to bid in multiple marketplaces. This causes sellers to distribute themselves over different marketplaces (in contrast to perfectly substitutable goods, all traders only choose one marketplace in equilibrium). Then, for complementary goods, we found that no traders choose any marketplaces when trading perfectly complementary goods and traders begin to participate when the buyers’ valuations on complementary goods increase or buyers have more market power than sellers.In sum, we have provided a number of insights for automated trading agents that operate across multiple double auction marketplaces. However, in order to obtain tractable results, our work makes a number of simplifying assumptions that need to be addressed in the future. The first limitation is that, in order to obtain an equilibrium solution in a reasonable time, we consider a relatively small number of traders and marketplaces. When the number of participants increases beyond 100 agents, the computational load is intense and it is difficult to get the solution in a reasonable time. A possible way to address this limitation is to consider a higher level of abstraction in which individual agents represent many agents of the same type (as per the work of Sandholm (2010)). The second limitation is that our analysis is focused on the clearing house mechanism. In reality, some marketplaces will adopt the continuous double auction mechanism, which means that the marketplace will try and match traders as soon as new offers arrive. In the future, we would like to extend our analysis to cover this mechanism. The third limitation is that we only consider identical goods, and do not consider different goods, especially when they are substitutable or complementary. In the future, we also intend to address this limitation.