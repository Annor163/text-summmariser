@&#MAIN-TITLE@&#
Topological evaluation of volume reconstructions by voxel carving

@&#HIGHLIGHTS@&#
Application of persistent homology to the evaluation of a method for 3D reconstruction.Computation of persistent homology of 66 sequences of reconstructions by voxel carving.Study of stability, topological correctness and influence of camera order in the carvings.Proposals for future research lines.

@&#KEYPHRASES@&#
Voxel carving,Volume reconstruction,Persistent homology,Barcodes,Evaluation,

@&#ABSTRACT@&#
Space or voxel carving (Broadhurst et al., 2001; Culbertson et al., 1999; Kutulakos and Seitz, 2000; Seitz et al., 2006) is a technique for creating a three-dimensional reconstruction of an object from a series of two-dimensional images captured from cameras placed around the object at different viewing angles. However, little work has been done to date on evaluating the quality of space carving results. This paper extends the work reported in (Gutierrez et al., 2012), where application of persistent homology was initially proposed as a tool for providing a topological analysis of the carving process along the sequence of 3D reconstructions with increasing number of cameras. We give now a more extensive treatment by: (1) developing the formal framework by which persistent homology can be applied in this context; (2) computing persistent homology of the 3D reconstructions of 66 new frames, including different poses, resolutions and camera orders; (3) studying what information about stability, topological correctness and influence of the camera orders in the carving performance can be drawn from the computed barcodes.

@&#INTRODUCTION@&#
Homology is topologically invariant, meaning it is a property of an object that does not change under continuous (elastic) transformations of the object. Roughly speaking, homology characterises “holes” in any dimension (e.g. connected components, tunnels and cavities in a 3D space). Homology computation can be carried out over a combinatorial structure called cell complex, which is built up by basic elements (cells) of different dimensions (vertices, edges, faces, etc.). One can take advantage of the combinatorial nature of a digital image (as a set of voxels) to compute homology by taking as input the (algebraic) cubical complex associated to the image. Persistent homology[5,17] studies homology classes and their life-times (persistence) in the belief that significant topological attributes must have a long life-time in a filtration (an increasing nested sequence of subcomplexes). In this paper, we work upon the previous paper of the same authors [8] to apply persistence theory for the evaluation of a 3D reconstruction process, providing a wide experimental support to the initial ideas set down there. We want to clarify that the application described here is not the classical use of persistent homology; it is more an experimental use of it. The reconstruction process, along increasing number of cameras, can be modelled as a suitable input for persistent homology computation, giving the possibility of a topological understanding of the whole process. More specifically, we analyse the persistence barcodes[3] which are graphical representations of pairs of birth and death times of homology classes as a collection of horizontal line segments (intervals) in a plane, in order to extract information about the topological evolution of the reconstructions.In the following section, we describe the specific context in which we apply persistent homology computation. Section 3 describes the method used to topologically characterise the evolution of the reconstructions by voxel carving with respect to the number of cameras used. Reports on the computations performed as well as some conclusions are collected in Section 4. We draw some ideas for future work in the last section.Space or voxel carving [1,4,10,15] is a technique for creating a three-dimensional reconstruction of an object from a series of two-dimensional images captured from cameras placed around the object at different viewing angles. The technique involves capturing a series of synchronised images of an object, and, by analysis of these images and with prior knowledge of the exact three-dimensional location of the cameras, deriving an approximation of the shape of the object. The general voxel technique proposed in [10] has been modified and adapted to a specific task, as fully detailed in [12,13]. And it is in fact this specific voxel carving technique that we are evaluating.In each image in the synchronised set of images, the subject of interest is identified and then segmented from the background of the image. Fig. 1shows an example of a subject of interest in a camera image and the subject segmentation or silhouette extraction, as it is more commonly known. The subject silhouette is segmented from the background by an autonomous adaptive “approximate median” background modelling algorithm. By using an adaptive background modelling algorithm the silhouette extraction process can be made more robust to environmental changes, such as lighting and unwanted background objects. A 3D bounding box is then drawn around the subject’s approximate position in 3D space. This bounding box defines a volume that has a corresponding real world three-dimensional coordinate system. This defined volume can be seen in Fig. 2.In the real world coordinate system the approximate subject volume is populated with voxels, that are set at a particular distance apart or spatial resolution, i.e. if the distance between voxels decreases then the spatial resolution increases. From experimental observation, authors in [12] found that a three dimensional spatial frequency of 4cm, i.e. 15,625 samples per cubic metre, was sufficiently adequate for their purposes. This is based on three premises, (1) the final reconstructions being qualitatively detailed enough to be used as a 3D visualisation tool, (2) the final reconstructions being detailed enough to allow to extract accurate human biomechanical information from the resultant volumes, and (3) based on the computational performance of a single PC this resolution allows to run their algorithm at near to real-time. By using the extracted silhouettes, seen in Fig. 1, from each image, inconsistent voxels can be eliminated from the defined volume and by iterating through each of the cameras the remaining voxels in the volume form an approximate 3D representation of the subject (see Fig. 3).Voxel carving techniques are very useful for 3D reconstruction as they can cover a very large environment, such as a tennis court, they are non-invasive, they can be implemented with an array of low-cost cameras and the technique itself is also cheap to compute. However, one of the fundamental difficulties with voxel carving is the unavailability of a ground truth from which to derive the accuracy of the technique. In an attempt to provide some quantitatively evaluation of voxel carving Monaghan et al. [13] present an evaluation of the technique indirectly via silhouette comparison and in [12] present a method to quantitatively evaluate spatially carved volumetric representations of humans using a synthetic dataset of virtual humans in a tennis court scenario. Such quantification is based on a calculated ground truth and on the computation of Normalised Mean Square Error (NMSE).From experimental observation the authors found that 50 cameras surrounding a subject could be considered as the maximum number so that the addition of any further cameras would not provide any more accuracy to the final space carving (it should be noted that in a real world scenario having 50 cameras is unrealistic due to costs and physical placements of the cameras). By using the synthetic dataset of virtual humans they created 50 virtual cameras and placed them in the virtual environment surrounding a virtual human. The resultant space carving produced from this ideal setting was then considered to be the ground-truth carving. The NMSE of any reconstruction from a camera setup with fewer than 50 cameras could then be calculated by comparing it to the ground-truth reconstruction, which had been calculated from 50 cameras. The aim of such an evaluation is to somehow quantify the accuracy of the 3D volume produced by the voxel carving process with regard to the number of cameras used. This investigation was motivated by the fact that very little work had been done to date on evaluating the quality of space carving results. A new insight into the voxel carving work by homologically characterising the sequence of reconstruction volumes was initiated in [8]. Given the nature of the carvings, a homology-based approach was presented as a more appropriate mathematical quantification than the relatively simple NMSE-based approach used previously.We are concerned with the application of persistent homology computation to provide topological evaluation of the sequence of 3D reconstructions by the voxel carving technique. We consider the whole process of voxel carving with different numbers of cameras as an object with a filtration given by the partial results with each number of cameras. This way, the associated barcode provides a global topological description of the process, that enriches the numerical comparison against the ground truth model. Although the idea of using persistent homology in this context was first proposed in [8], a more formal and detailed presentation of the method is given in this section. Besides, a considerable amount of experiments presented in next section, will support the proposed method.The input data, results of the different voxel carvings, are 3D binary digital images or subsets of points I ofZ3considered under the (26,6)-adjacency relation for the foreground (I) and background (Z3⧹I), respectively. Due to the nature of our input data, we focus on a special type of cell complex: cubical complex. A cubical complex Q inR3, is given by a finite collection of p-cubes such that a 0-cube is a vertex, a 1-cube is an edge, a 2-cube is a filled square (we call it, simply, a square) and a 3-cube is a filled cube (resp. a cube); together with all their faces and such that the intersection between two of them is either empty or a face of each of them. The cubical complexQ(I)associated to I is given by identification of each 3D point of I with the unit cube centered at that point and then considering all those 3-cubes together with all their faces (square faces, edges and vertices), such that shared faces are considered only once. Sometimes we will refer to p-cubes with the more general term of cells (corresponding to the more general concept of cell complex, see [9]).Given a cell complex, homology groups can be computed using a variety of methods. Incremental Algorithm for computing AT-model (Algebraic Topological Model) [7], computes homology information of the cell complex by an incremental technique, considering the addition of a cell each time. Once homology of a combinatorial object has been computed, the same algorithm can be used again to update homology information if new cells are added to the existing complex. In [6], the authors revisit this algorithm with the aim of setting its equivalence with persistent homology computation algorithms [5,17] working overZ/2as ground ring. We make use of algorithm in [6] for the persistent homology computation (though any other algorithm for computing persistent homology, adapted to cubical complexes, could have been applied).Denote byRkthe 3D reconstruction (or 3D binary digital image) obtained using k cameras, that is,R0represents the initial 3D bounding box,R1the set of points obtained after the voxel carving ofR0with one camera, and so on.Notice that, every time a new camera is added and the corresponding carving is performed, some points (if any) are removed from the previous reconstruction, soRk⊇Rk+1. That is, we have a nested sequence of 3D reconstructions with decreasing number of cameras,Rn⊆Rn-1⊆⋯R1⊆R0.Now, associate a cubical complex to each reconstruction as explained above. The following proposition holds.Proposition 1Denote byCn-kthe cubical complex associated to the reconstruction with k camerasRk(k=0,…,n). Then, the cubical complexC={Ci}i=0…nis a filtered complex with the filtrationC0⊆C1⊆⋯Cn-1⊆Cn.Obviously, inclusion relation between the complexes is induced by the ones between corresponding reconstructions.So persistent homology of the filtered complexCcan be considered. Notice thatCiis obtained fromCi-1by adding some cubes, together with all their faces in the cubical complex. The addition of all these cells is accomplished in an order(ci1,…,cimi)such that ifcjis a face ofcl, thenj<l. Such an ordering gives place to a new filtrationCi:Ci-1⊆Ci-1∪{ci1}⊆⋯⊆Ci-1∪{ci1,…,cimi}=Ci.Persistent homology can be computed through this filtration betweenCi-1andCi, providing all the pairs of cells responsible for the creation/destruction of homology classes along the process, what allows to construct a “partial” barcode corresponding to the persistent homology of the filtrationCi.See Fig. 4as a simple example of computation of persistent homology and the corresponding barcode, which represents graphically the birth and death of homology classes along the process.However, regarding the computation of a barcode associated to the whole filtrationC, consider the following definition:Definition 1Given a filtered complexC={Ci}i=0…n, such that for each index i, there is a filtrationCiof complexesCi0=Ci-1⊆Ci1⊆⋯⊆Cimi=Ci, a simplified barcode forCwith respect to the filtrationsCiis the one computed from the barcode ofCafter taking these operations, for each i:1.All the homology classes living at timei-1in the filtrationCthat are destroyed at a certain time j of the filtrationCi, withj=1…mi, are set to die at time i in the filtrationC.All the homology classes that are created at a certain time j of the filtrationCi, withj=1…mi, are set to be born at time i in the filtrationC.All the homology classes that are created at a certain time j of the filtrationCi, withj=1…miand destroyed at time l of the filtrationCi, withl=2…miandj<l, are eliminated from the barcode.Hence, in the simplified barcode, creation and destruction of homology classes are only considered to happen between two consecutive number of cameras and not in the increasing process between them. So, “small” elements of homology, like those in Fig. 4, are not represented. This barcode will help to visualise the whole computation in order to easily analyze the behaviour of the elements of homology.Proposition 2The simplified barcode of the filtrationC={Ci}i=0…ndescribed above with respect to the filtrationsCi-1⊆Ci-1∪{ci1}⊆⋯⊆Ci-1∪{ci1,…,cimi}=Ci,is independent of the order taken for the cells{ci1,…,cimi}added between each two consecutive subcomplexesCi-1andCi, fori=1…n.Notice that the order in which the cells are considered to compute persistent homology between two subcomplexesCi-1andCicould lead to different barcodes. By setting the times of birth or death to the interval ends in each filtrationCi, we achieve a representation tool (the simplified barcode) that depends exclusively on the camera orders taken for the reconstructions.

@&#CONCLUSIONS@&#
The new insight developed in this paper to evaluate a voxel carving technique significantly enriches the evaluation made in [12] by means of NMSE quantification. Although this is not the standard use of persistent homology, the experimentation carried out has provided valuable information from a topological point of view of the reconstructions process.We propose here different research lines for future.Experimentation with other complexes. One could consider other filtrations on the set of reconstructions that could allow different computations. For example, the Differences Complex: for each reconstruction by voxel carving and for each number of camerasRi, take the voxels that are left to be deleted with respect to the ground truth (Rn),Li=Ri⧹Rn. Consider, then the associated cubical complexes or difference complexes,{Di}ito each set of 3D pointsLi. Notice thatLiis a cubical complex given by the 3-cubes that belong toCi(cubical complex associated toRi) but not toCi-1together with all their faces (see Fig. 12a–e). Hence, a new filtration is givenDn-1⊆Dn-2⊆⋯⊆D1⊆D0,and persistent homology can be computed. The computations made of the corresponding simplified barcode, as defined in Section 3, have shown a high increase in the number of homology classes with respect to the former computations (Fig. 12), what could provide different information about the whole process that might complement the one given by the reconstructions themselves.Video sequences. An interesting question arises by fixing a certain number of cameras and considering the sequence of 3D reconstructions along time in a video. Holes can be produced along time by different movements of the body that should not be stable along the complete scene, so the homological analysis of voxel carving performance of video sequences could shed some light on the classification of these movements. Zigzag persistence [2] seems to be a more appropriate context for this application.