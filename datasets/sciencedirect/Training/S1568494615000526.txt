@&#MAIN-TITLE@&#
Flexible supply chain optimization with controllable lead time and shipping option

@&#HIGHLIGHTS@&#
Proposing a five- tiers supply chain with flexible lead time.The lead time of manufacturers and warehouses can be shortened with extra crashing cost.The use of different types of transportation option with different prices.Proposing a hybrid algorithm (AIS and Taguchi) to solve the proposed model.

@&#KEYPHRASES@&#
Supply chain design,Taguchi,Controllable lead time,Optimization,

@&#ABSTRACT@&#
In order to enhance customer's loyalty in a supply chain, many efforts could be done such as upgrading the service facilities and decreasing delivery time. Although these efforts need to extra-added cost, but we can reduce the shortage cost in supply chain. In this paper we consider a five-tier supply chain and assume that the lead time of manufacturers and warehouses can be shortened at an extra crashing cost, which depends on the length of lead time. Also we consider different options with different prices for product transportation between facilities. We formulate mixed integer non-linear model for a five-tiers supply chain with controllable lead time and multiple transportation options and develop a novel meta-heuristic method that combines the Taguchi's feature with Artificial Immune System (AIS) to solve the proposed model. The performance of the proposed solution method has been examined against a set of numeric instances and the obtained results are compared with those provided by AIS and the hybrid of Taguchi-genetic algorithm (GATA). Results indicate that the proposed method can provide better results than the previous solutions effectively.

@&#INTRODUCTION@&#
A significant issue in supply chain design is the foundation of proper indices to evaluate the performance of supply chain. A set of performance indices is used to determine effectiveness and robustness of an existing chain. These indices are categorized as qualitative and quantitative. Quantitative performance indices are also categorized based on cost or profit e.g. the total cost of supply chain, average time to response customers’ demand [1]. In traditional supply chain the main focus of the problems was on cost or time component; for example, Amiri [2], Gen and Syarif [3], Truong and Azadivar [4] proposed mathematical models to minimize the total cost of supply chain. But in recent years many researchers such as Sourirajan et al. [5], Salema et al. [6], Panagiotis and Lazaros [7] and Tiwari et al. [8] proposed several models that consider total cost as a main index with combination of other indices such as transportation specification, supplier quality and customer waiting time.Lead time as a quantitative performance index is an important specification for each facility in a supply chain. Researchers have investigated the lead time in several states. The lead time is more significant when demand is uncertain and effect of demand uncertainty can be decreased with effective lead time management. Therefore two opinion exist about lead time. In the first lead time is a parameter and in the second lead time is variable. If lead time is considered as variable, the models try to select the best value to minimize the cost and delivery time. Ouyang and Wu [9] emphasized that shortening the lead time can decrease the safety stock and stockout loss and increase the service level and the competitive ability. Ben-Daya and Raouf [10] presented review model that considers lead time and order quantity as decision variables. They obtain the best lead time and order quantity that minimize the crashing cost, ordering cost and holding cost. Ouyang and Chuang [11] proposed a mixture inventory model involving variable lead time and controllable backorder rate. They assumed that backorder rate is dependent on the length of lead time and proposed the best ordering policy. Lee [12] extended the work of Ouyang and Chuang [11] and proposed a model with combination of lead time and controllable backorder rate with the mixture of distributions.As stated by Tersine [13], lead time usually consists of more than one component such as order preparation, order transition, supplier lead time, delivery time and setup time components. Considering this fact lead time can be reduced by decreasing the time of these components with crashing cost, that is to say the lead time is controllable. Many researchers utilize controllable lead time in supply chain design problem to reduce the customers waiting time and increase the service level. Lee et al. [14] proposed the continuous review inventory system with backorder discount and variable lead time, where capital investment leads to reduce the ordering cost and lead time can be shortened at an extra crashing cost. Their objective is to simultaneously optimize the order quantity, ordering cost, back-order discount and lead time. Ouyang and Chang [15] proposed a model deals with lead time and set-up cost reductions on the modified lot size reorder point. In the proposed model lead time can be shortened at an extra crashing cost the model objective is to optimize the lot size, reorder point, set-up cost and lead time. Pan and Hsiao [16] proposed an integrated inventory model with controllable lead time and backorder discount in which lead time crashing cost is a function of reduced lead time and orders quantities. Li et al. [17] investigated on a supply chain consisting of a vendor and a buyer with controllable lead time. They considered two scenarios such as complete information and incomplete information about buyer. Arkan and Hejazi [18] proposed a coordination mechanism based on a credit period in a two echelon supply chain with one buyer and one supplier that both lead time and ordering cost can be reduced at an added cost. Jha and Shanker [19] presented an integrated production-inventory model where a vendor produces an item and supplies it to a set of buyers. The buyer level demand is assumed to be independent normally distributed and lead time of every buyer can be reduced at an added crash cost. Yi and Sarker [20] also used controllable lead time in a buyer–vendor system.Many supply chain models that focused on lead time and supply chain optimization are NP-hard and researchers utilized a heuristics or meta-heuristic method to find the optimal solution for them. Moncayo-Martınez and Zhang [21] proposed an algorithm based on pareto ant colony optimization as an effective method to solve multi-objective supply chain design problems. Gunnarsson [22] used two different heuristic approaches to optimize a supply chain problem. Melachrinoudis et al. [23] used multiple objective approaches to find a solution. Syam [24] applied Lagrangian relaxation and simulated annealing to a supply chain network with multiple levels and settings; minimization cost was the objective. Chang Ying [25] used genetic algorithms with optimum search features and combined the co-evolutionary mode, which is in accordance with various criteria and evolves dynamically, and constraint-satisfaction mode capacity to narrow the search space, which helps in finding rapidly a solution that, solves supply chain integration network design problems.Taguchi method is a robust design method based on experimental design for assessment improvements in products, processes and equipment [26]. Taguchi methods have been also combined with heuristic algorithms and the results have shown efficient performance over an extensive range of problems [27,28]. In supply chain optimization by meta-heuristics, Taguchi method has been used to select the initial parameters of models [29] and this method did not have any role in solving stage of the model in most cases. On the other hand Taguchi method has been rarely utilized in order to select and reconstruct the population to produce the next generation or as a crossover operator in meta heuristics. Nevertheless there are some papers that used Taguchi method for selection stage in meta heuristic such as Tiwari et al. [8] that used the orthogonal array in order to find the best combination of parents’ receptors for generating offsprings pool in their meta-heuristic solution.In this paper we study an integrated supply chain with five tiers that delivers products from suppliers to customers. We assume that manufacturers and warehouses have controllable lead time that can be shortened to reduce delivery times. This advantage declines the inventory cost, transportation cost and backorder cost of entire supply chain. The objective function of this supply chain consists of six components such as purchasing raw materials, fixed cost, variable cost, transportation cost, holding cost and crashing cost. In the proposed model we find the best assignment of transportation options for each facility and determine which facility must be open or closed. To our knowledge there is no model and solution approach in the literature to find the optimum or near optimum combination of facility allocation, transportation selection and lead time duration setting in one problem, so we should restrain the complexity of this model and its solution. We first model a five-tier supply chain mathematically with controllable lead time and multiple transportation options and next propose a novel meta-heuristic method to solve this model effectively. We use Taguchi method and AIS to solve the model and also propose a particular type of antibody coding to find the best combination of receptors. In this study, to reduce computational efforts, Taguchi method is used to examine the important combinations of receptors in antibodies. To verify the effectiveness of the proposed meta-heuristic method, it has been compared with the previous methods.The rest of the paper is organized as follows: Section 2 introduces the model assumptions. Section 3 describes the mathematical model for the considered supply chain. Section 4 introduces detailed description of the proposed method. Section 5 is devoted to the results and finally Section 6 concludes the paper.The model assumes that the customers’ demand follows normal distribution and each customer has a maximum waiting time that his demand must be satisfied during this period. The proposed model determines which facility should be open or closed and also assigns transportation options to each facility. In each layer of supply chain there are different transportation options. For example, these options can be plane, truck or train, the price of these options is different in each layer. Raw materials are more than one type, for example if we have 2 types of raw material such as i1 and i2 the manufacturers need both of them to make the product, manufacturers can provide raw materials from different suppliers. Each manufacturer and warehouse has a controllable lead time that consists of some components and each component has several duration options and crashing costs. Lead time of these facilities can be shortened to satisfy customers’ demand in their waiting time period. Other assumptions made in the proposed model are as follows:•Transportation cost is nonlinear and we have several transportation options for each facility.Each supplier can fulfill the demand of more than one manufacturer.The demand of each facility is satisfied by one facility from upper layer.The lead time L for manufacturers and warehouses consists of I mutually independent components. The ith component has a minimum duration Ti2, normal duration Ti1 and a crashing cost ci2. Further, for our convenience, we rearrange cisuch that c12≤c22≤c32…≤cn2. Then it is clear that the reduction of lead time should be first on the first component since it has a lower crashing cost, then second component and so on.Let L0=∑iTi1 and Lkbe the length of lead time that its first k components crashed to minimum duration. Then Lkcan be expressed asLk=∑i=1ITi1−∑i=1k(Ti1−Ti2)Crashing cost must be paid in all cycles, if a facility selects the crashed lead time.There is no shipment transfer between facilities of the same layer.Each manufacturer, warehouse and distribution center can fulfill the demand of more than one facility.The transportation options available to different classes of business entities are not the same.A periodic review inventory replenishment policy is assumed.To illustrate the lead time calculation, consider a lead time with 3 components. Table 1shows the normal and minimum durations of the components.The normal lead time (L0) can be calculated as follows∑i=13Ti1=5+6+4=15If we want to use the minimum duration of first 2 components the lead time is equal toL2=∑i=13Ti1−∑i=12(Ti1−Ti2)=15−(5−3)−(6−4)=15−2−2=11The crashing cost is equal to 7 since the crashing cost of first and second component is 3 and 4 respectively.We propose a model which includes all common cost components in supply chain problems. This model is an extension of proposed model by Tiwari et al. [8] and consists of 6 components including cost of purchasing raw materials from suppliers, fixed cost and variable cost of open facilities, transportation cost, inventory holding cost in warehouses and distribution centers and cost of crashing lead time. The detailed formulation can be found in Appendix A.According to Amiri [2] this models is considered as NP-hard, moreover we have added flexible lead time and non-linear inventory constraints that increase the model complexity. Many researchers used meta-heuristic to solve NP-hard problems. Artificial Immune System is one of these meta-heuristics that utilizes the concept of human immune system such as antigens and antibodies to reach the optimal solution. This paper proposes a hybrid solving method and its implementation on the problem at hand which the detailed description will be given in the next section.The Immune Network Theory proposed by Jerne [30]. He proposed that by a feedback mechanism the immune can be remembered in immune system of human. Considering this fact B cell as a cell type in human immune system can defend itself against new antigens that are almost similar to previous antigens. It is this behavior on which the AIS capitalizes. Many set of solution are made and those which have high affinity are remembered. So a distinct advantage of AIS is that this method has a memory and remembers all antibodies with high affinity value. According to this fact this method is an effective meta heuristic for optimization problems with large number of constraints. The memory of AIS leads that the method does not produce repetitive antibodies and the convergence of AIS with non-repetitive antibodies is very high. Subsequently the high convergence decreases the solving time. For these reasons and because of large number of constraints we utilize the AIS in this paper.In AIS method for optimization, the antibodies are taken as the solutions and the objective function is considered as affinity. Real numbers and their location are used to show the specification of the antibodies. Firstly, a population of random antibodies is generated which represents as first solutions for problem. The fitness is calculated for each antibody and in minimization problem, a pool member with lower objective value is considered to have higher affinity. The proliferation rate is directly proportional to the affinity of the antibodies.Prior to the emergence of Taguchi methods, factorial design of experiments was employed to investigate all the possible combinations of parameters that can fabricate the best product at certain costs. When the number of parameters is large, the factorial design approach faces major drawbacks. It would be costly and time consuming to perform all the experiments, completely different results may be obtained from two designs of the same experiment, contribution of each parameter cannot be determined and results may be difficult to be interpreted. The Taguchi methods were developed to overcome these limitations by providing a systematic approach to the design of experiments. Standard tables known as the orthogonal arrays are used to ease the design of experiments and to obtain consistent results from the same experiment. An orthogonal array is abbreviated as Ln, where the subscript n refers to the number of trials that needs to be run for a given experiment. In this paper we have utilized standard two level orthogonal arrays which are generally represented as Ln=(2n−1). According to the number of facilities in each example given in Table 1, n at least is equal to 86 and at maximum 248. For example in instances 1 and 10 the antibodies contain 86 and 248 receptors respectively.Taguchi's emphasis on minimizing deviation from target led him to develop measures of the process output that incorporate both the location of the output as well as the variation. This measure is called signal to noise ratio (SNR). It has previously been implemented for the improvement of measurement and quality via variability reduction and represents the amount of variation and the mean response. Calculation of the SNR depends on the experimental objective [31]. In this paper we use SNR as a fitness function to evaluate the produced antibodies; details on fitness function are presented in fitness function section.In this section we present the solving methods of supply chain model in detailed description. In our solving approach we utilize AIS approach as a meta-heuristic and combine the feature of this approach with Taguchi method for design of experiment. The advantage of AIS is that can achieve the global optimum faster than other meta-heuristic methods. The next subsection describes the coding method.In this paper we propose a novel method for receptors encoding. Antibodies in the problem at least have 86 receptors. The receptors of antibody contain the binary and integer values. Each receptor has a numeric value and a position value utilized in calculating the fitness of antibody. To illustrate the encoding method, suppose the supply chain includes 2 types of suppliers that have 4 and 8 facilities respectively. The suppliers provide the demand of 3 manufacturers. In this chain there are 4 warehouses which should fulfill the demand of 5 distribution centers. In the last tier of this chain there are 16 customers. For each warehouse, distribution center and customer there are 3, 4 and 5 transportation options. Lead time for manufacturers and warehouses has 2 components and each component has 2 duration options that determine the duration of component implementation.In an antibody we determine that each facility should provide its demand from which facilities, the facility be opened or closed, and assign transportation option to each facility. Fig. 1shows the structure of an antibody.The value of receptors 1, 3 and 5 shows the number of suppliers that produce type i raw material and supply the demand of manufacturers m1, m2 and m3. Receptors 2, 4 and 6 also show the number of suppliers that provide type j raw material for m1, m2 and m3 respectively. The next four receptor cells represent the suppliers selected for the second and third manufacturing facilities respectively. Thereafter, the next three receptors are encoded in binary mode and determine which manufacturers are opened or closed. Number 0 implies that facility is closed and number 1is used for an opened facility. The value in next four receptor cells determines which warehouses are opened or closed and the value in next four receptor cells assigns each warehouse to a manufacturer, the next two receptors determine that in warehouse 1 which duration option is used in lead time components, for example in this antibody manufacture 2 was assigned to warehouse 1 and warehouse 1 used option 1 in component 1 of lead time and option 1 in component 2 of lead time. For each warehouse these two receptors are repeated. Next four receptors dedicate shipping option to each warehouse. Due to the long length of antibody the parts of distribution centers and customer receptors were eliminated. Comprehensiveness of this encoding approach is that one antibody can include all variables needed to solve the model. It should be emphasized that previous methods divided the decision variables in more than one antibody; this matter leads to increasing the solving time and decreasing the convergence of algorithm. The Taguchi's tables are available in (http://www2.research.att.com/∼njas)A fitness function is used to assess the affinity of an antibody with the antigens. If an antibody has a high fitness value, its affinity with the antigens will be higher and better objective function value will be gained. In this paper, we define a formula for SNR as follows:SNR=1001Ln(Z)where the Z is equal to the total cost of supply chain. Since the total cost of supply chain is a large number, we use its reverse value in above formulation and this formulation indicates that an antibody with large amount of SNR has a low amount of total cost. The proposed meta-heuristic method generates antibodies which have minimum total cost of supply chain and satisfy the whole constraints of model.Various methods can be applied to implement maturation and we should select the best maturation method considering the model circumstances. In the proposed model we implement the maturation with modifying receptors’ value or changing the location of receptors with the same structure. In maturation care should be made to avoid infeasibility of an antibody. For this matter we replace the value of receptors that have the same structure and function. For example in Fig. 2we cannot change the value of receptors 14–17 to 3 because the manufacturer 3 is closed and its receptor value is equal to zero. But we can change the value of receptors 1–6 and this change does not make the antibody infeasible.After antibodies are produced and the antibodies pool is constructed, we should calculate the fitness of each pool member. Two antibodies from the 50 percent of antibodies that have the higher fitness value are randomly selected as parents to produce one antibody for the next pool. At this stage all combinations of two parents’ receptors are performed based on Taguchi's design of experiments. Fitness value is calculated for each combination. We define Mflto select value of receptors from Taguchi's table:Mfl=Max(fitness|factorfisatlevelL)Tiwari et al. [8] used average cost to estimate the Mfl. The value of each receptor is selected from the level which has maximum Mfl. After antibodies are formed for the next pool, their feasibility must be checked. If an antibody cannot meet the constraints, we should select another two parents and accomplish the selection stage again to make feasible antibodies for the next pool. Since we save all antibodies in a temporary pool, the algorithm does not produce repetitive antibodies. In other words, the advantage of temporary pool is that in each generation we produce non-duplicated antibodies and we can be sure the algorithm searches the whole feasible space. Fig. 3shows the Taguchi's table and the selection method.The Ant 1 and Ant 2 are selected to produce one antibody for the next pool. The total combinations of receptors of two antibodies are performed in 32 experiments according to the Taguchi design for 29 factors in 2 levels. As shown in Fig. 3, the number 1 in each cell indicates that the value for the cell is provided from Ant 1 otherwise we use the value of Ant 2 for the cell. We calculate the fitness value for these 32 experiments and calculate the Mflfor each level in factors; according to the Mflwe select the value of receptors. Then, the feasibility of produced antibody is checked. If antibodies cannot fulfill the constraints, the value of feasibility will be false and we should repeat the selection stage again to gain feasible antibodies and form the next pool. It should be noted that previous works did not check the feasibility of antibodies because they did not consider the capacity constraints. In Fig. 3 the antibody “result” is not feasible and the feasibility value is false.

@&#CONCLUSIONS@&#
