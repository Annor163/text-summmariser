@&#MAIN-TITLE@&#
Constrained, mixed-integer and multi-objective optimisation of building designs by NSGA-II with fitness approximation

@&#HIGHLIGHTS@&#
A surrogate based on radial basis function networks is adapted for mixed-type variables, multiple objectives and constraints and integrated into NSGA-II.A deterministic method to include infeasible solutions in the population is proposed.Variants of NSGA-II including these changes are applied to a typical building optimisation problem, with improvements in solution quality and convergence speed.Analysis of the constraint handling and fitness landscape of the problem is also conducted.

@&#KEYPHRASES@&#
Simulation-based optimisation,Multi-objective,Constraints,Surrogate,NSGA-II,

@&#ABSTRACT@&#
Reducing building energy demand is a crucial part of the global response to climate change, and evolutionary algorithms (EAs) coupled to building performance simulation (BPS) are an increasingly popular tool for this task. Further uptake of EAs in this industry is hindered by BPS being computationally intensive: optimisation runs taking days or longer are impractical in a time-competitive environment. Surrogate fitness models are a possible solution to this problem, but few approaches have been demonstrated for multi-objective, constrained or discrete problems, typical of the optimisation problems in building design. This paper presents a modified version of a surrogate based on radial basis function networks, combined with a deterministic scheme to deal with approximation error in the constraints by allowing some infeasible solutions in the population. Different combinations of these are integrated with Non-Dominated Sorting Genetic Algorithm II (NSGA-II) and applied to three instances of a typical building optimisation problem. The comparisons show that the surrogate and constraint handling combined offer improved run-time and final solution quality. The paper concludes with detailed investigations of the constraint handling and fitness landscape to explain differences in performance.

@&#INTRODUCTION@&#
The building and construction industry is one which offers large potential for reduced environmental impact and improved sustainability. Buildings are a large contributor to world carbon emissions, particularly due to their heating, cooling and lighting energy demands (for example, over 50% of UK carbon emissions are related to building energy consumption [1]). Usual practice, driven by expectation and building function, is for each individual building to be designed afresh, losing the benefit of mass-production where a single optimisation process applies to thousands or millions of units. This means that improvements in the building design process to aid designers in reducing building carbon emissions are an important area of research. Computer-based optimisation methods are of rapidly-increasing importance in this area.Several characteristics of building energy optimisation present a challenge. Each specific problem has a large decision space, with a mixture of continuous and discrete variables determining varied aspects of a building's design. Typically there are multiple conflicting objectives and constraints: reducing energy demand conflicts with reducing the building's capital cost, and both conflict with increasing the comfort of the building's occupants. These factors motivate the use of evolutionary algorithms (EAs), successfully applied to a number of applications in this domain [2], including: heating, ventilating, and air conditioning (HVAC) system sizing [3]; fenestration [4]; building envelope [5,6]; and building form [7,8]. Further to the issues above, the building performance simulations (BPS) used to estimate energy consumption, occupant comfort and factors affecting capital cost are time-consuming, taking minutes to hours depending on building complexity and the modelling accuracy required. This limits the practicality of EAs for real-world use in this domain; a highly competitive industry where submission of design solutions are usually time-critical and optimisation runs must be completed over a night or weekend.There are many approaches to improving the run-time of EAs: parallelisation [9], reducing simulation complexity, and fitness approximation methods such as surrogates [11]. Parallelisation of fitness evaluations is easily adopted and can be applied alongside the latter methods, for a multiplicative speed gain. Reducing the simulation complexity requires problem-specific knowledge, and has the negative impact of less accurate simulation results possibly leading the EA to false optima. Surrogate fitness approximation, where some solutions (including the final returned optima) are evaluated by the full simulation while others are evaluated by a much cheaper model offers potential to improve run times without losing accuracy. There are, however, a limited number of works featuring surrogates for problems with discrete decision spaces, and still fewer looking at problems with constraints or multiple objectives. This has led to minimal adoption of surrogates in building optimisation, where the problems often exhibit these characteristics. The need for greater efficiency of EAs for building optimisation motivates further research into surrogates that can simultaneously handle constraints, multiple objectives and discrete or mixed variable types. If successful, such surrogates will improve the practicability of EAs for this application area.Given the above points, this paper explores the use of radial basis function networks (RBFN) to reduce the number of calls to the full building performance simulation, by approximating objective and constraint values. Several contributions are made. The first is that an existing approach [12] is adapted for multi-objective and constrained problems, with a change to the way that categorical variables are handled. A separate RBFN for each constraint and objective allows for retraining on each independently. The paper's second contribution is Deterministic Infeasibility Sorting (DIS), a scheme where infeasible solutions are retained in the population to deal with two issues. One issue is that estimation of constraints is difficult because an approximation error can mean that the algorithm discards feasible solutions that are in truth feasible: particularly problematic with many constraints. The second issue is that approximation errors can also affect the dominance relationship between solutions in multi-objective problems. The paper's third contribution is the comparison of several possible approaches to integrating the surrogate and DIS within Non-Dominated Sorting Genetic Algorithm II (NSGA-II) [13]. Several variants of NSGA-II are applied to three versions of a mixed-integer, constrained, multi-objective building optimisation problem. Comparisons are made in both the quality of the final solution sets and convergence speed. It is found that the best performing NSGA-II variant offers a performance improvement for two of the three problems (with no significant difference on the third). The final contributions are a detailed analysis of the constraint handling, to allow greater understanding of the impact of the techniques, and a study of the problem's fitness landscape to aid analysis of the results.The rest of the paper is structured as follows. Section 2 describes related work in this area. Sections 3 and 4 describe the building optimisation problem and the proposed modifications to NSGA-II: the RBFN surrogate; the constraint handling approach; a number of minor changes to improve performance; and the resulting variants of NSGA-II. Section 5 describes and discusses experiments tuning and comparing the algorithm variants. Sections 6 and 7 provide deeper analysis of the constraint handling and fitness landscape, and Section 8 concludes the paper.

@&#CONCLUSIONS@&#
This paper has described a constrained, multi-objective problem, with mixed variable types, from the building design domain. This application area forms a crucial part of the global response to climate change, and given the time-constrained nature of the industry it is important that optimisation approaches are able to find a high-quality solution or set of solutions as quickly as possible. To meet this demand, the paper has proposed several variants of NSGA-II, incorporating RBFN surrogates and an approach to allowing infeasible solutions to remain in the population. These variants were applied to three instances of the building problem (using different locations for the building weather data). Optimisation runs were limited to a budget of 5000 function evaluations, and compared both on the quality of solutions found (how close the set was to the Pareto-optimal set) and on the rate of convergence relative to plain NSGA-II.The paper has made a number of contributions. It has proposed using a separate RBFN surrogate for each constraint and objective to allow for retraining. To control the retraining the Fitness Prediction Correlation (FPC) is used. An existing approach to using RBFNs as surrogates has been modified using the Hamming weighting and k-medoid clustering, to better accommodate categorical variables. Deterministic Infeasibility Sorting (DIS), a method for including infeasible solutions in the population, has been proposed, and also used to mitigate surrogate approximation errors. It was found that the optimal configuration for this problem was NSGA-II-Sd: NSGA-II, with the surrogate, and DIS applied at the filtering step. This reliably found better sets of solutions than NSGA-II, more quickly, for two of the building problem instances. None of the algorithms showed much difference in performance for the third (easier) problem instance. The paper has also explored in more detail the effect on optimisation of the constraint handling approach and the Hamming weighting, and explored the landscape of the fitness functions to add context to the optimisation results.There remain some open areas for future work to expand on that described here. Aside from the obvious routes of exploring more applications or alternative algorithms to NSGA-II, one area which will be more difficult to consider is adapting the surrogate based algorithm to cope with equality constraints. There are very few examples of this in the literature, one exception being [58]. It would be interesting to explore further the frequency with which model building for each of the objectives and constraints recurs and either use this to switch to different surrogate model types or to weight the constraints at the surrogate filtering stage to help mitigate for approximation error.