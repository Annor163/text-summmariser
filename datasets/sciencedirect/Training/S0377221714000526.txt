@&#MAIN-TITLE@&#
Exact and approximation methods for dependability assessment of tram systems with time window

@&#HIGHLIGHTS@&#
Analyzed reliability of a tram system with redundancy and time resource.Examined hazard probability and mean hazard time of the system.Found accurate solution when one of variables conforms to the Weibull distribution.Close approximations for cases when two variables have Weibull distributions.Good progress in estimations of Weibull-only systems proved.

@&#KEYPHRASES@&#
Dependability,Time window,Exact method,Estimation,

@&#ABSTRACT@&#
The transportation system examined in this paper is the city tram one, where failed trams are replaced by reliable spare ones. If failed tram is repaired and delivered, then it comes back on work. There is the time window that failed tram has to be either replaced (exchanged) by spare or by repaired and delivered within. Time window is therefore paramount to user perception of transport system unreliability. Time between two subsequent failures, exchange time, and repair together with delivery time, respectively, are described by random variables A, E, and D. A/E/D is selected as the notation for these random variables. There is a finite number of spare trams. Delivery time does not depend on the number of repair facilities. Hence, repair and delivery process can be treated as one with infinite number of facilities. Undesirable event called hazard is the event: neither the replacement nor the delivery has been completed in the time window. The goal of the paper is to find the following relationships: hazard probability of the tram system and mean hazard time as functions of number of spare trams. For systems with exponential time between failures, Weibull exchange and exponential delivery (so M/W/M in the proposed notation) two accurate solutions have been found. For systems with Weibull time between failures with shape in the range from 0.9 to 1.1, Weibull exchange and exponential delivery (i.e. W/W/M) a method yielding small errors has been provided. For the most general and difficult case in which all the random variables conform to Weibull distribution (W/W/W) a method returning moderate errors has been given.

@&#INTRODUCTION@&#
The paper is focused on problem of system dependability. As we know, in system engineering, dependability is a measure of a system’s availability, reliability, and its maintenance support. According to standard (IEC 60050-191, 1990, chap. 191): “dependability is the collective term used to describe the availability performance and its influencing factors: reliability performance, maintainability performance and maintenance support performance”. Performance of transportation system is assessed from the point of view of the client/passenger. The customer requirements are in logistic theory defined by 7 R’s (Ballou, 2004); the most important parameter is right time of delivery/execution of transport service. And if any failure occurs in a system, we may have time to make a corrective maintenance. Thus, the paper is focused on the approach of delay time maintenance methods and models.Transportation system is a system in which material objects are moved in time and space. Thus, the function of transportation is to execute the movement of people and goods from one place to another in a safe and efficient way with minimum negative impact on the environment (Fricker & Whitford, 2004).According to (Fricker & Whitford, 2004; Kutz, 2004), the transportation system is very complex with different functional characteristics depending on medium of movement, particular technology used and demand for movement in the particular medium. Aspects of these modes are e.g. vehicle, the way, control of the system, the technology of motion, intermodal transfer points, payload, drivers and pilots.Each particular mode has a set of functional and operational characteristics. Thus, modelling a transportation system is mostly focused on identification of a structure and characteristics of structure elements (Ambroziak & Pyza, 2008). Moreover, any technical system (also transportation system) in order to successfully accomplish its intended mission must rely on effective logistic support that will be available when required. When logistic activity is narrowed down to the supply activity, we can say that the basic elements are focused on providing the necessary supplies (especially spare parts) and services on the proper time for the right money to provide the means to obtain a set of operational requirements. Thus, reliability/dependability modelling process of transportation system performance needs the existence of various problems connected with e.g. possible vehicle/spare parts unreliability recognizing and analyzing.The transportation modelling problems or transportation systems dependability/maintenance issues have gained much interest since 1980s (Młyńczak, Nowakowski, Restel, & Werbińska-Wojciechowska, 2010). The basic review in the area of maintenance modelling is prepared by Pierskalla and Voelker (1976), where authors investigated discrete time vs. continuous time maintenance models, later updated by Valdez-Flores and Feldman (1989). For other surveys see e.g. (Cho & Parlar, 1991; Nakagawa, 1984; Nicolai & Dekker, 2006; Pham & Wang, 1996; Sherif, 1982; Wang, 2002).Problem analyzed in the paper is as follows. In the city tram transportation system, failed trams are replaced by reliable spare ones. If failed tram is repaired and delivered, then it comes back on work. There is the time window that failed tram has to be either replaced (exchanged) by spare or repaired and delivered within. Time window is therefore paramount to user perception of transport system unreliability. Time between two subsequent failures, exchange time, and repair together with delivery time, respectively, are described by random variables A, E, and D. A/E/D is selected as the notation for tram system model. There is a finite number of spare trams. Delivery time does not depend on the number of repair facilities. Hence, repair and delivery process can be treated as one with infinite number of facilities. Undesirable event called hazard is the event: neither the replacement nor the repair has been completed in the time window. The goal of the paper is to find the following relationships: hazard probability of the tram system and mean hazard time as functions of number of spare trams when at least one random variable from the A, E, and D is not exponential.Similar approach as presented in the paper can be applied for tram system models when repair and delivery process is executed by finite amount of repair facilities (repair teams). Such generalizations are presented in Section 8.2.These relationships are relatively easy to find while assuming exponential distributions of analyzed random variables. But many years of experience on the field of means of transport reliability testing (Jodejko-Pietruczuk & Molecki, 2008; Nowakowski, 1999) shows inadequacy of that assumptions (Table 1shows estimated intervals of Weibull distribution parameters of the variables).Range of values for parameters in Table 1 covers values obtained from an observation of a real tram system sample that consists of different vehicles according to operation period and mark. When evaluating an estimation accuracy, one need to test range of parameter values instead of one combination of these values. It is worth to mention that shape coefficient of time between failure random variable is close to 1. Hence, it is neither distinctly “infant mortality” nor “aging” process.In the reliability theory, the two approaches have evolved from performing maintenance tasks. First, there are known models in which a system or its components fail and there are no visible symptoms about the forthcoming failure (assuming that it is a sudden failure). The majority of the maintenance modelling concepts, being discussed in the literature since the early 1960s, regards to this kind of a problem investigation. In this area, there can be found literature on analytical models development which investigates maintenance policy parameters, spare parts provision and service station (Werbińska, 2008). However, the number of solutions is scarce. It is connected with the necessity of system structural parameters (like redundancy, maintenance capability) and decision variables (like spare parts level, preventive maintenance strategy parameters, service station organization tasks) integration, what is the mathematically difficult issue to solve (De Smidt-Destombes, van der Heijden, & van Harten, 2004). Thus, most of the known analytical models are based on the simplified assumptions which limited their practical use in real-life technical systems modelling. The fundamental methods used in this area encompass queuing theory implementation (see e.g. (Gross & Pinkus, 1979; Mokhles & Saleh, 1988; Subramanian & Natarajan, 1982)) or simulation methods use (see e.g. (De Smidt-Destombes et al., 2004, De Smidt-Destombes, van der Heijden, & van Harten, 2006, 2007)).Table 2summarises the state of art of queuing models of technical systems with repair facilities based on Kendal’s notation. Meaning of symbols in system description in Table 2 is different than in A/E/D tram system model notation.The second approach involves modelling problems of systems/its components, when assuming that failure is not a sudden one. In this approach, before a component breaks down, there will be some sings of reduced performance or abnormalities. The time between the first identification of abnormalities (called initial point) and the actual failure time (failure point) will vary depending on the deterioration rate of the component. This time period is called a delay time to carry out maintenance or an inspection (Pillay, Wang, & Wall, 2001), and the modelling concept is called a delay-time modelling approach. This concept, which provides useful means of modelling the effect of periodic inspections on the failure rate of repairable technical systems, was developed by Christer et al., see e.g. (Christer, 1987, 1982; Christer & Waller, 1984a, 1984b; Christer & Whitelaw, 1983).The described above analytic approaches are not sufficient to find relationships: hazard probability of the tram system and mean hazard time as functions of number of spare trams when at least one random variable from the A, E, and D is not exponential.In the paper, exact solutions and estimations of the hazard probability of the tram system and mean hazard time as functions of number of spare trams are presented. For M/W/M tram system models, where M denotes that time between two subsequent failures and delivery time are described by exponential random variables, while W means Weibull random variable of exchange time, exact solutions have been obtained. The first is hypo-exponential distribution based one, while the second is order statistics based. These solutions are for models with infinite and finite amount of repair facilities. As regards the W/W/W model, where all three distributions are Weibull, accuracies of two estimations have been verified using simulation experiments. The first one was based upon the order statistics solution for the M/W/M model, and the other one, which is conditional probability distribution based, was dedicated to W/W/W models.Structure of the paper is as follows. In Section 2, there are general formulae for hazard probability and mean hazard time for tram system with infinite amount of repair facilities. They are common for both exact solutions for M/W/M tram system model (hence, M/M/M model too) and estimations for W/W/M and W/W/W models. In next section, two exact solutions for M/W/M models are given. In Sections 4 and 5 there are estimations for W/W/M and W/W/W models. Then the comparison of our approach and balance equation method is presented. In Section 7, accuracy and computational complexity of exact solutions and estimations are given. Next, generalizations with emphasis put on tram system models with finite amount of repair facilities (including two optimization problems) are presented. Finally, there are conclusions.Symbols used in this paper are as follows:RVstands for ‘random variable’,Pris the probability function,fX, FXprobability density and cumulative distribution functions of RV X (pdf and cdf) respectively,nnumber of spare trams,A/E/DRVs A, E, and D denote failure, exchange, and delivery (repair time together with the time necessary to put the tram back on its route) times respectively,C0a RV signifies the time period a failed tram awaits a spare one,Ca RV signifies the time period a failed tram awaits a spare one under the assumption that no spare has been available when the tram failed,TRa constant: time window,Hthe hazard event for some regular tram, i.e. the tram has been neither exchanged, nor delivered in the time window,FTRV expressing tram failure time until exchanged or delivered, so FT=min(C+E, D), accordingly, E(FT∣H)−TR defines the mean hazard time,AV⧹NAevents meaning that a spare tram is available⧹is not available at the moment a regular tram fails, notably: Pr(NA)+Pr(AV)=1,HShypo-exponential distribution based solution,OSorder statistics based solution.The hazard probability and mean hazard time of a system with time window could be described by the following equations:(1)Pr(H)=Pr(min(C0+E,D)>TR)(2)E(HT)=E(min(C0+E,D)|min(C0+E,D)>TR)The stumbling block for their evaluation, however, is the missing C0 random variable – the spare awaiting time, so another solution must be investigated.As a matter of fact, the hazard event occurs when a tram is neither exchanged, nor delivered within time window. Hence the hazard probability is:(3)Pr(H)=Pr(FT>TR)=Pr(H|AV)Pr(AV)+Pr(H|NA)Pr(NA)The first part is associated with cases when a spare tram is accessible, while the second with cases when all spare trams are busy.In our approach, failure and repair-delivery process is analyzed as queue one. In Kendall queuing system notation T/X/C/K/P/Z, the meaning of symbols is as follows:T – probability distribution of inter-arrival times,X – probability distribution of service times,C – number of servers,K – queue capacity,P – size of the population,Z – service discipline.In models presented in the paper, time between failures is expressed by random variable A with constant mean value. It means that failure process is treated as caused by infinite population. First, delivery expressed by RV D does not depend on the number of repair facilities (servers). Hence, the repair and delivery process can be treated as one with infinite number of facilities. Second, the generalization onto the case with finite the number of repair facilities is considered.Because there is no limit imposed on the number of waiting trams (queue capacity), population size is treated as infinite, and service discipline is FIFO, so according to Kendall notation, symbols K, P, Z are omitted, i.e. T/X/C symbol is used. For A/E/D tram system model, in derived T/X/C queue, T represents type of RV A, while X – type of RV D.In the most general case, according to the Kendall’s queuing notation it is G/G/∞ with general inter-arrival (between two subsequent failures) and service (repair and delivery) times. In the paper the queuing model M/G/∞ (Konig & Stoyan, 1976) will be used because it represents the most general system with infinite number of service stations, for which the analytical solution has been found up to date.It is worth rationalizing at this point why the number of facilities in the selected queue model is assumed to be infinity, despite the fact there are n spare trams in the system. If the M/G/n queue model was used, so the one with a limited number of facilities, then all the failed trams at positions above n would await the servicing before leaving the queue, which renders the model faulty, since a tram may be put back into action without being exchanged by a spare. Indeed, following the assumption that all the failed trams are delivered simultaneously independently on how many of them exist, accounts for the M/G/∞ queue model.The probability Pr(NA) that all n spare trams are occupied at the instant when some regular tram fails, i.e. all are exchanging another failed trams or already working on their behalf is equal to the probability that at least n repair and delivery processes are executed. The solution for M/G/∞ queue model does not depend on the type of service time distribution, and hence may as well be applied when delivery time is exponential or Weibull. It means that e.g. solution for M/M/∞ queue model is the same as for M/G/∞ one. On the other hand however, the solution assumes exponential time between failures, which therefore needs to be approximated likewise if this is not the case in the system. To this end we introduce an exponential RV A′ satisfying the property:E(A′)=E(A)The load factor is therefore calculated according to the formula:(4)ρ=E(D)E(A′)=E(D)E(A)Then, the probability that in stationary state there are k failed regular trams is (Konig & Stoyan, 1976):(5)Pk=ρkk!e-ρFor M/W/M tram system model, the M/M/∞ queue model is used in calculations. This queue model is a case of M/G/∞. Hence, for the M/W/M tram system model, formula (5) is used.Hence, for n spare trams, the probability that no spare is accessible is:(6)Pr(NA)=∑k=n∞Pkalso:(7)Pr(AV)=1-Pr(NA)Since the mean hazard time metric is conditional upon the hazard, it must take into consideration the interdependence between hazard (H) and spare tram availability (NA, AV) events.For that matter, application of the law of total probability for conditional random variables is the starting point for finding the mean hazard time:(8)E(HT)=E(FT|H)-TR=E(FT|H∩AV)Pr(AV|H)+E(FT|H∩NA)Pr(NA|H)-TRActually, it is more natural to calculate the probabilities of H∣AV and H∣NA rather than the other way around. So, by allowing the Bayes’ theorem, the equation is transformed:(9)E(HT)=E(FT|AV∩H)Pr(H|AV)Pr(AV)Pr(H)+E(FT|NA∩H)Pr(H|NA)Pr(NA)Pr(H)-TRThe required by Pr(H), E(HT) values may be calculated as explained below.If a spare tram is available then waiting is not necessary, so the hazard must be due to excessively long exchange or delivery process, so:(10)spareisavailable→C=0→Pr(H|AV)=Pr(min(E,D)>TR)The cumulative distribution function of the RV resulting from the min function satisfies the property:(11)Fmin(E,D)(x)=FE(x)+FD(x)-FE(x)FD(x)So, by following the definition of a cumulative distribution function:(12)Pr(H|AV)=1-Fmin(E,D)(TR)Similarly, accurate value of the mean hazard time when a spare is available may be obtained:(13)spareisavailable→C=0→E(FT|H∩AV)=E(min(E,D)|min(E,D)>TR)(14)E(FT|H∩AV)=∫TR+∞tfmin(E,D)(t)dt1-Fmin(E,D)(TR)(15)fmin(E,D)(x)=ddxFmin(E,D)(x)On the other hand, when no spare is at disposal, the hazard takes place when neither exchange nor delivery succeeds within the time window, so:(16)spareisnotavailable→Pr(H|NA)=Pr(min(C+E,D)>TR)Methods to find hazard probability and mean hazard time are described in next sections.Before calculating the min function, the convolution of C and E must be found:(17)fC+E(x)=∫0xfC(τ)fE(x-τ)dτTo avoid high computational complexity, the convolution is calculated in the domain of complex numbers. Therefore, first, every RV is represented discretely by real number sequence according to the following scheme (exemplified on the Weibull RV E):(18)fE(x)=λEkE(xλE)k-1e-(xλE)k(19)eq=λEkEqRQλEk-1exp-qRQλEkIn the equations above Q is the number of input distribution samples, whereas R denotes the range of sampling and is calculated depending on C and ε symbolizing the maximum integration error:(20)∫R∞fC(x)dx<εThe reason for choosing C to determine R is because this variable’s tail is the heaviest of all considered. It is now necessary to employ Fast Fourier Transform (FFT) to both C and E variables to translate them into the complex number domain, which is realized by means of the Cooley–Tukey algorithm (Cooley & Tukey, 1965). Let C(i) and E(i) denote their complex numbers sequences after the transform:(21)C(k)=∑q=0Q-1cqexp-i2πkqQ(22)E(k)=∑q=0Q-1eqexp-i2πkqQThe cqand eqare symbols of numerical representations of C and E variables in the real number domain as given before for RV E.As a result, the convolution can be found using multiplication:(23)EC(k)=E(k)C(k)The final density of variable C+E is obtained using the inverse transform:(24)fC+E(k)=1Q∑q=0Q-1EC(q)expi2πkqQ(25)FC+E(k)=RQ∑1kfC+E(k)Having assumed that K represents the sample of TR:(26)K=TRRQBy drawing the Kth sample of the distribution: min(C+E, D) it is finally possible to find the probability:(27)Pr(H|NA)=1-Fmin(C+E,D)(K)Consequently, the E(FT∣H∩NA) value, which denotes the mean hazard time when there is no spare, requires following computations:(28)spareisnotavailable→E(FT|H∩NA)=E(min(C+E,D)|min(C+E,D)>TR)(29)E(FT|H∩NA)=∫TR+∞tfmin(C+E,D)(t)dt1-Fmin(C+E,D)(TR)All in all, it is the estimation of C variable that constitutes the greatest challenge. Two approaches will be discussed in the next two subsections. The first one is based upon hypo-exponential distribution and the other one relying on order statistics.A model with exponential time between failures, exponential exchange, and exponential delivery, which is a subcase of M/W/M model, is introduced only for reasons of comparison and is largely based upon the aforementioned M/W/M. Indeed, to relate experimental results to M/M/M one needs to substitute the Weibull distribution from M/W/M with an exponential one. If E′ is the Weibull based exchange in M/W/M and E is exponential in M/M/M it should hold that:(30)E(E′)=E(E)RV C is calculated under the requirement: delivery time is described by exponential RV D with mean E(D), i.e. the parameter λ of the D is 1/E(D). The RV C is computed using hypo-exponential distribution as it will be shown now. Applying the hypo-exponential distribution is inspired by paper (Magott & Skudlarski, 1993). There it has been shown that estimation of completion time of PERT network with exponentially distributed activity durations is much more exact when using hypo-exponential distribution than exponential one.When all spare trams are busy, then next failed tram will be replaced by a spare one or by the same failed tram delivered after its repair. Let us consider a failure which occurs when j regular trams are failed where n⩽j, i.e. the failed tram occupies position no. (j+1) in the failed tram queue. One of the following events occurs as the first: the failed tram is replaced by a spare, this tram is delivered after its repair. In the first case, the failed tram has to wait for a spare one during the interval when j−n+1 subsequent delivery processes will be completed. When the failed tram is at (j+1)th position, it moves at jth position when one from the j failed trams before it will be delivered. The reason is as follows: both failed trams that have been exchanged and the trams waiting for the exchange have to be taken into account. A spare tram is occupied throughout a delivery, first it is exchanged, and then it is working until delivery instant. The length of the interval when the failed tram moves from (j+1)th position to jth is given by exponential RV with rate j/E(D). Next time interval when the failed tram moves at (j−1)th position is exponential RV with rate (j−1)/E(D). Hence, it will get access to a spare tram after time given by hypo-exponential distribution with the following sequence of parameters of stages: j/E(D), (j−1)/E(D),…,n/E(D).Let Hs(λ1,λ2,…,λs) denote s-stage hypo-exponential distribution with rates λ1,λ2,…,λsof its stages. The ith stage is the exponential RV Xiwith parameter λi. The hypo-exponential RV isHs(λ1,λ2,…,λs)=∑i=1sXiThe following condition has to be satisfied: (∀i, j∈{1,…,s})(i≠j⇒λi≠λj), i.e. parameters of different stages cannot be equal. The pdf of hypo-exponential RV is:(31)fHs(x)=∑i=1sλie-λix∏j,j≠isλjλj-λiThe hypo-exponential distribution with the following sequence of parameters of stages:(32)j/E(D),(j-1)/E(D),…,n/E(D)isdenotedbyHj-n+1jE(D),j-1E(D),…,nE(D)The condition of pair wise different parameters of the stages is satisfied.For alln≤j, it is obtained:(33)C=∑j=n∞Hj-n+1jE(D),j-1E(D),…,nE(D)Pjwhere the Pjprobabilities are derived from the M/M/∞ queue model:(34)Pj=ρjj!e-ρThe activity diagram of algorithm for calculating the hazard probability and mean hazard time of the tram system using the HS solution is given in Fig. 1.Alternative approach is such that the probability distribution of time interval when the failed tram has to wait for a spare one is calculated using order statistics for exponentially distributed RVs.Let X1,X2,…,Xmbe a random sample drawn from exponential distribution with cumulative distribution function Fx(x)=1−e−λxand pdf fX(x). The first order statistic is X(1)=min{X1,X2,…,Xm}. The mth order statistic is X(m)=max{X1,X2,…,Xm}. The pdf of kth order statistic is expressed by:(35)fX(k)(x)=m!(k-1)!(m-k)!FX(x)k-1(1-FX(x))m-kfX(x)Length of time interval when the failed tram has to wait for a spare one is given by (j−n+1)th order statistic for exponentially distributed RV with parameter λd=1/E(D), i.e.FD(d)=1-e-λdd. Hence, pdf of this time interval is given by:(36)fD(j-n+1)(d)=j!(j-n)!(n-1)!FD(d)j-n(1-FD(d))n-1fD(d)The above formula is pdf of the RV: D(j−n+1).Hence, time instant when the failed tram is replaced by a spare or this tramway is delivered after its repair before its exchange would be completed is expressed by:(37)C=∑j=n∞D(j-n+1)PjThe activity diagram of algorithm for calculating the hazard probability and mean hazard time of the M/W/M tram system model using the OS solution is similar to that from Fig. 1. Instead of Eqs. (32) and (33) in HS algorithm, Eqs. (36) and (37) should be in OS algorithm.Exact solution OS for M/W/M model is used as the estimation for W/W/M model. The OS is more effective than HS what will be shown in Section 6. For the W/W/M model the following M/W/M model is created. Let E(A) be mean value of time between two subsequent failures of the W/W/W model. RVs of time between two subsequent failures A′ of the M/W/M model is exponential random variables such that E(A′)=E(A).Qualities of two estimations are analyzed. The first one is based upon hypo exponential solution for the M/W/M model and the other one is dedicated to W/W/W models.For the W/W/W model the following M/W/M model is created. Let E(A) and E(D), respectively, be mean values of time between two subsequent failures and delivery time of the W/W/W model. RVs of time between two subsequent failures A′ and delivery time D′ of the M/W/M model are exponential random variables such that E(A′)=E(A), E(D′)=E(D). The M/W/M model is solved by the more effective OS based solution.In the estimation for W/W/W model, the probability Pr(NA) that all spare trams are occupied is calculated in the following way. We use M/G/∞ queuing model because the model GI/G/∞ with general independent inter-arrival time (GI) has not yet been solved exactly. The service time is represented exactly, i.e. by Weibull’s RV D, but inter-arrival time random variable A which is Weibull’s one is approximated by exponential distribution A′ with the same expected value. The load factor is calculated following the formula:(38)ρ=E(D)E(A′)=E(D)E(A)=λDΓ1+1kDλAΓ1+1kAThe k and λ symbols are shape and scale parameters of Weibull distributions describing time between failures (A) and delivery time (D), while Γ stands for the Gamma function.The probability that in stationary state there are i failed regular trams is (Konig & Stoyan, 1976):(39)Pk=ρkk!e-ρLet us recall the point of Section 3.2. While estimating time interval when a failed tram moves from (j+1)th position, where n⩽j, to jth position, delivery time was described by exponential RV. If shape coefficient of Weibull’s RV D is significantly greater than 1 then the memorylessness property of exponential RV is a weak feature. Mean time between two subsequent failures is E(A). Let a failure occurred in instant t. In this estimation it is supposed that previous failure occurred in instant t−E(A), the earlier failure in t−2·E(A), etc., until t−j·E(A) for the first failed tram in the queue. Let fD(d) be pdf of Weibull’s RV D. Let D∣a denote RV D provided time a has elapsed. Conditional pdf of D∣a is given by:(40)fD|a(d)=0,d⩽0fD(a+d)∫a∞fD(d)dx,0<dThe time a tram moves in the queue relies on two queue parameters. The upper F index in the formula below denotes the initial queue size when the tram failed, the lower symbolizes its current place after some deliveries. Accordingly, the time to move from the end of the queue, so from the (j+1)th position, to the one but last place, so the jth position, is given by:(41)Fj(j)=min{D|E(A),D|2E(A),…,D|(j-1)E(A),D|jE(A)}The mean value of this length isEFj(j). Hence, the length of the interval when the failed tram moves again one place ahead, so from jth position to (j−1)th position, is approximated by:(42)Fj-1(j)=minD|E(A)+EFj(j),…,D|(j-1)E(A)+EFj(j)Let us compare the above two expressions. The approximating idea is that out of two trams in the queue, the tram staying longer should be delivered sooner.Generally, the length of the interval when the failed tram moves from the (i+1)th position to ith, when there was j failed trams before joining the queue, is approximated by:(43)Fi(j)=minDE(A)+∑k=ji+1EFk(j),…,DiE(A)+∑k=ji+1EFk(j)All in all, the formula for C is as follows:(44)C=∑j=n∞Pj∑i=jnFi(j)The first sum investigates probabilities of cases that the failed tram joined the queue at (j+1)th position. The nested sum iterates from the queue end down to the nth position, which is the last one with no spare.Although the method is originally meant for W/W/W models, it is worth noting that it also provides accurate results for M/W/M models. Indeed, by allowing the exponential delivery one could reduce the conditionality of random variables in the equationsFi(j)on the grounds of the memorylessness property, which would effectively turn the estimation into the hypo-exponential solution.We want to compare computational complexity of our solution method with Markov process based one. Comparison will be made in the sense of computational complexity as a function of dimensions of the problem.First, the M/M/M and M/W/M tram system models will be studied, then the W/W/W ones.The main result of our paper are two exact solutions, namely HS and OS, for M/W/M model. These solutions can be applied to M/M/M model too. We will try to show that our method is more effective than Chapman–Kolmogorov equilibrium equations method.For all considered tram system models, in associated queue model, population size is infinite. Now in computational complexity analysis, we suppose that the population is finite. It consequently implies that transition diagram is finite and summation in expressions (33) and (37) is finite as well. Finite population is reflected by finite number of regular trams.Dimensions of the problem are as follows:r – number of regular trams,n – number of spare trams.For tram system the following is true: n≪r.Let us consider the HS solution. Computational complexity of s-stage hypo-exponential RV pdf calculation is O(s2), see expression (31). According to expression (32), if there is at least one spare tram then maximal number of stages of hypo-exponential distribution is r. Hence, computational complexity of procedure for calculating pdf of the RV C according to expression (33) is O(r3). In Fig. 1 there is no action with greater computational complexity.Now, let us analyze the OS solution. Computational complexity of procedure for expression (36) is O(r) and for expression (37) is O(r2).Shape of transition intensity diagram of Markov process for M/M/M model is given in Fig. 2.In the ordered pair 〈j, i〉 of notation for state:j – number of failed regular trams,i – number of completed exchange processes.Internal part of this diagram for 0<i<n and n<j<r is illustrated in Fig. 3.For M/M/M tram system model, RVs A, E, D are exponential with parameters r_a, r_e, r_d.In Fig. 3, events and transitions associated with them are as follows:Failure of tram – j, i→j+1, i and j−1, i→j, i.Exchange of tram whose exchange has not been completed earlier – j, i→j, i+1 and j, i−1→j, i.Delivery of tram whose exchange has been completed – j+1, i+1→j, i and j, i→j−1, i−1.Delivery of tram whose exchange has not yet been completed – j+1, i→j, i and j, i→j−1, i.Hence, approximate number of transition intensity diagram states is n*r.When finding steady-state solutions of Markov process, one need to build system of s linear local equilibrium equations, where s is the number of states of the process. Computational complexity of the most effective algorithms for linear equation system of rank s is O(s2.71). Therefore, computational complexity of the algorithm for the process is O(n2.71*r2.71). However, it is the first step in a computation process.Hence, our approach is more effective in the sense of computational complexity as a function of dimensions of the problem.In order to apply the local equilibrium equations method for the M/W/M model, one need to approximate RV E by phase-type distributions. At least two phases are required. Hence, in this case, our approach is more effective too.For W/W/W model, the greatest approximation errors are caused by shape coefficient of RV D when it is significantly greater than 1, e.g. 1.5 (see Fig. 9). The other approach could be based on the local equilibrium equations method using approximation of Weibull’s distribution by mixtures of exponentials. When shape coefficient of Weibull’s distribution is smaller than 1 then results from paper (Feldmann & Whitt, 1998) can be applied. When shape coefficient of Weibull’s distribution is greater than 1 then achievements from paper (Elmaghraby, Benmansour, Artiba, & Allaoui, 2010) can be taken into account. In the last paper, hypo-exponential distribution that is called generalized Erlang’s one too is considered as approximating one. However, it increases the state space because for our real life system observation, e.g. according to (Elmaghraby et al., 2010), two phase approximation cannot be applied, and three phases are required. For more than half of our experimental results for real life system, three phase approximation is required. Maybe the accuracy of the local equilibrium equations method based on mixture of exponential approximation of Weibull’s distribution would give more exact solution. However, it is not considered as it would increase the paper significantly.Four problems were challenged by the numerical experiment:1.to verify that the estimations given in Sections 3.2 and 3.3 indeed yield accurate results for both metrics of M/W/M tram system model,to provide actual estimation errors for the field dependability data collected in the Wroclaw city (Jodejko-Pietruczuk & Molecki, 2008),to assess robustness of the OS method for W/W/M model with Weibull RV of inter-failure time with shape in interval from 0.9 to 1.1,to assess robustness of the estimations for W/W/W model by allowing different shapes of the Weibull distributions.In all three cases estimation results were compared against dependability metrics from two independent simulators. The first one is generated by a generic transformation from a dependability model described in (Kowalski & Magott, 2012) into C++ code. The dependability model has been expressed in Reliability Enhanced Activity Diagrams (READ) (Kowalski & Magott, 2011) that are an UML profile for maintenance process and reliability analysis. READ language is built upon UML activity diagrams (OMG), fault trees with time dependencies (Górski & Wardziński, 1995, Magott & Skrobanek, 2012, 2002), and probabilistic fault trees with time dependencies (Babczyński, Łukowicz, & Magott, 2010). The other one was developed specifically for the tram system in question, but still realizes behavior expressed by the model. The two are used in parallel to mitigate the risk of coding error, and convergence of their results had been a prerequisite before experiment was carried out.Moreover, there was also a redundancy introduced into the M/W/M solution and W/W/W estimation algorithms to address higher correctness confidence. Both methods had been implemented in numerical and simulative approaches and their results were each time checked for conformity.As regards the first estimation, the method based on hypo exponential distributions was used along with the approach based on order statistics, which allowed furthering increasing the computational confidence level. In all cases, the two implementations produced the same results.As assumed, time to next tram failure as well as delivery have exponential distributions. In contrast, the shape parameter of the Weibull exchange was set to 1.5, which is far from exponential. All in all, there are two time windows and up to five spare trams, which account for 10 cases presented in Table 3.Computations confirmed that the hypo-exponential estimation produces the same results as the tram system simulation, and these values were typed into the last two columns of Table 3. Therefore, in the case of M/W/M model, the system simulation is rendered obsolete, and accurate results can be provided analytically. Moreover, the expected performance increase may be inferred from Table 4. Whereas both calculation methods, the one based on hypo-exponential distribution and the other involving order statistics are substantially faster than the strongly optimized simulator, the second method yields accurate results in around 0.8second. The reason why the first method is slower is as follows.Although C is best calculated when the length of the tram queue approaches infinity, in practice it is developed until Pjis sufficiently small. Hence, considering that to obtain the hypo-exponential distribution value a number of steps proportional to length2 (Eq. (31)) is necessary, C calculation is proportional to length3. In contrast, as Eq. (36) indicates, because of the power operations in the order statistic requiring length steps, the C in that method requires length2 steps in the end.The same observation explains why computation time is falling when the spare tram number increases in case of hypo-exponential method, which can be observed in rows 1–5 and 6–10. Both methods analyse waiting trams, so the ones at the queue places above the spare tram number. Notably, the queue becomes shorter when the spare pool increases. Although the same effect should appear in the second estimation, the outcome is barely visible in Table 4. It is because the profit is consumed by more complex power operation (Eq. (36)), which is also linearly dependent upon queue depth.Using a registry of tram failures from 2001 given by the public transport operator in Wroclaw it is possible to find the A, E and D RVs of the dependability model and run calculation against it.Detailed analysis of the data proved that creating just one model is insufficient and revealed the necessity to split cases into 4 subgroups. This is due to the following observations:•both road traffic and timetable differ substantially over days of week (the first column of Table 5) and that similarly influences dependability results,in some particular cases of tram failures, but only when technical condition of the failed vehicles allow it, the controller in charge of managing the trams decided to leave the failed tram in action for some minutes more. In these situations the actual exit from service occurred after notification. For other cases exit moments equal notification moments.Both observations considered together yield 4 cases, all of which turned out to be of the W/W/W type, though time to next tram failure is not far from exponential.Although Table 5 has 4 data rows, in the calculations 2 time windows are foreseen along with up to 5 spare trams, which accounts for 40 computation cases total. The final processing outcome is compared with the simulation results in terms of the hazard probability and mean hazard time. Hence, the relative error of the hazard probability for case no. i with n spares and time window equal to tr minutes is defined as:(45)HProb_Erri(n,tr)=MWMHProbi(n,tr)-Sim_HProbi(n,tr)Sim_HProbi(n,tr)∗100%whereSim_HProbi(n, tr) – the hazard probability obtained using simulation for case no. i with n spares and tr time window,MWM_HProbi(n, tr) – the hazard probability obtained using the M/W/M estimation model for case no. i with n spares and tr time window.Similarly, the relative error of the mean hazard time for case no. i with n spares and time window equal to tr minutes is:(46)MHTime_Erri(n,tr)=MWM_HTimei(n,tr)-Sim_MHTimei(n,tr)Sim_MHTimei(n,tr)∗100%Sim_MHTimei(n, tr) – the mean hazard time obtained using simulation for case no. i with n spares and time window equal to tr minutes.MWM_MHTimei(n, tr) – the mean hazard time obtained using the M/W/M estimation for case no. i with n spares and time window equal to tr minutes.Shapes of both functions for cases nos. 1 and 3 depicted in Fig. 4indicate that relative errors increase when the time window grows. The reason is as follows. Greater the time window TR is, smaller the following mass probabilities∫TR+∞fmin(E,D)(t)dtand∫TR+∞fmin(C+E,D)(t)dtare.Calculation times for field data are similar to M/W/M model and are all below 1second (Table 6).Generally hazard estimation errors are born out of two approximations. The first one is related to calculations of Pr(NA) using a queue model, and the other one is the estimation of C, which in turn highly depends on the shape of delivery time. Considering the W/W/M model however, there is no error related to the C variable, since delivery is exponential by assumption. Hence, the queue model approximation is the only source of errors in the computations for parameters collected in Table 7.The HS and OS methods both have the same Pr(NA) calculation algorithms, so they yield the same results depicted in the following figures. Moreover, since the chosen range of failure shape contains 1 in the middle, it is only fair to observe accurate solutions in the middle of the horizontal axis of all the charts below (see Figs. 5–8). As could be also expected, the further from 1, the bigger is the absolute error.If time between failures is a heavy-tailed Weibull distribution, i.e. its shape <1, the model in question will be underestimated. Contrary, when shape is greater than 1, the hazard will be overestimated. This is due to the very nature of M/G/∞ producing Pr(NA) below the real value when the tail is heavy, and above it when the tail is light. Furthermore, as Pr(H∣NA) is greater than Pr(H∣AV), then according to Eq. (3) lower Pr(NA) explains lower Pr(H).Although the hazard probability is decreasing monotonically when the spare pool increases, the relative error exhibits minimum around n=4.Although with real world cases the first estimation proves effective providing errors below 12%, it is questionable whether this estimation can be employed when variables are far from exponential. Therefore, the cases for W/W/W systems have delivery shapes starting from 1 up to 1.5 with step 0.1, as presented in Table 8.Taking time windows and spare trams into considerations, the total number of cases amounts to 90. However, the ones exercising M/M/M, M/W/M, and W/W/W models the most feature high time window along with heavy redundancy. Thereby, for straightforward comparison, in Fig. 9results for TR=101minute and n=3, 4, 5 were gathered for each tested model. Notably, all the charts exhibit the modules of HProb_Err and MHTime_Err respectively.It is clear that accounting for the time that has already passed while waiting for a spare (the CE method) turns out profitable in terms of both hazard probability and mean hazard time.Even though OS and CE both have the edge over MMMS, the advantage of CE is particularly visible with high shape factors. The CE method proves its value to models with non-exponential RV of delivery time at the level unreachable to the other two methods.Interestingly, the gap between MMMS and OS is broadening when adding spare vehicles to the system. With more redundant trams in action there is higher probability of coming across the exchange when a regular tram failure happens. Therefore, the exchange process gets more importance to the overall reliability, and consequently the correct model of exchange is becoming vital to the quality of estimations. Contrary, when the vast majority of failures is recovered due to deliveries there is no much benefit from the exchange to the system and consequently MMMS could be used instead of OS.Adding spares to the system inherently improves reliability, which explains why the absolute values of hazard probability is around: 0.002, 0.0001 and 0.00001 for 3, 4 and 5 spares respectively. So, joining it with the conclusion reached in the previous paragraph, it should be emphasized that both OS and CE approaches are recommended over MMMS to estimate dependability of systems featuring high, or very high, reliability and nearly exponential delivery. When the shape of delivery drifts from 1, however, the CE model proves invaluable and is significantly outperforming not only the most basic MMMS, but also the more sophisticated OS.

@&#CONCLUSIONS@&#
Systems with time window exhibit a time window which is the contractual time stretch within which a broken element needs to be exchanged by a spare one or delivered (repaired). Several methods for evaluating dependability of systems with time window have been presented in this paper. Discussion of the methods has also involved a set of numerical experiments whose outcome can be recapitulated as follows:•for systems with exponential time between failures, Weibull exchange and exponential delivery (so M/W/M in the proposed notation) the accurate solutions for models with infinite and finite amount of repair facilities have been found,for systems with Weibull time between failures with shape in the range [0.9,1.1], Weibull exchange and exponential delivery (i.e. W/W/M) a method yielding small errors has been provided,for the most general and difficult case in which all the random variables conform to Weibull distribution (W/W/W) a method returning moderate errors has been given.The above methods can be generalized for cases when there is G (general distribution) instead of W, and time window is random variable.