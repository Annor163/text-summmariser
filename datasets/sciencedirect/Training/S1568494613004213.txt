@&#MAIN-TITLE@&#
The impact of topology on energy consumption for collection tree protocols: An experimental assessment through evolutionary computation

@&#HIGHLIGHTS@&#
We propose an efficient evolutionary methodology for analyzing the performance of wireless sensor networks routing protocols.We applied the methodology to two ad hoc collection tree protocols: MHLQI and CTP.We ran extensive experiments and obtained large sets of topologies (of up to 50 nodes) showing abnormally high traffic.We empirically extracted predictive topological metrics that were shown to statistically correlate with high network traffic.We verified with a posteriori experiments that these metrics are also a sufficient cause of high traffic.

@&#KEYPHRASES@&#
Collection tree protocol (CTP),MultiHopLQI (MHLQI),Wireless sensor networks (WSN),Evolutionary algorithms (EA),Routing protocols,Verification,Energy consumption,

@&#ABSTRACT@&#
The analysis of worst-case behavior in wireless sensor networks is an extremely difficult task, due to the complex interactions that characterize the dynamics of these systems. In this paper, we present a new methodology for analyzing the performance of routing protocols used in such networks. The approach exploits a stochastic optimization technique, specifically an evolutionary algorithm, to generate a large, yet tractable, set of critical network topologies; such topologies are then used to infer general considerations on the behaviors under analysis. As a case study, we focused on the energy consumption of two well-known ad hoc routing protocols for sensor networks: the multi-hop link quality indicator and the collection tree protocol. The evolutionary algorithm started from a set of randomly generated topologies and iteratively enhanced them, maximizing a measure of “how interesting” such topologies are with respect to the analysis. In the second step, starting from the gathered evidence, we were able to define concrete, protocol-independent topological metrics which correlate well with protocols’ poor performances. Finally, we discovered a causal relation between the presence of cycles in a disconnected network, and abnormal network traffic. Such creative processes were made possible by the availability of a set of meaningful topology examples. Both the proposed methodology and the specific results presented here – that is, the new topological metrics and the causal explanation – can be fruitfully reused in different contexts, even beyond wireless sensor networks.

@&#INTRODUCTION@&#
Back in 1620, Sir Francis Bacon steadfastly championed the methodical observation of facts as the means of studying and interpreting phenomena. The original “Baconian method”, as described in the Novum Organum Scientiarum,22The New Instrument of Sciences.has since been replaced in science, yet the importance of collecting and cataloging evidence is not called into question. Oddly enough, after four centuries, a common problem in computer science is precisely the limited availability of “facts” to start formulating new hypothesis from.The size and the complexity of modern computer systems are skyrocketing, posing serious problems to designers and practitioners. While usually a single component, function or facet may be completely verified, the number of all possible interactions of constituent parts prevents a thorough analysis of the full systems. The problem is further exacerbated whenever the environment must be taken into consideration, since the real world is asynchronous and hardly predictable.In many practical cases, the existence of some problem, or bug if in a software component, is demonstrated by the incorrect functioning of the system. In theory, to conjecture the explanation of an incorrect behavior, one might collect and analyze a set of distinct malfunctioning cases. In practice, however, it may be difficult to pinpoint existing issues: there might be insufficient evidence to faithfully reproduce the scenario, or the triggering cause may be so improbable that pure random simulation would never uncover the fault again.A paradigmatic example of complex computer systems connected with the environment is represented by wireless sensor networks (WNSs). In particular, the analysis of ad hoc WSN's routing protocols is extremely hard, as protocol designers have little to nihil post-deployment information about the occurrence and cause of malfunctions: “We frequently failed to understand performance results and could not determine who was to blame (i.e., the testbed characteristics, or the routing layer?)” [1]. WSN protocols which performed well in controlled environments had as low as 2% data delivery in the field [2,3]. The observed network lifetimes were also sometimes inexplicably lower than expected: “[the] network dies out: three weeks into the deployment most sensor nodes ran out of batteries. We conjecture that the difference is caused by overhearing less traffic, but […] there must be another factor contributing significantly to the nodes’ power consumption” [4]. Yet, both scholars and practitioners openly admit their inability to reproduce faulty scenarios: “it is unclear why collection performs well in controlled situations yet poorly in practice, even at low data rates” [5].Such a lack of understanding is not surprising. The indoor WSN testbeds used for testing (e.g., MoteLab [6]) form relatively well-connected networks, unlikely to reproduce the type of extreme challenges encountered later in environmental deployments. Furthermore, “experimental results obtained on a single testbed are very difficult to generalize” [1]. Since worst-case scenarios are statistically rare events in the state-space of the problem, non-exhaustive methods, such as testbed analysis [7] or random testing [8], are likely to miss them. On the other hand, using formal verification for analyzing such protocols is computationally prohibitive, and has met with limited success in the past [9–12]. At best, it succeeds in identifying unsafe behavior of a WSN protocol in a few concrete, small-size WSN topologies, which makes it impossible to perform statistics and generalize the cause of the behavior.This paper addresses the lack of experimental evidence when tackling lifetime anomalies in WSNs collection routing, by proposing a general methodology and presenting results for a complex real-world application from the field of ad hoc networking. We exploit an evolutionary algorithm (EA) to generate a set of distinct, significant scenarios where the WSN is not behaving correctly. The scenarios are initially generated randomly, and then iteratively refined to potentially trigger critical situations. To let the algorithm evaluate a possible scenario, it is only necessary to define quantitative functions which roughly express “how interesting” that particular scenario is. For example, in our case study, the EA evaluates (i) the overall network radio traffic, and (ii) the maximum node-local radio traffic among all WSN nodes. These two functions measure energy drain for all nodes, and the highest energy drain at a single node, respectively, which are two of the basic definitions for network lifetime used in the literature [13].In the current contribution, we coupled the meta-heuristic optimization technique and a WSN simulator for generating topologies with abnormally high routing traffic. Then, we demonstrated how these data can be used to discover the cause of the behavior. In more details, we experimented with the collection tree protocol (CTP) and the multi-hop link quality indicator protocol (MHLQI). For both protocols, we acquired a large set of samples of anomalous WSN lifetime. Using such experimental evidence, we demonstrated that it is possible to establish the cause of the misbehavior, and we detected which features of the underlying physical topologies cause a particular protocol logic to trigger unusually high traffic (and thus low lifetime). We call these features topological metrics. For each protocol, we first showed the correlation between pairs of 〈fitness, topological metric〉 in the samples generated with the EA, then we tested the reverse, i.e., that topologies artificially generated so that they maximize a given topological metric are sufficient cause for the protocol to show high traffic.At the time of writing, no attempt to perform a quantitative causality analysis of worst-case lifetime in WSN routing protocols has been reported in mainstream scientific literature. We find that this lack of knowledge in the field of protocol analysis can be suitably remedied by the application of an EA in a novel, practical methodology, which contributes to the set of real-world applications of EA techniques, as called for in [14,15].We structure the paper as follows. In Section 2, we give background information on WSN collection routing protocols, evolutionary computation and the specific EA used in the experience. Section 3 describes the method to generate evidence for extreme lifetime in the system, and the method to analyze the evidence and extract a topological correlation and cause. The following three sections present experimental results for both protocols, from obtaining the EA-driven samples of protocol behavior (Section 4), to writing empirical topological metrics and showing their correlation with high network traffic (Section 5), to showing causality by reverse testing (Section 6). Finally, Section 7 draws the conclusions of our work and outlines future developments.

@&#CONCLUSIONS@&#
In this paper, we have presented a novel and practical Evolutionary methodology for analyzing worst-cases scenarios of WSN routing protocols. We collected a large set of evolutionarily generated network topologies, from which we deduced heuristic topological metrics correlated with the most problematic cases. In summary:1We set up an evolutionary-driven simulation tool chain coupling the standard WSN simulator TOSSIM with an EA. This tool chain “evolves” generations of WSN topologies aiming at maximizing two relevant fitness functions. We ran extensive evolutionary experiments and obtained large samples of topologies (of up to 50 nodes and various network densities) over which the protocol logic triggers high fitness values, i.e., high traffic;We empirically extracted predictive topological metrics that were shown to correlate with high fitness values in the samples above, and separately verified that the metrics are also a sufficient cause of high fitness. These metrics make our approach quantitative, thus comparatively distinct from qualitative methods which develop a model of the WSN behavior by analyzing the actual software implementation of the routing protocol, see [9,10].Here, we focused our analysis on two well-known WSN routing protocols, namely MHLQI and CTP. Although the two protocols belong to the same family, they exhibit extremely different worst-case lifetime. Taking as “reference” point, for both protocols, the amount of traffic triggered over a standard grid topology, we observed that (i) MHLQI, the more simplistic of the protocols, is well-behaved, i.e., does not significantly exceed the reference amount of traffic, while (ii) CTP, the newer and “smarter” protocol, exhibits worst-case traffic one order of magnitude higher than the reference.In addition to that, we showed that for MHLQI modestly higher traffic is caused by topological metrics which are intuitive and expected, e.g., higher network density and higher node degrees. On the other hand, for CTP, extremely high traffic is caused, less intuitively, by the existence (and number) of physical loops in the network. Finally, we proved that random topologies generated so that they maximize exactly these topological metrics can be used efficiently as worst-case test scenarios by protocol designers.The piece of research shown here paves the way to a number of extensions. In our future studies, we will focus our research on various aspects – both methodological and practical – concerning the proposed EA-driven simulation framework and its applications:1Further analysis of wireless sensor networks: Both our methodology for evolutionary-driven simulation, and the resulting worst-case test generation method, are applicable to other WSN routing protocols and other fitness functions. In our further research, we will show the applicability of this approach to other routing protocols, different fitness functions (e.g., the ratio of data delivery to sink) and networks with dynamic composition.Extension of the evolutionary framework: Another possibility to explore will be the application of a domain-specific local search within the evolutionary framework. Incorporating prior domain knowledge into the meta-heuristic, the resulting memetic algorithm will likely generate comparatively more interesting scenarios.Applications beyond WSN: Although we focused here on the specific problem of generating misbehaving WSN topologies, the proposed EA-driven methodology is applicable to different contexts. In principle, for every optimization problem where a large search space co-exists with the possibility of taking advantage of human expertise, an EA could be effectively used to explore the most interesting areas, obtaining a large set of significant samples that could be later exploited to uncover hidden laws, or derive heuristic considerations on the system under test.