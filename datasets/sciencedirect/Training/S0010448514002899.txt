@&#MAIN-TITLE@&#
A virtual fixture using a FE-based transformation model embedded into a constrained optimization for the dimensional inspection of nonrigid parts

@&#HIGHLIGHTS@&#
The virtual fixture method allows for the inspection of nonrigid parts.It does not necessitate the pre-processing of the point cloud into a FE mesh.It takes into account the part’s specification limiting the restraining forces.It infers the part’s structural behavior from the FE model of the nominal CAD.Two case studies on physical parts are performed.

@&#KEYPHRASES@&#
Inspection,CAD,Nonrigid parts,Registration,Finite element,Computational metrology,

@&#ABSTRACT@&#
Virtually mounting nonrigid parts onto their fixture is proposed by researchers to remove the need for the use of complex physical inspection fixtures during the measurement process. Current approaches necessitate the pre-processing of the free-state nonrigid part’s point cloud into a suitable finite element (FE) mesh and are limited by the use of the boundary conditions setting methods available in FE software. In addition to these limits, these approaches do not take into account the forces used to restrain the part during the inspection, as commonly mandated for aerospace panels. To address these shortcomings, this paper presents a virtual fixture method that predicts the fixed shape of the part without the aforementioned drawbacks of current approaches. This is achieved by embedding information retrieved from a FE analysis of the nominal CAD model into a boundary displacement constrained optimization. To evaluate the proposed method, two case studies on physical parts are performed using the proposed virtual fixture method to evaluate the profile and assembly force specifications of each part.Points representing the manufactured part scanned at free-state.Nodes of the FE mesh of the simplified CAD model.Set of nodes in regions that must be constrained during the inspection.Set of sample nodes in regions unconstrained during the inspection.List of nodesBin each region that must be constrained during the inspection.Point-sets obtained by projecting the nodesBandDonto the outer-surfaces of the CAD model.Number of points inP.Number of nodes of the FE mesh of the simplified CAD model.Number of nodes ofSin regions that must be constrained during the inspection.Number of sample nodes ofSin regions unconstrained during the inspection.Number of regions that must be constrained during the inspection.Number of nodes in the regionL(i).Closest points of nodebio.Closest points of nodedio.Set of corresponding closest points in regions that must be constrained during the inspection.Set of corresponding closest points in regions unconstrained during the inspection.Set of closest pointsbi•.Set of closest pointsdi•.Nodal displacement vectors of nodesBandD.Nodal forces at nodesBandD.Estimated forces at pointsB•.Magnitude of the forces on constrained regions.Magnitude of the force for the constrained regionL(i).Distance-based similarity criterion between points in unconstrained regions.Distance-based similarity criterion between points in constrained regions.Set of contact distance values.Estimated deviations of pointsD•(1).

@&#INTRODUCTION@&#
​The dimensional inspection of nonrigid parts presents many challenges, as their shapes are influenced by how they are held during the measurement process. Given their shape-sensitive behavior, nonrigid parts can no longer be measured in a free-state and are therefore commonly measured on hard (i.e., physical) inspection fixtures. For example, an aerospace panel can be lightly warped making its measurements in a free-state hardly representative of the part’s shape when assembled on the airframe. Specifying, tolerancing and inspecting the geometric and dimensional requirements of such parts must therefore be dealt with differently than with rigid parts.Specifying the geometric and dimensional tolerances of a part is an essential step in communicating the quality requirements of the final manufactured parts. Standards such as the American Society of Mechanical Engineers (ASME) Y14.5  [1] and the International Organization for Standardization (ISO) 1101  [2] state that the manufactured part’s specifications are to be evaluated in a free-state unless otherwise specified. Exemptions to this rule are given for nonrigid parts. The revised versions of the ASME Y14.5 (2009) [1] and ISO 10579  [3] standards describe more clearly these exemptions. A categorization of the specification methods used for the geometric dimensioning and tolerancing (GD&T) of nonrigid parts under the ASME and ISO standards  [1–3] is presented by Abenhaim et al.  [4]. The specifications of such part often mandate that the dimensional requirements must be respected in a restrained condition. For aerospace panels, it is common to include a note authorizing the use of limited forces to mount the part on its fixture (see Fig. 1).Thereafter, the geometric and dimensional specifications must be assigned tolerances to take into account the part’s manufacturing process. Tolerance allocation and analysis methods present a rational basis for assigning tolerances to dimensions. Traditional methods assume that parts are rigid and thus fail to take into consideration permissible displacements during the assembly of nonrigid parts. These permissible displacements result from the compliant behavior of the nonrigid parts. Nonrigid parts are commonly referred to as compliant components in the field of tolerance analysis. The foundation for an effective tolerance allocation strategy for nonrigid parts was established by the Laboratory for Manufacturing System Realization and Synthesis (MA/RS) of the University of Wisconsin in collaboration with the Collaborative Research Laboratory in Advanced Vehicle Manufacturing (GM CRL-AV), with Hu, Ceglarek, and their students (Liu, Camelio, etc.) [5–7]. For example, Liu and Hu  [6] proposed the method of influence coefficients to predict the variations of sheet metal assemblies using the finite element (FE) method. The essential element in their method is the establishment of a linear relation (i.e., a sensitivity matrix), between the induced variations of parts and the variations of their final assembly. This reduces the computational costs of a FE analysis and allows for a Monte Carlo simulation of the assembly’s variations. Likewise, a notable contributor in this research field is the Association for the Development of Computer-Aided Tolerancing Systems (ADCATS) founded by Kenneth W. Chase of Brigham Young University (BYU)  [8,9]. Thenceforth, a vast amount of research has been conducted in the tolerance allocation and analysis of compliant assemblies. A review of these research is presented by Mounaud et al.  [10], as well as by Chen et al.  [11].Once parts are manufactured, they must be inspected to ensure that their GD&T specifications are met. Inspection methods allow one to evaluate the deviations of parts with respect to their assigned tolerances. Given the growing shape complexity of parts and the democratization of 3D non-contact measurement technologies, recent trends in dimensional inspection methods have focused on minimizing the inspection cost by removing the need for the use of hard inspection fixtures. Well-documented efforts to develop fixtureless inspection methods for rigid parts have been documented  [12–14]. Traditional rigid registration methods remove the need for expensive fixtures and reduce the inspection setup time by aligning the scanned manufactured part’s dataset to its nominal CAD model. This is true only when dealing with rigid parts, since the purpose of inspection fixtures when dealing with nonrigid parts is twofold: aligning the parts with their reference frame and maintaining them in a desired shape during the measurement process.Fixtureless inspection methods for nonrigid parts need to fulfill the two aforementioned purposes of inspection fixtures. The challenge to overcome by these methods is to compensate for the shape changes of nonrigid parts when they are not mounted on their fixture (i.e., when in a free-state). Abenhaim et al.  [4] provide a review of the recent advancements into fixtureless inspection methods. An actively investigated approach by researchers in the field is referred to as the simulated displacements methods  [4]. This approach relies on numerical methods to virtually compare the shape of the measured part in a free-state condition with its nominal CAD model. Methods using this approach impose displacements on either the point cloud of the free-state part, or its nominal CAD to map one to the shape of the other. This enables comparison.Transforming the point cloud of the free-state manufactured part to reflect the part’s shape mounted on its inspection fixture is a complex process. It must be accomplished without masking the manufactured part’s deviations. The transformation must represent only the shape changes induced to the part by the mounting method and the gravity load.Based on a FE analysis of the part’s nominal model, simulated displacements methods in Refs.  [15–21] map the meshed nominal CAD model to the manufactured part’s point cloud. This mapping process is based on the minimization of a spring-mass system by Jaramillo et al.  [22], and on a transformation model that maintains the coherence of the CAD model’s topology by Refs.  [23,24].Preserving with the industrial practice of comparing the restrained manufactured part with its nominal CAD model, simulated displacements methods in Refs.  [25–27] map the manufactured part’s point cloud to the nominal model. These methods essentially consist in building a finite element (FE) model of the free-state manufactured part’s point cloud, followed by a FE analysis imposing displacements on nodes identified as fixation points. The displacements bring the nodes to their known positions on the nominal CAD model. The resulting FEA simulates the scanned part fixed on its inspection fixture. By doing so, those methods necessitate the pre-processing of the point cloud of the part so as to convert it into a tessellated surface and then into a suitable mesh for a FE analysis. The following step consists in comparing this virtually fixed part with its nominal CAD model. This allows for the evaluation of the profile deviations.Notwithstanding the endeavor of building an appropriate FE mesh from a point cloud, imposing the relevant boundary conditions on the FE model is a major factor contributing to the reliability of the FE analysis results  [28].The limits of the underlying principles of methods imposing predetermined displacements values on boundary nodes for the inspection of an aerospace panel are highlighted by Abenhaim et al.  [29]. The paper demonstrates that uncertainties in the position of features (e.g., hole center, datum target points) on the FE model of the scanned free-state manufactured part, used to set the boundary conditions in the FE model to simulate the scanned part mounted on its inspection fixture, are sufficient to give way to an unacceptably high shape errors in the FE predicted shape of the studied aerospace panel. The source of these uncertainties are numerous and are highly unlikely to be nonexistent. The uncertainties in finding the node in the FE model of the scanned free-state part in Fig. 2(a) corresponding to the datum targets given on the nominal model in Figs. 2(b) and 7(a) are examples. Finding the datum positions of an aerospace panel is a difficult task as they do not have easily identified positions. In the event where the datum features are holes, a circle or center of mass must be estimated from nodes of the FE model of the scanned free-state manufactured part in the regions identified as such by the user. This best-fitting procedure is an other example of a source of uncertainties. Even in the hypothetical situation studied by Abenhaim et al.  [29], the fact that there was not necessarily a node on the hypothetical highly accurate FE mesh of the free-state part’s point cloud, at the exact position of the nominal datum targets positions resulted in unacceptable shape errors in the predicted shapes.In addition to these drawbacks, current approaches do not take into account the forces used to restrain the part during inspection, as commonly mandated for aerospace panels.To address these shortcomings, this paper presents a virtual fixture method that does not demand the pre-processing of the point cloud of the manufactured part into a FE model and ensures that the estimated forces necessary to mount the part do not exceed the assembly’s force specification.Removing the pre-processing step is achieved by inferring the part’s structural behavior from information retrieved from the FE model of the nominal CAD model. The information represents a linear relation (i.e., sensitivity matrix), between the induced displacements to the boundary nodes representing the assembly’s fixing points and the displacements of the nodes used to evaluate the part’s profile. This allows for the formulation of the proposed boundary displacement constrained (BDC) optimization which ensures the respect of the force’s specification. The BDC optimization seeks to minimize the distance between corresponding points, in the scanned manufactured part and the nominal model, that are in unconstrained regions while ensuring that a distance between corresponding points in constrained regions (i.e., fixing points) remains within a specified contact distance (i.e., distance to their nominal position), and at the same time, limiting the magnitude and direction of the forces on in constrained regions. Corresponding points are estimated by finding the closest points in the point cloud corresponding to pre-selected outer-surface points in the nominal model. By doing so, the method displaces the manufactured part’s point cloud into a shape reflecting the part mounted on its fixture. This enables the evaluation of the manufactured part’s shape deviations.Before any substantive discussion can transpire from the proposed method, it is necessary to take a moment to explain the way in which this paper will unfold. Section  1 introduces the challenges involved in inspecting flexible parts. Having established these challenges, Section  2 details the proposed virtual fixture method by first describing each of its modules and then combining them in a step procedure. Section  3 presents two experimental studies on physical parts to evaluate the method’s performance. Finally, Section  4 discusses the finding of this paper and the directions for future research.Instead of mounting the manufactured part on a traditional hard fixture during inspection, the proposed method simulates the mounting step by virtually restraining the free-state manufactured part’s point cloud. The method simulates the hard-fixture inspection by essentially mapping the point cloud to the nominal model using information retrieved from the FE model of the nominal CAD model.The following subsections begin by presenting the method’s pre-processing step. Then, the four major modules of the method are presented: pre-registration, nonrigid registration, transformation, and evaluation. The pre-registration module aligns the CAD model and the point cloud using landmarks followed by a refined registration. Next, the nonrigid registration module estimates a set of restraining forces within a user-specified limit as well as a translation matrix, for each pre-selected data-point of the scanned part, that transform the point cloud into a shape reflecting the part mounted on its fixture. The resulting translations are then applied to each pre-selected data-point of the scanned part to generate a new point cloud of the manufactured part. The new point cloud of the manufactured part is then compared to the CAD model to evaluate the deviations between them.Finally, this section combines these four modules to present the virtual fixture method as a step-based process, as shown in the flowchart Figs. 3 and 6.Given the digital product definition, which includes the part’s nominal CAD model and the GD&T specifications, the pre-processing step seeks to retrieve the equation system representing the structural behavior of the part.First, letS={s1,…,sNS∣si∈R3}be a set ofNSnodes of the FE mesh of the simplified CAD model. The simplified CAD model refers to the CAD model geometry that has been cleaned up by suppressing features (e.g., holes, chamfers, fillets, etc.) that are unlikely to influence the analysis results and by creating a suitable neutral shell surface in the case of shell-type parts.Drawn from the part’s GD&T specifications, letB={b1,…,bNB∣bi∈R3,bi∈S}be a set ofNBnodes in regions that must be constrained during the inspection (e.g., region around screw holes), and,D={d1,…,dND∣di∈R3,di∈S}be a set ofNDsample nodes in regions unconstrained during the inspection, that are to be used to evaluate the design requirements (e.g., profile) such thatNB+ND≤NS. Additionally, letL=[{L(1)}⋯{L(NL)}]be the list of nodesBin each landmark region corresponding to regions that must be constrained during the inspection,NLthe number of landmark regions, andNBL(i)the number of nodes per regionL(i).Furthermore, letBo={b1o,…,bNBo∣bio∈R3}be a set ofNBopoints, and,Do={d1o,…,dNDo∣dio∈R3}be aNDosample point-set obtained by projecting respectively the nodesBandDonto the outer-surface of the CAD model.Based on the FE mesh of the simplified CAD model and the part’s material characteristics, a FE model can be created. Information retrieved from the FE analysis is used to carry out the boundary displacement constrained optimization (BDCO) detailed in Section  2.3.2.Assuming a linear problem in static analysis, the application of a displacement-based FE method results in a sparse symmetric and positive definite equation system:(1){f}=[K]{u}wherefis the nodal forces,Kthe global stiffness matrix anduthe nodal displacements.Hereinafter, the nodal forces refers to the forces’X,YandZcomponents, and the nodal displacements refers to the displacement’s translation vector. Rotational components of the nodal forces and displacements are not taken into further account given that they are non-significant compared to the translations components; in addition, this simplification will help reduce the computational time of the proposed method.The linear matrix equation (Eq. (1)) can be condensed into a smaller matrix system corresponding to a number of selected degrees of freedom (DOF). This procedure is commonly referred to as Substructuring or Static Condensation   [30]. The resulting matrices are super-elements that describe the equivalent stiffness and nodal forces for an entire part in terms of the selected DOF.Solving and substructuring the FE model of the mesh (S) using the nodal displacements vectoruBof nodesBand the nodal displacements vectoruDof nodesDas the selected DOF, results in a condensed linear equation that captures the behavior of the part with respect touBanduD. To help formulate the BDC optimization, the condensed linear equation is partitioned as follows:(2){fBfD}=[KBBKBDKDBKDD]{uBuD}wherefBandfDare the nodal forces at nodesBandDrespectively.Assuming that the gravity force has a negligible effect when the part is restrained (i.e., sufficient restrains have been specified), that is to say that no forces are applied on pointsD, the displacements of nodesDwith respect to the displacementsuBcan be deduced from the re-written stiffness equation (Eq. (2)) as:(3){uD}=−[KDD−1KDB]{uB}.Furthermore, the nodal forces at nodesBcan be written as:(4){fB}=[KBB]{uB}+[KBD]{uD}.Finally, by combining the two previous equations (Eqs. (3) and (4)), the displacementsuBwith respect to the nodal forcesfBcan be expressed as:(5){uB}=[KBB−KBDKDD−1KDB]−1{fB}.To summarize, the pre-processing step, systematized in Fig. 4, results in relations linking the nodal forces on restraining nodes with the displacements of nodes in constrained (B) and unconstrained (D) regions, expressed in Eqs. (3) and (5), as well as in the associative relations between the nodes (BandD) and points (BoandDo) on the outer-surface of the CAD model. This step is performed off-line only once for a part (i.e., model).Given that the discretized CAD model outer-surfaceSoand the scanned point cloud (P) are in distinct coordinate systems, the pre-alignment of the two coordinate systems is achieved using a coarse and a fine rigid registration approach. Mathematically, rigid registration refers to finding the three dimensional translation vectorqT∈R3×1and the three dimensional rotation matrixR∈R3×3that minimize the Euclidean distance between the two sets.The registration problem is represented by the objective functiong:(6)g(R,qT)=∑sjo∈SoNj‖[R⋅cj+qT]−sjo‖2wherecj∈CandCare the set ofNjpoints inPclosest to the set of pointssjo∈So, withP={p1,p2…pNP∣pj∈R3}a set ofNPpoints representing the free-state manufactured part’s point cloud.The coarse rigid registration estimates the transformation matrices by minimizing the registration objective function (Eq. (6)) with the Nelder–Mead Simplex method using identifiable landmark corresponding points, which may be manually selected in each set. This allows for the fine registration to be performed using an ICP-like method  [31] to align the point setPon the discretized CAD model outer-surfaces (So). The outcome of the pre-alignment method is a point setP(1)closer toSoas well as a set of corresponding closest points(bio,bi•)for all pointsbo∈Boand(dio,di•)anddo∈Dosuch that all pointsbi•anddi•are points ofP(1).The shape of the scanned part and the nominal CAD model being different, the registration problem is not limited to finding a rigid transformation but also entails the introduction of non-rigid registration. Transforming the scanned point cloud into a shape that more closely resembles the CAD model, according to the intended restraining conditions during inspection (i.e., datums and restraining force limits) is a complex process. It must be accomplished without concealing the manufactured part’s deviations. This is achieved herein through the proposed nonrigid registration method by embedding a FE-based transformation model in a constrained optimization.Herein, the transformation model estimating the displacement of pointsB•andD•must lead to a physically plausible solution as well as an estimation of the applied forces on pointsB•in constrained regions. Therefore, one must use the part’s information and the most accurate structural predictive models available; that is the information detailed in the part definition and the well established predictive ability of the FE method. To this end, the proposed FE-based transformation model estimates the displacement of pointsB•andD•with respect to the applied forces on pointsB•by borrowing the information from the FE model of the CAD mesh (S) and the associative relation between the nodes (BandD) and the points on the outer-surface of the CAD model (BoandDo) obtained in the pre-processing step.By presuming that the scanned part (P) has the same mechanical properties as the FE mesh (S) with no initial stresses or strains and that its behavior can be formulated as a linear static problem with small displacements, the equations governing the displacement of pointsBandDwith respect to the applied forcefB(Eqs. (3), (5)) are re-written as follows:(7){uB•}=[KBB−KBDKDD−1KDB]−1{fB•}=[KB]{fB•}(8){uD•}=−[KDD−1KDB][KBB−KBDKDD−1KDB]−1{fB•}=[KD]{fB•}wherefB•andfD•are the estimated forces at pointsB•andD•respectively;uB•anduD•are their displacement vectors.Having established the FE-based transformation model, the boundary displacement constrained optimization (BDCO) seeks to minimize a distance-based similarity criterion (ED) between points in unconstrained regions while maintaining a distance-based similarity criterion (EB) between points in constrained regions within specified contact distances (T), and at the same time, limiting the magnitude and direction of the forces (fB•). This module has been briefly presented in Ref.  [32] and tested on simulated case studies. The approach solves the following constrained optimization problem illustrated in Fig. 5, and is further detailed in the ensuing paragraphs:(9)arg minfL•{ED}T⋅{ED}subject to|EB(i)|≤T(i),≤fLiMaxi=1,…,NB−fL(i)Max≤fL(i)•≤fL(i)Max,i=1,…,NLThe argument. The objective function’s argumentfL•represents the magnitude of the forces on constrained regions that will drive the displacements of the part’s point cloudB•andD•closer to the CAD model outer-surfaceSo. The argument is organized as aNL×1vector:(10)fL•=[fL(1)•fL(2)•…fL(NL)•]T.The magnitudefL(i)•for each constrained regionL(i)is limited to the magnitude of the maximum permitted restraining forcefL(i)Maxin the GD&T specifications.The direction of the forcesfB•are set to be normal to the outer-surface at the associated points to foresee physically unrealistic forcesfB•as well as to limit the objective function search domain. The push-pull direction offB•is represented by the sign attributed to the values offL•. The magnitude offL(i)•for each constrained regionL(i)is distributed evenly on each pointB•inL(i).Considering the aforementioned characteristics of the forcesfB•, the relation between the argumentfL•and the restraining forcesfB•is formulated as:(11){fB•}=[[M⋅{fL•}]T⋅NBo]Twhere(12)NBo≔[nˆb(1)onˆb(2)o⋱nˆb(NB)o]with the normal vectornˆb(i)oof the outer-surfaceSoat pointbio, arranged in aNB×3NBmatrixNBo;Mbeing aNB×NLmatrix in which, for each regionLj, the rows and columns associated with all pointsbi•∈Ljare equal to1/NBLj.The inequality constraints. The inequality constraints impose that the induced displacements on each point in the constrained regions (bi•), resulting from applying the forcefB(i)•, bringsbi•within a distanceT(i)of the outer-surface pointbio. That is to say, figuratively, that it forces the restraining regions of the scanned part to be within a contact distance of their nominal positions. For instance, one can set smallTvalues to force the restraining regions to be close to their nominal positions (i.e., to simulate a hard fixture mounting) or set the valuesTaccording to the tolerance of the elements associated with the part on which the scanned part must be assembled.Accordingly, the distance-based similarity criterionEBin the optimization problem formulation (Eq. (9)) assesses how closely scanned pointsB•are mapped to their corresponding pointsBo. The criterionEBis defined as the set of Euclidean distance, between corresponding points(bi•,bio)projected onto the normal vectornˆb(i)oof the outer-surfaceSoat pointbio.Given the precedent relation betweenuB•andfB•(Eq. (7)), the criterionEBis formulated as:(13){EB}=NBo[{B•}+{uB•}−{Bo}]=[NBo⋅KB]{fB•}+[NBo]{B•−Bo}={EB(1)⋮EB(NB)}.The objective function. Finally, the optimization problem seeks to minimize the objective function defined as the sum of the squared distance-based similarity criterionED. The distance-based similarity criterionEDassesses how closely scanned points in constrained regions (D•) are mapped to their corresponding pointsDo; it is defined as the weighted Euclidean distance between corresponding points(di•,dio)projected onto the normal vectornˆd(i)oof the outer-surfacesSoat pointdio. Given the precedent relation betweenuD•andfB•(Eq. (8)), the criterionEDis formulated as:(14){ED}=[W⊗IND]⋅NDo[{D•}+{uD•}−{Do}]=[W⊗IND]⋅{[NDo⋅KD]{fB•}+[NDo]{D•−Do}}where the weightsW≔diag(wi,…,wND), theND×NDidentity matrix is denoted asINDand the Kronecker product by⊗. The weightswicontrol the influence of the data in different regions of the part. For instance, they could be set to zero for points that have no correct correspondence pointsD•(i.e., unscanned regions). Points inDowith no correct correspondence points inD•are those for which the distance between them is higher than a threshold. Furthermore, if an additional estimate of the reliability of the points is available, the weights can be set accordingly. TheND×3NDmatrixNDorepresents the normal vectors of the outer-surfaceSoat pointsDoarranged like those ofNBo.The transformation step maps pointsB•toB•(1), as well asD•toD•(1)using the estimated forcefB•obtained after solving the BDC optimization step. From the relations betweenuB•, as well asuD•, andfB•(Eqs. (7), (8)), pointsB•(1)andD•(1)are estimated using:(15){B•(1)}={B•}+[KB]{fB•}(16){D•(1)}={D•}+[KD]{fB•}.Finally, the evaluation step consists in assessing the deviations between the transformed point-setD•(1)and the CAD outer-surfaces (So). Deviations can be estimated using multiple methods such as those commonly referred to as point–point, point-projection or point-surface. Herein, deviationsδDare estimated as the Euclidean distance between points inD•(1)to their recomputed closest pointsDo(1), projected onto the normal vectorNDo(1)ofSoat the pointsDo(1), as expressed by:(17){δD}=[NDo(1)]{D•(1)−Do(1)}.DeviationsδBare computed in a similar way asδD.Having explained the method’s pre-processing step and its four major modules, it is now possible to fully present the proposed virtual fixture method described in the following steps, and schematically shown in Fig. 6.  Starting with the outputs of the pre-processing step and the point cloud representing the free-state manufactured part (P), the method proceeds as follows:1.Retrieve the super-elements matrices from the FE analysis of the CAD model (Section  2.1),Make a pre-registration betweenPandSo, and retrieveB•andD•(Section  2.2),Build the FE-based transformation model by linkingB•andD•to the super-elements matrices from step 1 (Section  2.3.1),Set the values of the matricesTandW,Run the BDC optimization (Section  2.3.2),Adjust the matrixTwithin acceptable values and repeat step 5 if no solution is found after step 5,Terminate the algorithm if no solution is found after step 5&6, and identify the scanned part as non-compliant to its specifications (i.e., part cannot be constrained withinTso as to respect the force’s specification),ComputeB•(1)andD•(1)if a solution is found after step 4 (Section  2.4),Evaluate the deviationsδBandδD(Section  2.5),Compare the deviationsδBandδDto the part’s specifications to identify it as compliant or non-compliant. Note that deviationsδDof points inDo(1)with no correct correspondence points inD•(1)are disregarded.This section presents two case studies using the proposed virtual fixture method to evaluate the parts’ profile. The first case study is an aerospace aluminum panel of approximately 1425 mm [56 in] width by 1730 mm [68 in] of length with an area of 0.59 m2 [ 914.5 in2], and is shown in Fig. 7.  The Panel has a thickness of 2.54 mm [0.1 in]. The part’s reference frame is illustrated in Fig. 7(a). The free-state part’s point cloud was captured when the part was positioned on (i.e., not forced upon) a set of supports. Specifically, the supports were those of the fixture except that the height of fourteen (14) out of the thirty eight (38) supports, represented by the red symbols in Fig. 7(b), were randomly moved in the downward direction. By doing so, this setting allowed to: (i) measure the part in a free-state, (ii) represent a case where the supports are not at their nominal position, and (iii) ensure the shape of the part was not excessively different from its nominal shape in order to limit the foreseeable error due to the method assumptions. The amount and location in theXYplane of the supports were not modified to not overly burden the metrology department. Given another situation, only a small amount of randomly positioned supports ensuring that the part’s shape and its nominal shape do not differ excessively would suffice.The second case study, the Support, is an aerospace aluminum support of approximately 40.7 mm [1.6 in] width by 1143 mm [45 in] of length with an area of 0.068 m2 [ 105.4 in2], and is shown in Fig. 8. The part has a thickness of 1.016 mm [0.04 in]. The part’s reference frame is illustrated in Fig. 9. The free-state part’s point cloud, shown in Fig. 9(b), was captured when the part was positioned on (i.e., not forced upon) its fixture. Fig. 10illustrates the initial shape difference between the point cloud and the nominal model for both case studies.The pre-processing step for each case study starts by simplifying the CAD model to represent the neutral shell surface of the CAD model geometry without holes. The simplified CAD models are then meshed with 4 mm quad shell elements (37 752 nodes) for the Panel, and 0.8 mm quad shell elements (103 747 nodes) for the Support. Traditional practical knowledge using the FE method  [30] was used to generate the most accurate FEA possible without respect to the computational cost (i.e., the pre-processing step is performed only once).Then, nodes encompassed within a 24.5 mm diameter circle around the datum targets depicted in dark color in Figs. 7(a), and 8 are identified. From the identified nodes, the three nodes creating the largest triangle around each datum target are set asB. Large colored dots on Fig. 11depict nodesBwhile the black dots represent nodes in unconstrained region (D) used to evaluate the part’s profile.To assess the proposed method’s performance in a real world application, the profile deviations evaluated by measuring the parts maintained on their original fixture arrangement (shown in Figs. 12(a) and 13) are compared to those obtained by using the proposed method (as presented in Figs. 12(b) and 13). Figs. 12(c) and 13(c) show a mean and standard deviation of the error of: (i) −0.038 mm and 0.153 mm for the Panel, (ii) −0.048 mm and 0.151 mm for the Support. The contact distances (T) values were set to 0.124 mm for both case studies. These were determined by trials in which the smallest values allowing a solution to the BDC optimization were chosen. Tests were performed with the maximal forcefB•set to fifty Newton (50 N) and were carried out on a computer equipped with an AMD Phenom(tm) II X4 B93 processor of 2.80 GHz, 12.0 GB in RAM, running Microsoft Windows 7 64-bit. The BDC optimization problems were solved using the constrained nonlinear optimization function fmincon with the active-set algorithm implemented on MATLAB®   [33]. Typical solving time for a given set ofTvalues are less than a minute.To further investigate the method’s performance, the parts are divided into eight regions, as shown in Fig. 14. The overall and per region values of three quality indicators are evaluated. The three quality indicators in millimeters are: (i) the mean absolute error (MAE), (ii) the root mean square error (RMSE), and (iii) the third quartile (Q3) of the error absolute values. Fig. 15summarizes the quality indicators results for each predicted part.Fig. 15, as well as Figs. 12 and 13 indicate that the Panel’sR2region and the Support’sR1region exhibit significantly higher errors than other regions. A thorough look at Fig. 12(a) next to the position of the datum targetJ2in the middle of regionR2(see  Fig. 16(a)), and at Fig. 13(a) next to the position of the datum targetJ1in regionR1(see Fig. 16(b)) highlights unexpected deviations on the measured deviations. Indeed, one would expect negligible deviations in regions next to the position of datum targets since the parts are supposed to be forced into full contact with their fixture. Investigations of the experimental data revealed that (i) the Panel was not in full contact withJ2, and (ii) thatJ1was not precisely positioned at its nominal value (i.e., moved during the experiment setup). These discrepancies illustrate aspects of the difficulties in inspecting nonrigid parts, and the types of errors that can result from traditional inspection on fixtures.Once the aforementioned regions are disregarded, the proposed method’s shows a mean and standard deviation of the error of: (i) −0.015 mm and 0.106 mm for the Panel, (ii) −0.032 mm and 0.113 mm for the Support. Considering a 1.5 mm profile tolerance commonly used in the aerospace industry, the margin of error of the proposed method’s results is equivalent to 29% of the tolerance for the Panel (0.015+4⋅0.106/1.5=29%), and of 32% of the tolerance for the Support (0.032+4⋅0.113/1.5=32%). These results are close to the recommended limit of 30% of the tolerance  [34]. It should be noted that the uncertainties of the measurements obtained with the parts maintained on their original fixture arrangement were not accounted for.Regardless of the measured data’s discrepancies, a significant contributor to the proposed method’s error is the initial shape difference between the free-state and the nominal shapes. The reason is that the method infers the structural behavior from the CAD model’s FE analysis (i.e., undeformed shape) and assumes a linear static problem with small displacements.Finally, although the maximum permitted force’s specification is implicitly respected by the proposed method, the method’s output estimated forces necessary to conform the free-state physical parts are shown in Fig. 11. The forces used to physically mount the parts on their fixture are not available, though, it is known that they did not exceed the maximum force of 50 N.

@&#CONCLUSIONS@&#
