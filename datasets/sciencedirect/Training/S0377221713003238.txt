@&#MAIN-TITLE@&#
Worst-case robust Omega ratio

@&#HIGHLIGHTS@&#
Definition of the worst-case Omega Ratio under partial information regarding the distribution of the underlying assets.Tractable robust formulation of the Omega Ratio under several types of uncertainty.Long out-of-sample evaluation of the proposed framework.

@&#KEYPHRASES@&#
Robust,Omega,Portfolio,Optimization,Uncertain,Distribution,

@&#ABSTRACT@&#
The Omega ratio is a recent performance measure proposed to overcome the known shortcomings of the Sharpe ratio. Until recently, the Omega ratio was thought to be computationally intractable, and research was focused on heuristic optimization procedures. We have shown elsewhere that the Omega ratio optimization is equivalent to a linear program and hence can be solved exactly in polynomial time. This permits the investigation of more complex and realistic variants of the problem. The standard formulation of the Omega ratio requires perfect information for the probability distribution of the asset returns. In this paper, we investigate the problem arising from the probability distribution of the asset returns being only partially known. We introduce the robust variant of the conventional Omega ratio that hedges against uncertainty in the probability distribution. We examine the worst-case Omega ratio optimization problem under three types of uncertainty – mixture distribution, box and ellipsoidal uncertainty – and show that the problem remains tractable.

@&#INTRODUCTION@&#
The seminal approach of Markowitz (1952) changed and motivated the direction of research on portfolio selection. It is known that his proposed framework is based on assumptions that do not hold in practice. For instance, the Markowitz framework considers only the first two moments of the distribution and therefore implies that the underlying asset returns are normally distributed. However, the novel concept that the wealth allocation should be based on the statistical properties of assets and the risk return trade-off are now regarded fundamental. On this principle, a number of frameworks emerged that required less restrictive and more realistic assumptions.Consider a single-period investor who wants to maximize his wealth at the end of the horizon, for a given level of risk; by allocating the initial wealth to the available securities. A natural choice for the investor is to formulate a utility maximization problem. This entails assumptions on the utility function of the investor and generally lies outside the scope of this paper. The second choice is to minimize the risk for a required return, or equivalently to maximize the expected return for a given level of risk. Thus, there is an inherent trade-off between risk and return. Whether the investor should accept a marginal increase of the risk to achieve an increase in the expected return has led to the consideration of performance measures. The Sharpe ratio is the first attempt to quantify the trade-off between risk and reward in investment under uncertainty. However, its underlying assumptions have been widely criticized (Lo, 2002). Alternative performance measures relax the strict assumptions of the Sharpe ratio (Sortino & Lee (1994), Zakamouline & Koekebakker (2009), Keating & Shadwick (2002)). In this paper we are concerned with one of these, namely the Omega ratio (Keating & Shadwick, 2002).The Omega ratio entails the partitioning of the returns into losses and gains in excess of a predetermined threshold and it is defined as the probability weighted gains by the probability weighted losses. For a formal definition please refer to Eq. (1). The Omega ratio can be simplified to the ratio of the expected return in excess of the threshold by the first order lower partial moment. In other words, the Omega ratio considers the first order lower partial moment as a risk measure.Lower partial moments have been already used as risk measures (Nawrocki (1999), Ogryczak & Ruszczynski (1999)). Unlike the variance, the first order lower partial moment can cope with skewed returns and therefore more suitable for real life applications. Empirical studies suggest that return distributions deviate significantly from the normal distribution, especially for commodities and alternative investments (Deaton & Laroque (1992), Brooks & Kat (2002)). In addition, the first order lower partial moment is linked with the second order stochastic dominance, which is based on the axiom of risk aversion (Ogryczak & Ruszczynski (2002a), Ogryczak & Ruszczynski (2002b)).Kapsos, Zymler, Christofides, and Rustem (2012) show that the optimal Omega ratio can be computed in polynomial time, using the fact that the Omega ratio is a quasiconcave function. This allows the study of more complex related issues. In theory, the Omega ratio can be used for any distribution of asset returns. Nevertheless, it assumes precise knowledge of the distribution. This is usually inferred from historical data or is specified by an expert. Unfortunately, the optimization of the Omega ratio can be severely biased and become over-optimistic when the probability distribution is only partially known, or corrupted by estimation errors.In the presence of uncertain input parameters, the Omega ratio maximization problem has many solutions; one solution for each possible realization of the uncertain input. In order to address the above, we employ robust optimization and adopt a worst-case approach based on the assumption that only partial information is known regarding the uncertain inputs (Ben-Tal & Nemirovski (1998), Tütüncü & Koenig (2004)). In other words, instead of using a single value for the input parameters, we assume that the realization of the input parameters will be within an uncertainty set. This worst-case approach of the framework provides an immunization against the worst-case scenario for all possible realizations of the uncertain input. More specifically, we establish the worst-case Omega ratio maximization under a mixture distribution with uncertain mixing probabilities, box and ellipsoidal uncertainties. These type of uncertainty specifications have been examined under CVaR optimization by (Zhu & Fukushima (2009)). We show that the problem remains tractable and can be solved in polynomial time.The rest of the paper is organized as follows. In Section 2, we show two methodologies that can be used to solve the standard Omega ratio maximization. In Section 3, we define the worst-case Omega ratio and show that its computation remains tractable under a mixture distribution with unknown mixing probabilities, ellipsoid and polyhedral uncertainty sets. Finally, in Section 4, we apply the worst-case Omega ratio maximization on artificial and market data.Consider an investor that faces the wealth allocation problem with n securities. We denote the current time as t=0 and t=T as the end of the investment horizon. The portfolio is characterized by a vector of weightsx∈X⊆Rn, whose components add up to 1. The element xidenotes the percentage of total wealth invested in the ithasset at time t=0. Let yidenote the random return of asset i and the ith element of the vectory∈Rn. The random return of a portfolio of assets is given byx⊤y. With f(yi) and F(yi) we denote the probability density and cumulative distribution functions, respectively.Keating and Shadwick (2002) define the Omega ratio as:(1)Ω(yi)=∫τ+∞[1-F(yi)]dyi∫-∞τF(yi)dyi,which can be simplified to(2)Ω(yi)=E(yi)-τE[τ-yi]++1,where τ a threshold that partitions the returns to desirable (gain) and undesirable (loss). The choice of the value for τ is left to the investor and can be set for example to be equal to the risk-free rate or zero. The Omega ratio is defined as the ratio of the area on the right of the threshold and above the cumulative distribution, over the area on the left of the threshold and below the cumulative distribution. We refer to Fig. 1to illustrate the intuition behind the Omega ratio.The Omega ratio makes use of the probability distribution of the underlying assets. Probability distributions can be classified into two major categories; continuous and discrete. A continuous probability distribution has no mass points, i.e. Pr(y=u)=0. In contrast, a discrete probability distribution is characterized by a mass function, i.e.∑uPr(y=u)=1.Under a continuous probability distribution the Omega ratio for a portfolio is defined as(3)Ω(x)=x⊤Ep(y)-τEp([τ-x⊤y]+)+1,whereas its discrete analog is(4)Ω(x)=x⊤(Y⊤π)-τπ⊤[τ1-(Yx)]++1,whereY∈RS×nthe matrix that contains the S sample returns for the n assets andπthe vector with the probabilities for each sample return.A reasonable criterion for an investor would be to hold the portfolio corresponding to the maximum Omega ratio. The Omega ratio has been used by a number of authors for portfolio construction in order to avoid the known limitations of the Sharpe ratio (Gilli, Schumann, Di Tollo, & Cabej (2011), Kane, Bartholomew-Biggs, Cross, & Dewar (2009), Passow (2005), Mausser, Saunders, & Seco (2006)). Kapsos et al. (2012) have proposed two alternatives for the Omega maximization problem. For the case of the continuous probability distribution, they propose the use of an Efficient Frontier approach, whereas for the discrete case they employ linear-fractional programming.According to Kapsos et al. (2012), the Omega maximization problem can be solved using the efficient frontier approach, i.e. by solving the following problem for different δ, evaluate the solutions and keep the solution with the maximum Omega ratio(5)maxxδ(x⊤Ep(y)-τ)-(1-δ)Ep([τ-x⊤y]+),(6)s.t.x∈X,whereXis a convex set that typically includes the budget constraint 1⊤x=1, upper and lower bounds on the weights, etc. The solution of the above sequence of problems yield the efficient Omega frontier. The portfolio with the optimal Omega ratio is given by the solution that corresponds to the maximum Omega ratio.When the underlying distribution is discrete, the Omega maximization problem can be written as follows(7)maxx,ux⊤(Y⊤π)-τπ⊤u,(8)s.t.u⩾τ1-Yx,(9)u⩾0,(10)1⊤x=1,(11)x̲⩽x⩽x¯,(12)x⊤(Y⊤π)⩾τ,where the auxiliary variableuis introduced to deal with the max-function.The above can be solved as linear program by employing linear-fractional programming (Kapsos et al. (2012), Mansini, Ogryczak, & Speranza (2003)). A change in the initial variables is needed, in order to formulate the problem the above as a linear program (Boyd & Vandenberghe, 2004). The auxiliary variablesuchanges to the new variablesqand its dimension is equal to the number of sample returns. The asset weightsxchange to the variablesw. The scalar z is a homogenization variable. The Omega ratio maximization problem becomes(13)maxw,q,zw⊤(Y⊤π)-τz,(14)s.t.π⊤q=1,(15)w⊤(Y⊤π)⩾τz,(16)q⩾τz1-Yw,(17)q⩾0,(18)1⊤w=z,(19)zx̲⩽w⩽zx¯,(20)z⩾0.The optimal solution of the optimization problem (7)–(12)x∗ is equal tow∗1⊤w∗.The optimization of the Omega ratio requires exact knowledge of the probability distribution of asset returns,y. This is usually estimated from historical data or specified exogenously. However, when this probability distribution is imprecise due to partial knowledge or estimation errors, the optimal solution can be biased and overoptimistic. To this end we introduce the worst-case Omega ratio, a robust variant of the original problem.Definition 1The worst-case Omega ratio (WCOR) for a fixedx∈Xwith respect to a set of probability distributions is defined as(21)WCOR(x)≡infp∈Px⊤Ep(y)-τEp([τ-x⊤y]+),and its discrete analoge as(22)WCOR(x)≡infπ∈Πx⊤(Y⊤π)-τπ⊤[τ1-(Yx)]+.where the density functions are only known to belong to a setPor Π of distributions.In the rest of the section we examine three types of uncertainties. First we consider the mixture distribution uncertainty where it is known that the underlying distribution is a mixture distribution with known continuous mixture components but unknown mixture weights. For this type of uncertainty we are employing the efficient frontier approach. Secondly, we consider the case of discrete distribution with ellipsoidal and box uncertainties. We show that we can obtain a tractable solution by employing the fractional linear solution for the Omega ratio maximization.Mixture models are used in robust statistics in modeling financial data distributions (Peel & McLachlan, 2000). A mixture distribution is defined as a convex combination of probability density functions, known as the mixture components. The weights associated with the mixture components are called mixture weights. In general, mixture distributions are considered to be flexible. For instance, a skewed distribution with two modes can be constructed out of two normal distributions (see Fig. 2). Marron and Wand (1992) show that any density function can be approximated arbitrarily close by a mixture of normal distributions. Hall, Brorsen, and Irwin (1989) suggest that mixture of normal distributions can be used to explain the fat-tails of commodity futures. Following the above, we assume that the distribution ofyis characterized by the mixture of a set of prespecified distributions with unknown mixture weights.LetΛ≡λ=(λ1,…,λl):∑i=1lλi=1,λ⩾0,i=1,…,l.Let the distribution ofybeing characterized by a mixture of a set of distributions with unknown mixing parameters such that(23)p(y)∈P=∑i=1lλipi(y):λ∈Λ,where λithe unknown mixture weight for the probability distribution pi(y). The robust strategy will be based on the unknown mixture weights.Since the underlying distribution is continuous, we employ the efficient frontier approach described in Section 2. The robust counterpart of (5) is(24)maxx∈Xminp∈Pδ(x⊤Ep(y)-τ)-(1-δ)Ep([τ-x⊤y]+).We define(25)Gi(x)=δ(x⊤Ep(y)i-τ)-(1-δ)Epi([τ-x⊤y]+).Given the uncertainty set (23) and (25) the problem (24) becomes(26)maxx∈Xminλ∈Λ∑λiGi(x),(27)⇔maxx∈XminiGi(x),since (26) is concave inxand affine in λ.The above discrete maxmin optimization problem is equivalent to(28)maxx∈X,θ∈Rθ:Gi(x)⩾θ,∀i=1,…,l.Therefore, under the mixture distribution uncertainty the optimization problem (24) becomes(29)maxx∈X,θ∈Rθ:δ(x⊤Ep(y)i-τ)-(1-δ)Epi([τ-x⊤y]+)⩾θ,∀i=1,…,l.In order to obtain the portfolio with the maximum worst-case Omega ratio, the above problem needs to be solved for different values of δ. A simple algorithm is provided below.Algorithm 1Find maximum worst-case Omega ratio1: Setδ=0, wcor=−∞,x∗=02: Whileδ⩽13:Solve(29) and getxcandidate4:SetminOR=min{Omega ratio for each distribution}5:ifminOR>wcor6:wcor=minOR,x∗=xcandidate7:δ=δ+step8: Return x∗, wcorIn this subsection, we consider the case whereyis governed by a discrete distribution. We assume that the nominal (expected) discrete distribution is given. We investigate the cases, where uncertainty is characterized in terms of a box (hyper-rectangle), or an ellipsoid.LetY∈RS×nbe characterized by the discrete distribution such thatY⊤={y1,…,yS} with Pr{yk}=πkand∑k=1Sπk=1,πk⩾0, k=1, …, S andπ=(π1,π2,…,πS)⊤. Letπ∈Π to be uncertain, following by the linear-fractional programming solution (13)–(20) and the worst-case Omega ratio definition (22) then the worst-case Omega ratio is given by(30)maxθ,w,q,zminπθ,(31)s.t.(Yw)⊤π-τz⩾θ,(32)π⊤q=1,(33)q⩾τz1-Yw,(34)q⩾0,(35)1⊤w=z,(36)zx̲⩽w⩽zx¯,(37)θ,z⩾0.In this subsection, we assume that the nominal/expected probability and the upper and lower bounds are known. Therefore this box uncertainty is specified by the following set(38){π=π¯+ε,1⊤ε=0,ε̲⩽ε⩽ε¯},whereπ¯the nominal/expected probability vector, andεthe deviation from the expectation. The constraint 1⊤ε=0 ensures thatπremains a probability distribution for all possible realizations ofε. Under this specification, the constraints (31) and (32) become(39)(Yw)⊤π¯+(Yw)⊤ε-τz⩾θ,(40)π¯⊤q+ε⊤q=1.For fixed θ,w,q, z the problem (30)–(37) is minimized when(41)minε{(Yw)⊤ε:ε⊤q+π¯⊤q=1,1⊤ε=0,ε̲⩽ε⩽ε¯}.The dual of the above can be written as (see Appendix A)(42)maxμ1,μ2,ν1⩽0,ν2⩽0-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲:Yw+μ1q+μ21+ν2=ν1.Therefore the minmax optimization problem (30)–(37) can be written as(43)maxθ,w,q,z,μ1,μ2,ν1,ν2θ,(44)s.t.(Yw)⊤π¯-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲-τz⩾θ,(45)Yw+μ1q+μ21+ν2=ν1,(46)q⩾τz1-Yw,(47)q⩾0,(48)1⊤w=z,(49)zx̲⩽w⩽zx¯,(50)θ,z⩾0,(51)ν1,ν2⩽0.Therefore, under box uncertainty the Omega ratio maximization remains a linear program.Another commonly used type of uncertainty is the ellipsoidal uncertainty. Assume thatπcan vary in an ellipsoid, i.e.π∈Π≡{π=π¯+Aε,1⊤Aε=0,π¯+Aε⩾0,‖ε‖⩽1}where ∥ε∥ is theL2norm,π¯is the nominal/expected probability and the center of the ellipsoid, andA∈RS×Sis the scaling matrix of the ellipsoid. As with the box uncertainty, the remaining conditions follow fromπbeing a probability distribution. Under this specification of the uncertainty set, the constraints (31) and (32) become(52)(Yw)⊤π¯+(Yw)⊤Aε-τz⩾θ,(53)π¯⊤q+(Aε)⊤q=1.For fixed θ,w,q, z the problem (30)–(37) is minimized when(54)minε{(Yw)⊤Aε:ε⊤q+(Aπ¯)⊤q=1,1⊤Aε=0,π¯+Aε⩾0,π¯+Aε⩾0}.The dual of the above can be written as the following second-order cone program (see Appendix B)(55)maxμ1,μ2,ν1,ν2μ1(Aπ¯)⊤q-μ1-ν1⊤π¯-ν2:ξ=-A⊤Yw-μ1q-μ2A⊤1+A⊤ν1,‖ξ‖⩽ν2,ν1⩾0.Strong conic duality guarantees the zero duality gap if the programs (54) and (55) have interior feasible points (Lobo, Vandenberghe, Boyd, & Lebret (1998), Boyd & Vandenberghe (2004)).Therefore the minmax optimization problem (30)–(37) can be written as(56)maxθ,w,q,z,μ1,μ2,ν1,ν2θ,(57)s.t.(Yw)⊤π¯-μ1+μ1(Aπ¯)⊤q-ν1⊤π¯-ν2-τz⩾θ,(58)-A⊤Yw-μ1q-μ2A⊤1+A⊤ν1=ξ,(59)q⩾τz1-Yw,(60)q⩾0,(61)1⊤w=z,(62)zx̲⩽w⩽zx¯,(63)‖ξ‖⩽ν2,(64)θ,z⩾0,(65)ν1⩽0.Under this type of uncertainty, the Omega ratio maximization becomes a Second-Order Cone Program (SOCP) and can be solved in polynomial time.The choice of the uncertainty set is central in robust optimization. The modeller needs to choose between different alternatives for modeling the uncertainty and determine the uncertainty set. Different uncertainty sets may lead to significantly different decisions. The modeller also needs to consider the trade-off between robustness and performance. Larger uncertainty sets may result in pessimistic strategies, possibly leading to poor out-of-sample performance, in the absence of extreme realisations of the uncertainty. Smaller uncertainty sets lead to loss in robustness. The modeller needs to consider the features of the problem to specify an appropriate uncertainty set.Under mixture distribution uncertainty, the modeller has to determine the mixture components. This can be specified exogenously, or based on the analysis of historical data using different subsets. A partitioning of the dataset would result in different parameters for the same type of distribution (e.g. normal distribution with differentμand Σ). A third alternative is to identify periods with different behavior for the underlying assets and use the historical data as samples for computing the expectation. We employ the latter alternative in the application discussed in Section 4.For the case of the box uncertainty we assume that the nominal distribution and thus theπ¯∈RSis known. The upper and lower bound can be chosen asε̲j=max{π¯j-γmax{|π¯j-π¯i|},0}andε¯j=max{π¯j+γmax{|π¯j-π¯i|},0},where γ a non-negative number. We note that the solution becomes more conservative as γ increases. When a set of possible distributions is also given (i.e.πi∈RS, ∀i=1, …, m) the bounds can be chosen asε̲j=γmaxi=1,,mπ¯j-πjiandε¯j=γmaxi=1,,mπji-π¯j.The ellipsoidal uncertainty is in general harder to specify. The special case of a diagonal A matrix is possible where the ith diagonal specifies the estimate for the probability of πj. If all πjhave equal probability ρ, the ball uncertainty is{π:‖π-π¯‖⩽ρ}and the value of ρ can be specified asρ=δmaxi=1,…,m{πi-π¯}.It is important to note that the box uncertainty is in general more conservative than the ellipsoidal uncertainty. In Fig. 3, the box containing all points in the ellipsoid is a bigger set than the ellipsoid. The difference between the uncertainty sets is magnified as the dimensionality increases, especially for a large number of dimensions where the ’mass’ of the set lies in an area in the neighborhood of the bounds.In this section, we consider the worst-case Omega ratio application under mixture distribution uncertainty. Initially we apply the methodology on artificial data and we illustrate the plausible features of the robust approach. In the last part of this section we apply the methodology on real data and we compare its out-of-sample performance with the nominal Omega ratio maximization. In both cases, we are using the discrete analog of (28), i.e.(66)maxθ,(67)s.t.δ(x⊤μi-τ)-(1-δ)1Si1⊤ui⩾θ∀i=1,…,l,(68)ui⩾τ1-Yix∀i=1,…,l,(69)ui⩾0∀i=1,…,l,(70)0⩽x⩽1,(71)1⊤x=1,whereμithe vector with the expected returns for the ith mixture component, Sithe number of samples from the ith mixture component,uian auxiliary variable introduced to linearize the max function in (28) andYithe Si×n matrix that contains the sample returns from the ith distribution for the n assets.In this subsection, we apply the methodology described in Section 3.1 on artificial data. We examine the case with three assets and three mixture components. The data have been generated randomly. Table 1shows some descriptive statistics of the dataset. We solve the optimization problem (66)–(71) in two different set-ups. First we solve the problem assuming three mixture components. The results are presented in Fig. 4on the top left panel. The dots show the worst-case Omega for each value of δ. The circle shows the maximum worst-case Omega ratio. For each value of δ we evaluate the solution obtained from problem (66)–(71) for each mixture component. The corresponding Omega ratio is shown by the three lines on the top left panel. Second, for each mixture distribution we also solve the problem (66)–(71). Note that for l=1 this optimization problem is equivalent to the non-robust variant. In all cases, the threshold τ=3%. These results are presented in the rest three panels of Fig. 4.This example highlights some interesting features of the robust optimization problem. On the optimal solution, the constraint (67) is binding for more than one distribution. We also observe the effect of solving the problem simultaneously for all possible distributions. Solving the problem for each distribution individually and then keep the worst solution is an overoptimistic approach. For example, among the three distributions, distribution 1 yields the lowest maximum Omega. In this case the Omega ratio is about 2.05. However, if the second or third distribution realize, the Omega ratio of the optimal portfolio under distribution 1 will yield an Omega ratio of 1.45 and 1.72, respectively. On the other, the robust formulation guarantees that the Omega ratio will be at least 1.87. We also note that for each value of δ the Omega ratio for each distribution individually is higher than the corresponding Omega ratio under the robust setup.In this section, we evaluate and compare the worst-case Omega ratio under mixture distribution uncertainty, and the nominal (non-robust) Omega ratio maximization. For this application, we use publicly available data from Yahoo finance. We consider the problem with three Exchange Traded Funds (ETFs), spanning three asset classes (Table 2). For the equity asset class, we are using SPY; an ETF that tracks the performance of S&P500. S&P500 is the most common equity index and is often used as a benchmark for the developed equities. The fixed income asset class is represented by IEF; an ETF that tracks the performance of the US Government bonds with maturities between 7 and 10years. Finally, we use GLD, an ETF that provides exposure to physical gold. Despite the small number of assets in our sample, our universe can be considered well diversified since these underlying assets tend to have low correlation on the long-run. Equities and Bonds reward the investors during the booming markets and distressed periods, respectively. Gold acts as a “safe haven” asset in periods of uncertainty, especially when central banks print more money. Table 3illustrates some descriptive statistics for the underlying assets.The dataset we consider contains the daily values of the three ETFs for all common trading days. A trading day is any day for which the relevant ETF is trading. The dataset spans the period from November 2004 to October 2012. Its length is limited due to data availability for the gold ETF. All the statistics and the results presented here cover the period from February 2005 to October 2012, since the first 3months are used for calculating the first portfolio.For the period under consideration, the equity ETF has the lowest return, but in the same time the highest volatility (as measured by the standard deviation), maximum drawdown and maximum CVaR. The gold ETF yielded the highest return in both absolute and risk adjusted terms as measured by the Sharpe and Omega ratios. For the same period, the bond ETF returned twice the return of the equity ETF, with a significant lower risk as measured by the volatility, kurtosis, maximum drawdown, VaR and CVaR. These features of the dataset highlight the “abnormality” of the period under examination. While equity ETF is the riskiest, it does not yield the highest return. This interesting period is a good stress-test for the Omega ratio maximization framework.

@&#CONCLUSIONS@&#
The standard formulation for the Omega ratio optimization can be overoptimistic when the probability distribution is not known precisely, or if it is corrupted by estimation errors. In this paper, we have introduced a robust variant for the Omega ratio maximization problem. Three different types of uncertainty are considered in the paper. These are mixture distribution uncertainty, box uncertainty, and ellipsoidal uncertainty. The computation of WCOR remains tractable and can be solved in polynomial time, for all these three different specifications for the uncertainty set.The numerical results emphasize the characteristics of the robust variant. On the optimal solution more than one distribution might be binding. In addition, the solution is overoptimistic if the problem is solved for each candidate distribution individually. The robust approach provides a worst-case guarantee as a lower bound for the Omega ratio of the portfolio.The empirical study clearly supports the mathematical evidence. We considered the case where the optimal portfolio is rebalanced monthly during a long period characterized by unstable returns, large drawdowns and rapid changes in the risk of the underlying assets. The out-of-sample performance of the proposed framework is promising. The most interesting finding of the empirical study is that the robust framework is associated with a positive premium. While the computational complexity of the robust variant is not significantly higher, the risk adjusted return was found to be considerably higher.Let(72){π=π¯+ε,1⊤ε=0,ε̲⩽ε⩽ε¯},whereπ¯the nominal/expected probability vector, and ε the deviation from the expectation.Then constraints (31) and (32) become(73)(Yw)⊤π¯+(Yw)⊤ε-τz⩾θ,(74)π¯⊤q+ε⊤q=1.For fixed θ,w,q, z the problem (30)–(37) is minimized when(75)minε(Yw)⊤ε,(76)s.t.ε⊤q+π¯⊤q=1,(77)1⊤ε=0,(78)ε̲⩽ε⩽ε¯.The Lagrangian of the above is(79)L(·)=(Yw)⊤ε+μ1(q⊤ε-1+π¯⊤q)+μ2(1⊤ε)-ν1⊤(ε-ε¯)-ν2⊤(-ε+ε̲),(80)=(Yw+μ1q+μ21-ν1+ν2)⊤ε-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲,where μ1, μ2,ν1⩽0,ν2⩽0 the Lagrangian multipliers.Writing the above as a saddle point problem, we have(81)minεmaxμ1,μ2,ν1⩽0,ν2⩽0(Yw+μ1q+μ21-ν1+ν2)⊤ε-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲,(82)=max-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲forYw+μ1q+μ21+ν2=ν1∞otherwise.Using strong duality, this can be written as(83)maxμ1,μ2,ν1⩽0,ν2⩽0-μ1+π¯⊤q+ν1⊤ε¯-ν2⊤ε̲:Yw+μ1q+μ21+ν2=ν1.Let(84){π=π¯+Aε,1⊤Aε=0,π¯+Aε⩾0,‖ε‖⩽1},whereπ¯the nominal/expected probability vector and the center of the ellipsoid,A∈RS×Sthe scaling matrix of the ellipsoid, and ε the deviation from the expectation.Then constraints (31) and (32) become(85)(Yw)⊤π¯+(Yw)⊤Aε-τz⩾θ,(86)π¯⊤q+(Aε)⊤q=1.For fixed θ,w,q, z the problem (30)–(37) is minimized when(87)minε(Yw)⊤Aε,(88)s.t.ε⊤q+(Aπ¯)⊤q=1,(89)1⊤Aε=0,(90)π¯+Aε⩾0,(91)‖ε‖⩽1.The dual function of the above is(92)g(·)=∈fε((Yw)⊤Aε+μ1(ε⊤q+(Aπ¯)⊤q-1)+μ21⊤Aε+ν1⊤(-π¯-Aε)+ν2(‖ε‖-1)),(93)=μ1(Aπ¯)⊤q-μ1-ν1⊤π¯-ν2+∈fε((Yw)⊤Aε+μ1ε⊤q+μ21⊤Aε-ν1⊤Aε+ν2‖ε‖).If ν2=0 then g→−∞. Therefore ν2>0. The conjugate of the above is(94)=μ1(Aπ¯)⊤q-μ1-ν1⊤π¯-ν2-ν2supε1ν2-(Yw)⊤Aε-μ1ε⊤q-μ21⊤Aε+ν1⊤Aε-ν2‖ε‖.Let f0(x)=∥x∥, then its conjugate isf0∗(y)=supx(y⊤x-‖x‖).From the conjugate duality(95)f0∗(y)=0for‖y‖⩽1,∞otherwise.From the above it follows that(96)=maxμ1(Aπ¯)⊤q-μ1-ν1⊤π¯-ν2for1ν2(-A⊤Yw-μ1q-μ2A⊤1+A⊤ν1)⩽1,∞otherwise.whereν1⩾0, ν2>0.Letξ=−A⊤Yw−μ1q−μ2A⊤1+A⊤ν1, then the dual of (54) is(97)maxμ1,μ2,ν1,ν2μ1(Aπ¯)⊤q-μ1-ν1⊤π¯-ν2:ξ=-A⊤Yw-μ1q-μ2A⊤1+A⊤ν1,‖ξ‖⩽ν2,ν1⩾0.