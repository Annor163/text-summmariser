@&#MAIN-TITLE@&#
Stable and fast techniques for unambiguous compound phase coding

@&#HIGHLIGHTS@&#
We propose a novel phase coding schema for structured light applications.Our approach is accurate and robust to noise even with few projected patterns.The trade-off between accuracy and number of patterns can be adjusted.Results are validated by an extensive set of experiments.

@&#KEYPHRASES@&#
Structured light,3D reconstruction,Phase shift,

@&#ABSTRACT@&#
Graphical abstract

@&#INTRODUCTION@&#
The main challenge for any triangulation-based surface reconstruction technique is the assignment of reliable correspondences between features observed by two or more different points of view. Given the central role of this problem, many and diverse strategies have been proposed in literature over the past few decades [1]. When a sparse reconstruction is adequate, correspondences can be searched and tracked among repeatable features readily present in the scene, such as corners or edges. Unfortunately, in general it is not possible to guarantee that the same features are extracted from each image, or that the feature density is sufficient. Hence, complementary techniques, usually based on photometric correlation, are used to obtain an approximate reconstruction of the scene depth map. Other systems overcome these limitations as they do not rely on natural features, but instead use projected patterns of light in order to find correspondences that are usually as dense as the pixels of each image [2]. Such techniques can be much more accurate than feature-based approaches and have received particular attention from scientific and engineering communities in the fields of optics, metrology and computer science. Further, structured light approaches can be used almost unchanged in single camera systems, by calibrating the camera and the projector.The main idea behind 3D reconstruction based on projected light is that of assigning unique codes to surface points by modulating the intensity of a light projected onto the object. These codes are used to extract correspondences between points in different views, which can then be triangulated to obtain depth estimates. To this end, several patterns are projected onto the scene in such a way that each point has a unique sequence of intensity values. These sequences are then decoded to obtain the point's identity. The main issue in structured light approaches is the design of projection schemes that allow for robust and precise decoding, possibly with subpixel accuracy, using the smallest number of patterns possible while still guaranteeing reliable measurements. Such an endeavor has direct application in scenarios were fast or even real-time acquisition is needed.In this work we propose novel coding strategies that encode point location with subpixel accuracy. To this end we split the encoding and decoding phases into two steps: the first, called phase coding/decoding, maps the projector coordinate into a vector of values each with limited range, and the second, called pattern generation, encodes the vectorial phase values onto physical quantities of the projected patterns.Phase coding strategies map the projector coordinate u into several wrapped phase values ϕi(u)∈[02π) quantized into λiangular values. The coding strategy has to be invertible so that the projector coordinate can be recovered uniquely from the phase vectorϕ→u=ϕ1u,…,ϕnu; further, in order to extract correspondences with subpixel precision, the map must be continuous, i.e., it should be able to encode and uniquely decode non-integral projector coordinates. On the other hand, the pattern generation step encodes the phase vectorϕ→uas observable physical quantities of the time series fu(t) of the projected light intensity.The contribution of this paper is twofold. First, we propose and analyze two novel pattern generation methods (compound and subpattern) that allow to significantly reduce the number of projected patterns. Both schemes encode the phase vector as phases in a time-varying sinusoidal pattern: One simply encodes each coordinate in a separate subsampled sine wave, while the other encodes the whole vector as phases of the Fourier transform of the time-varying pattern. The second contribution is the introduction of a novel encoding technique which adopts a fine-to-coarse strategy allowing for smaller quantization at the fine level to increase precision, and larger quantization at the coarse level to reduce the total number of phases to be encoded. With the addition of a coding strategy derived from [3], we analyze a total of four different encoding schemes. Fig. 1shows examples of the patterns generated with the four schemes. The two rows show the pattern generation methods, while the columns show the coding strategies, with number-theoretic referring to the scheme derived from [3], and algebraic the newly proposed scheme.The number-theoretic scheme presented in [3] uses period co-primality to map the phase vector onto a larger linear range. In particular, it projects sinusoidal patterns whose wavelengths are mutually co-prime, thereby allowing to deduce the overall position from the detected remainders. For example, we can encode 990 projector columns with three sinusoidal patterns of periods 9, 10, and 11 respectively. This way, column 382 will be encoded as phase 382mod 9=4 on the first sinusoid, phase 382mod 10=2 on the second, and phase 382mod 11=8 on the last sinusoidal wave.The algebraic approach we are proposing, on the other hand, adopts a hierarchical fine-to-coarse encoding which can selectively assign a larger number of samples to the low order representation to improve encoding precision. In this scheme we project different patterns each encoding one digit of the overall position. Thus, following the previous example, we can encode 1000 projector columns with three sinusoidal patterns each of period 10, and column 382 will be encoded as phase 382mod 10=2 on the first sinusoid, phase 382/10mod 10=8.2 on the second, and phase 382/100mod 10=3.82 on the last sinusoidal wave. The decimal part of each digit in the phase vector is maintained to ensure higher precision in the reconstruction.By changing the range of the phase vectors and the parameters of the pattern generation scheme, we can devise schemes with controllable number of patterns, either reducing them for fast reconstruction, or increasing them to either increase precision in low noise conditions or improve robustness to noise when the signal to noise ratio is low.In conjunction the two contributions result in a coding strategy that can be tuned to be either more precise or more robust than the state-of-the-art for any fixed (small) number of projected patterns.The rest of the paper is organized as follows: the next section presents a review of the literature of range measurement by projected light; Section 3 introduces and analyzes the pattern generation strategies requiring a controllable number of projected patterns; following, Section 4 introduces a novel encoding scheme and Section 5 presents some experimental evaluation of the proposed coding schemes. Finally, Section 6 draws some conclusions.

@&#CONCLUSIONS@&#
We have proposed a new fine-to-coarse phase encoding strategy that allows us to achieve high precision and noise robustness with a small number of patterns by applying a coarser angular quantization at the finest level and a finer one at higher levels, and provide a robust estimation approach allowing the recovery of the projector coordinate with subpixel precision. Further, we have introduced two novel pattern generation strategies that encode multiple phases with a small number of projected patterns and allow to selectively invest more patterns of signaling band to more critical phases. The proposed approaches have been analyzed and compared with the state-of-the-art, showing that they are at the same time more precise and robust with a high level of noise, not having any significant drawback for low noise levels. In particular, the experiments show that the number-theoretic approach in conjunction with the subpattern generation strategy should be preferred when using a large number of patterns, while the same number-theoretic approach does not perform very well with the compound pattern as proposed in [21] that suffers from a relatively high sensitivity to noise. By contrast, the algebraic technique can be used effectively even when projecting a number of patterns close to the Nyquist limit, allowing for a strong reduction in reconstruction time. While the subpattern strategy is still the most robust of the proposed pattern generation strategies, the compound strategy still works relatively well with the algebraic technique in conditions with high signal-to-noise ratio, allowing for good reconstructions with the minimal number of projected patterns.