@&#MAIN-TITLE@&#
Coronary artery disease risk assessment from unstructured electronic health records using text mining

@&#HIGHLIGHTS@&#
Developed a rule-based text mining system to identify Framingham risk factors required for predicting coronary artery disease.Discussion on performance of the text mining system.Applied a systematic approach to understand missing data and subsequently chose appropriate imputation strategies.Analysis of 10-year Framingham risk scores for coronary artery disease development in a cohort of diabetic patients.Challenging issues in applying text mining in a clinical setting.

@&#KEYPHRASES@&#
Coronary artery disease,Text mining,Framingham risk score,Temporal data,EHR,

@&#ABSTRACT@&#
Coronary artery disease (CAD) often leads to myocardial infarction, which may be fatal. Risk factors can be used to predict CAD, which may subsequently lead to prevention or early intervention. Patient data such as co-morbidities, medication history, social history and family history are required to determine the risk factors for a disease. However, risk factor data are usually embedded in unstructured clinical narratives if the data is not collected specifically for risk assessment purposes. Clinical text mining can be used to extract data related to risk factors from unstructured clinical notes. This study presents methods to extract Framingham risk factors from unstructured electronic health records using clinical text mining and to calculate 10-year coronary artery disease risk scores in a cohort of diabetic patients. We developed a rule-based system to extract risk factors: age, gender, total cholesterol, HDL-C, blood pressure, diabetes history and smoking history. The results showed that the output from the text mining system was reliable, but there was a significant amount of missing data to calculate the Framingham risk score. A systematic approach for understanding missing data was followed by implementation of imputation strategies. An analysis of the 10-year Framingham risk scores for coronary artery disease in this cohort has shown that the majority of the diabetic patients are at moderate risk of CAD.

@&#INTRODUCTION@&#
Coronary artery disease (CAD), also known as coronary heart disease, is a leading cause of death worldwide [1,2]. CAD is caused by accumulation of plaque in the coronary arteries. Severe blockage of the coronary arteries by plaque can lead to myocardial infarction, which can be fatal. CAD is the most common type of heart disease observed in the general population and the incidence of CAD is rising globally [3]. The costs involved in managing CAD are significantly high, creating an enormous burden on healthcare systems worldwide. Thus, it is important to predict patients at risk of CAD. CAD prediction can assist clinicians to provide early intervention and consequently prevent the development of CAD [4]. CAD risk assessment is part of various national and international clinical guidelines [3,5,6]. The risk assessment is usually done with the help of scoring systems. There are various CAD risk scoring systems available and some of them are specifically modeled for a particular group of patients. The Framingham risk score (FRS) is one of the most popular and well-accepted risk scores to predict CAD. FRS was developed as part of the Framingham heart study. One of the aims of this study is to develop predictive models to estimate probabilities of developing various cardiovascular and/or cerebrovascular diseases [7]. The FRS for CAD provides the probabilities of individuals, aged 30–74years, to develop CAD. The prediction made with this particular model is valid for 4–12years. FRS for CAD is calculated using risk factors: age, gender, total cholesterol, or low-density lipoproteins cholesterol (LDL-C), high-density lipoproteins cholesterol (HDL-C), blood pressure (BP), diabetes history and smoking history [8].With the rapid adoption of electronic health record (EHR) systems, most of the data from patients are stored in electronic format. Necessary data is difficult to obtain in retrospective research studies because the data is scattered across various systems in different formats. Often the risk factor data required for determining FRS are buried in unstructured discharge summary clinical notes. This leads to a problem since most FRS calculators available online require manual input of structured data [9,10]. Entering data manually for a single patient is no trouble but it could be time consuming when this is done for thousands of patients. Extracting the required risk factor data and calculating FRS manually from unstructured EHRs, can be very expensive and resource intensive. Clinical text mining can be used to extract relevant unstructured data and convert it into structured data which can then be used to calculate the FRS.In this study, we present methods to calculate the FRS from unstructured EHRs using clinical text mining. We retrospectively calculated the 10-year CAD risk scores for a cohort of diabetic patients. Similar studies reporting CAD or cardiovascular risk assessment using EHR data can be found in the literature [11–14]. While these studies provide comprehensive risk models for identifying diabetic patients at risk of CAD, most of the studies used structured data collected specifically for CAD risk assessment. On the other hand, CAD risk assessment using unstructured EHR data has not been well discussed and, to the best of our knowledge, there have not been any studies for calculating FRS for CAD using text mining. The main objective of this study is to demonstrate the feasibility of assessing the risk of CAD from unstructured EHRs using clinical text mining. Specifically, this work presents a system to extract necessary information from unstructured EHRs needed to calculate the FRS. Additionally, the study aims to understand the distribution of calculated FRS in diabetic patients. It is hypothesized that patients who develop CAD will have higher FRS as compared to the ones who do not develop CAD.Unstructured EHRs (from here on referred to as corpus) were obtained from the i2b2 2014 shared task 2 which deals with identifying risk factors for heart disease over a period of time [15]. The corpus is de-identified and specifically annotated for heart disease risk factors [16]. The corpus also contains valuable temporal information (up to five encounters) like demographics, medical history, medication and allergies, immunization status, laboratory test results, radiology images, vital signs, personal statistics such as age and weight, and billing details. The corpus includes 1304 unstructured EHRs from 296 diabetic patients. The 296 diabetic patients are stratified into three groups based on when they developed coronary artery disease (CAD). The three groups are: (i) patients who develop CAD over a period of time, (ii) patients who do not develop CAD and (iii) patients who have already been diagnosed with CAD. Although the EHRs were de-identified, the time progression was maintained in the form of adjusted dates. The time between the first and last record for patients was calculated to understand the length of their medical history (Appendix A).Fig. 1demonstrates the steps carried out to calculate the 10-year FRS for CAD. All the risk factors required for calculation of 10-year CAD FRS were extracted using a text mining system specifically developed for this study. An error analysis was conducted to understand the output obtained from the text mining system. Cohort selection was performed to determine patients eligible for calculating FRS. Systematic assessment was carried out to understand the quality of data. Various imputation strategies were employed to address missing data. Following the imputations, the 10-year CAD FRS was calculated for eligible patients. Finally, analysis was performed on eligible patients by stratifying them according to their CAD status. The key steps involved in the workflow are explained in the following sections.The system developed for determining coronary artery disease risk scores (Fig. 2) is an extension to our work for i2b2 2014 shared task track 2 [17,18]. The developed system consists of three major components, namely FRS risk factor extraction component I, FRS risk factor extraction component II and post-processing component. The first two components include sub-components. FRS risk factor extraction component I and post-processing component were specifically developed for this study. Unstructured EHRs were processed through FRS risk factor extraction component I and II at the same time. After which the output was passed to the post-processing component for further processing.FRS risk factor extraction component I and its sub-components were developed using Apache Ruta, a scripting language based rules engine. Rules were implemented to recognize mentions, abbreviations, punctuations and specific terms that imply age, gender, total cholesterol and HDL-C. For example, in a record with phrase ‘63 yo ’, the value 63 is extracted and implied as age based on abbreviation ‘yo’ which stands for ‘years old’. Rule-based FRS risk factor extraction component II and its sub-components were also based on Apache Ruta. This component extracts information regarding patient smoking history and BP values. A custom-built dictionary of smoking terms was used to identify smoking history. Similarly, to extract systolic blood pressure (SBP) and diastolic blood pressure (DBP) values pattern-matching rules were used. Post-processing involved filtering records based on rules. For example, rules were developed to remove records, which do not contain age and gender information. This component also assigns diabetes history for the patients in cohort. Since the corpus only includes those patients who are diagnosed with diabetes, the component assigned diabetes history as present for all patients. This component was also responsible to identify patients in the corpus eligible for the 10-year CAD FRS calculation. The output from this component are values for Framingham risk factors (age, gender, total cholesterol, HDL-C, BP, smoking history and diabetes history) in structured format.The medical history of the patients from the corpus was spread out over different periods. Some patients had data recorded for all five encounters over just a single year, whereas some patients had data recorded over a span of 17years. However, the majority of the patients (over 90%) had medical history spread over a 5-year period. It was also noticed that each patient had only one EHR per encounter throughout the corpus. CAD FRS is applicable only to patients who have not been diagnosed with CAD at the time of risk score calculation [8]. Patient records, recorded after development of CAD or already diagnosed with CAD, were eliminated. Data from subsequent encounters after development of CAD were also deleted. This reduced the cohort from 296 to 192 patients. Another condition for FRS calculation is that the patient must be within the age of 30–74years old. Patients were removed who did not fall under this age group. This further reduced the cohort from 192 to 164 patients. The 164 patients were then categorized into two groups – group 1 and group 2. Group 1 included 78 patients who developed CAD over a period of time, while Group 2 included 86 patients who did not develop CAD according to available records (Fig. 3). The whole cohort selection process takes place in the post-processing component of the clinical text mining system.Patient records belonging to the encounters where age is not within the range of 30–74years old were deleted. For example, if a patient with five records (from five encounters) had age recorded as 75years in third encounter, then records from encounter three, four and five were deleted. In other words, only risk factor information or values from encounter one and two were considered for the FRS calculation.It was noticed that a number of risk factors had missing data, which was required to calculate CAD FRS from the final cohort. A systematic data quality assessment was carried out on the data extracted from the final cohort to understand missing data patterns. The assessment included calculating the percentage of missing risk factor data at the encounter level, categorized by group 1 and group 2. The most common way to handle missing data is to exclude or discard the data. However, discarding the data can create biased estimates and can significantly reduce the cohort size. Three imputation strategies were selected based on previous studies where a strategy has been effective in calculating the FRS [19–21]. Table 1summarizes the imputation strategies employed based on the percentage of missing risk factor data. All three imputation strategies were applied at cohort level. A single imputation strategy for all missing variables might not be effective in situations where missing patterns vary. Thus, we employed three different imputation strategies based on the percentage of missing risk factor data to balance uncertainty in estimating FRS. Strategy 1 and Strategy 2 were applied when missing data is less than 10% because both strategies are single imputation methods and they ignore relationships between variables which is acceptable when minimal data is missing. Strategy 3 (multiple imputations) is employed where missing data is greater than 10%. Multiple imputations [22] involve creating multiple copies of dataset with imputed values. Each imputed copy is further analyzed using a standard method like regression or ANOVA. The resulting values from analyses are merged to obtain final values. The data quality assessment and imputation techniques were carried out using R statistical software.A standalone java-based calculator was developed to calculate the 10-year CAD FRS using FRS risk factors – age, gender, SBP, DBP, smoking history, total cholesterol and HDL-C values. The calculator assigns points for each risk factor and calculates the final 10year CAD FRS from the total points [8]. CAD risk scores were calculated separately for men and women. The calculator assigns points based on the Framingham point table starting from age followed by other risk factors.The imputed data from the data quality assessment and imputation step is programmatically passed to the calculator to obtain the 10-year CAD FRS for patients. As the corpus consists of temporal records for each patient, risk factor data required to calculate FRS is spread over multiple encounters for most patients. To address this issue, risk factor values across all encounters were carried forward. For example, if a patient is eligible for FRS calculation at his/her third encounter and HDL-C value is not available, then the HDL-C value recorded from his/her second encounter (if available) was used to calculate the FRS. However, if the HDL-C value was missing in all eligible encounter records, then the values were imputed based on the imputation strategies described above. Similarly, if a patient is a smoker at any given encounter he/she was considered a smoker for all encounters. FRS based on all the risk factors was calculated individually for each imputed dataset. Once the score was calculated for all the imputed datasets, the average of the scores across all the imputed datasets was computed to get the final FRS for a patient. Statistical analysis was carried out to compare the adjusted FRS means and medians for groups 1 and 2. Furthermore, the groups were also classified into three categories based on the final FRS scores. The 10-year CAD risk is considered low if the FRS is <10%, moderate if the FRS is in 10–20% range, and high if the FRS is >20% [23]. We also tested whether the patients who developed CAD over a period had higher FRS when compared to those who did not develop CAD. To validate, FRS for 20 patients were manually calculated using worksheets from the Framingham heart study [8]. All missing data in manual calculations were imputed using strategy 1.

@&#CONCLUSIONS@&#
