@&#MAIN-TITLE@&#
Parallel distributed compensator design of tank level control based on fuzzy Takagi–Sugeno model

@&#HIGHLIGHTS@&#
Design a fuzzy controller is designed based on parallel distributed compensation (PDC) method.Implement PDC in an experimental tank level control system.Design three PI controllers using Skogestad's method.Compare results of the PDC-controller with the classical PI-controller.

@&#KEYPHRASES@&#
Parallel distributed compensation (PDC),Fuzzy controller,Level control,PI controller,

@&#ABSTRACT@&#
In this paper, a fuzzy controller is designed based on parallel distributed compensation (PDC) method and it is implemented in an experimental tank level control system. Firstly, a mathematical model of the system is obtained experimentally. An important feature of the plant is its nonlinearity. To control the level of water in the tank over the whole range, the nonlinear model of the system is linearized around three different operating points. Then, three PI controllers are designed for the operating points, using Skogestad's method. By using the PDC method, an overall fuzzy controller is designed by the fuzzy blending of the three PI-controllers. To evaluate the practical performance of the PDC-based fuzzy controller, the control system is implemented in the experimental system. The evaluation criteria considered are step response and disturbance rejection. The comparison results showed the superiority of the PDC-controller over the classical PI-controller.

@&#INTRODUCTION@&#
Liquid level control has a variety of applications in industry. The control of liquid levels, for example in a process tank, is an important function. An example would be a hot water tank where water is removed, perhaps for washing down, and the level needs to be restored ready for the next wash cycle.In this regard, some benchmark level control systems have been developed in literature, e.g., one, three [1] and four tank [2] systems. Many control methods have been applied for tank level control. Most researchers have concentrated on coupled tank level controls such as 2-DOF PID [3], auto tuning PID [4], CDM [5] and decoupling [6]. A design methodology of auto-adjustable PI controller using MRAC technique for coupled tanks process is presented in [7]. Furthermore, a fault detection method for nonlinear systems based on type-2 fuzzy logic is proposed in [8] and evaluated on a two-tank system as a test bench.We have witnessed a rapidly growing interest in fuzzy controllers in recent years. Fuzzy logic has many varieties to be implemented for control purposes. One of them is parallel distributed compensation (PDC). The PDC offers a procedure to design a fuzzy controller from a given Takagi–Sugeno (T–S) fuzzy model. Most of the nonlinear systems can be transformed into the T–S fuzzy model. The main idea of the PDC technique is to partition the dynamics of a nonlinear system into a number of linear subsystems, design a number of local controllers for each linear subsystem, and finally generate the overall controller (compensator) by the fuzzy blending of such local controllers [9].PDC has been used for solving varieties of control systems problems. The T–S fuzzy model of a pendulum is obtained and a proper PDC controller is designed in [10]. A method called ARPDC (Advanced Robust PDC) for automatic control of nonlinear systems is introduced in [11]. Ref. [12] represents a new method for designing fuzzy observers for T–S systems based on Linear Matrix Inequalities. Ref. [13] presents a control solution for the stabilization of a 3-DOF RC helicopter via the PDC. T–S fuzzy modeling of new 3D four-wing chaotic systems is obtained in [14]. Ref. [15] introduces the design and implementation of a two-wheel inverted pendulum via the PDC.In Precup et al. [16], a PDC framework is used to design a state feedback control system for the real-time control of the liquid levels in an experimental three tank system. It should be noted that the method proposed in Precup et al., is restricted to linear parameter-varying (LPV) models based on which the controller is designed; however, our approach does not have such a limitation. Furthermore, despite of Precup et al., we have utilized the fuzzy approach to combine the PI local controllers. Additionally, the method of Precup et al., consists of two control loops (inner and outer); however, our proposed method consists of a simple single loop controller.The aim of this paper is to design and implement a fuzzy controller based on the PDC method to control the level of liquid in a tank. Initially, we obtained a mathematical nonlinear model for our experimental tank level control system. Then, we linearize the nonlinear model at three operating points. Three PI controllers for three equilibrium points are obtained. Since our control objectives are setpoint tracking and disturbance rejection over the whole range of the operation, the three PI controllers should be combined with each other. To combine the three controllers, we used the PDC technique. Finally, our experimental results are compared with a classic PI controller.This paper is organized as follows: In Section 2, the system is described and the modeling process of the system is presented. Skogestad's PID tuning method, the PDC method and controller design are outlined in Section 3. Section 4 illustrates the experimental results, and finally, Section 5 concludes the paper.The experimental setup is shown in Fig. 1. It consists of a tank, a reservoir, a control valve, an air compressor, a level transmitter, a data acquisition card, a PC and two AC-motor pumps.The tank is fed by water pumped by the first AC-motor pump from the reservoir through the control valve. The level of the liquid in the tank is measured by the transmitter level, then, the transmitter signal is sent to the PC via the data acquisition card. The error is computed by subtracting the process output from the desired setpoint. The controller produces the control signal according to the error. The control signal is sent to the actuator (control valve) via the data acquisition card to change the input flow rate. The control valve is fully closed and fully opened when the command signal from the controller is 4mA and 20mA, respectively. The drain water is pumped to the reservoir by the second AC-motor pump. The compressor is used to supply air for the control valve.Let Qiand Qobe the inflow rate and outflow rate (cm3/s) of the tank, and H (cm) is the height of the water level at any time instance. The dynamics of the tank are:(1)Adhdt=Qi−Qo(2)Qo=aHwhere A (cm2) is the cross section of the tank and a (cm2) is a parameter related to the position of the outlet valve [17].After linearization around an equilibrium point, Hs, the corresponding transfer function is obtained as follows:(3)h(s)qi(s)=RTcs+1whereR=(2Hs/a)and Tc=RA.Note that no time delay is considered in Eq. (3). Since there are some lags in the inflow with respect to the controller command, the transfer function would be:(4)h(s)qi(s)=RTcs+1e−τdswhere τdis the time delay. As an empirical modeling method, tangent lines are drawn on the output curve, then the tangent line with maximum slope is selected. After that, the intersection of the tangent line with maximum slope with the horizontal time axis is considered as an estimation of the time delay.The position of the outlet valve is such that if we open the inlet valve up to 25% when the level of the water is 25cm, the inflow rate and outflow rate would be equal and the level of the water would remain at 25cm.The parameter a can be obtained by an experiment. To obtain parameter a, we close the inlet valve (control valve). The current level of the water in the tank is 25cm. By measuring the time required for the level of the water to fall from 25cm to 20cm and using Eq. (1) the parameter a can be obtained. The parameter a is given in Table 1.Skogestad's PID tuning method is a model-based tuning method where the controller parameters are expressed as functions of the process model parameters. Suppose that the control system has a transfer function block diagram as shown in Fig. 2.The design procedure is as follows: Assume, the desired closed loop transfer function T(s) is specified as a first order transfer function with time delay, as:(5)T(s)=ymf(s)ymsp(s)=1Tcs+1e−τdwhere Tcis the desired time-constant of the control system which is specified by the user, and τdis the process time delay which is given by the process model.From the block diagram shown in Fig. 2, the closed loop transfer function is:(6)T(s)=Hc(s)Hpsf(s)1+Hc(s)Hpsf(s)By equating Eqs. (5) and (6), the unknown controller transfer function, Hc(s) can be obtained.The history of the so-called parallel distributed compensation (PDC) dates back to a model-based design procedure proposed by Kang and Sugeno. The PDC method proposes a simple and natural procedure to handle nonlinear control systems [18].In the PDC design, the controller consists of a set of fuzzy rules. In this method, the dynamics of a nonlinear system is partitioned into a number of linear subsystems. For each linear subsystem, the proper local linear controller Fiis designed. Hence, for each subsystem, we have one control rule.The ith rule of the fuzzy controller via the PDC is of the following form:Control rule i(7)IFz1(t)isMi1(t)and⋯andzp(t)isMip(t),THENthe controller isFi.i=1,2,…,rwhere Mij(t) is the fuzzy set and r is the number of subsystems or in the other words, the number of operating points and z1(t), …, zp(t) are the premise variables.The main idea of the controller design is to derive each control rule so as to compensate each local plant model of the relevant rule. Hence, the overall controller (compensator) is generated by fuzzy blending of the local controllers [9].The overall fuzzy controller F is as follows:(8)F=∑i=1rwi(z(t))Fi∑i=1rwi(z(t))=∑i=1rhi(z(t))Fiwherez(t)=[z1(t)z2(t)…zp(t)]wi(t)=∏j=1pMij(zj(t))hi(z(t))=wi(z(t))∑i=1rwi(z(t))for all t and Mij(t) is the grade of membership of zjin Mij.As Eqs. (1) and (2) show, the system is nonlinear. So to achieve tracking and disturbance rejection, Eq. (1) is linearized around three operating points and three PI controllers are designed for these points.The three operating points are: h=25 cm, h=50 cm and h=75 cm. The transfer functions of the plant around the operating points are as follow.(9)h(s)qi(s)=1.538146.204s+1e−2sath=25cm(10)h(s)qi(s)=2.175206.764s+1e−2sath=50cm(11)h(s)qi(s)=2.664253.234s+1e−2sath=75cmThe PI controllers designed based on Skogestad's tuning method, are given in Table 2. Since the control objectives are tracking and disturbance rejection over the whole range of the operation, the three PI controllers should be combined with each other.To combine the three controllers we use the PDC technique. The fuzzy controller via PDC is to determine the controllers Fifor all operating points.The rules of the fuzzy controller via PDC are as follows:(12)ControlRule1:IFh(t)is about25cm,THENthe controller isF1.ControlRule2:IFh(t)is about50cm,THENthe controller isF2.ControlRule3:IFh(t)is about75cm,THENthe controller isF3.where Fi=kPi+kIi/s are PI controllers.The form of all input membership functions is considered to be triangle-shaped functions. Then, a model-based fuzzy controller design utilizing the concept of parallel distributed compensation is completed.

@&#CONCLUSIONS@&#
In this paper, the fuzzy controller was designed using the PDC method and it was implemented in the experimental tank system. First of all, the mathematical model of the system was obtained experimentally. The model parameters of the level tank system were obtained using direct measuring. To do this, the water discharge curve of the level tank system was obtained experimentally. Then a proper exponential curve was fitted on the water discharge curve, so the model parameters would be obtained via the fitted curve. An important feature of the plant was its nonlinearity. To control the level of water in the tank over the whole range (for every height), three heights were selected initially as operating points. After linearization around these three points, three PI controllers were designed for theses three points based on Skogestad's tuning method. Then, by using the PDC method, the fuzzy controller was designed with respect to the three points, to control the level for the whole range. Each operating point forms a rule in the fuzzy controllers. In the IF-part of the fuzzy controller, the range of the input controller variables were partitioned to three and triangular membership functions were selected. To prove the performance of the designed controller based on PDC, the controller was implemented in an experimental setup. And, at the end, the fuzzy controller based on PDC results were compared with the results of the PI controller. The results and comparison confirm the high performance of the designed controller based on the PDC.Future works will deal with the application of the PDC approach to other nonlinear process control systems such as coupled tanks systems and distillation column system.