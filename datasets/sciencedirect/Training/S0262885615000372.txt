@&#MAIN-TITLE@&#
Optimized projection patterns for stereo systems

@&#HIGHLIGHTS@&#
The novel concept of non-recurring De Bruijn (NRDB) sequenceThe algorithms to generate NRDB sequences for given parametersThe optimal subsequence search algorithm using branch-and-boundDiscussion on similarities and differences of active stereo and structured light

@&#KEYPHRASES@&#
Active stereo,Stereo matching,Projection pattern,De Bruijn sequence,Structured light,

@&#ABSTRACT@&#
This paper describes how to generate optimal projection patterns to supplement general stereo camera systems. In contrast to structured light, the active stereo systems utilize the projected patterns only as auxiliary information in correspondence search, whereas the structured light systems have to detect the patterns and decode them to compute depth. The concept of non-recurring De Bruijn sequences is introduced, and a few algorithms based on the non-recurring De Bruijn sequence are designed to build optimized projection patterns for several stereo parameters. When only the search window size of a stereo system is given, we show that a non-recurring De Bruijn sequence with corresponding parameters makes the longest functional pattern, and presents experimental results using real scenes to show the effectiveness of the proposed projection patterns. Additionally if the pattern length is given in the form of maximum disparity search range, the algorithm using branch-and-bound search scheme to find an optimal sub-sequence of a non-recurring De Bruijn sequence is proposed.

@&#INTRODUCTION@&#
In many real-world applications, stereo camera systems are widely used since they can be easily built using inexpensive off-the-shelf components. However their performance, especially the coverage which represents how much portion of the scene can be successfully reconstructed, is highly dependent on the texturedness of the scene. This is an inherent problem of stereo reconstruction algorithms since depth is computed from the disparity between corresponding pixels in left and right images (Fig. 1(a)), and without enough texture it is very hard to establish accurate and correct correspondences. In many indoor environments, large untextured walls and floors occupy most of scenes and these make the generic passive stereo system fail to correctly reconstruct and recognize such structures.Many algorithms (e.g. global correspondence methods in [1]) have been proposed to reduce this problem by filling the gaps in the uncertain areas of reconstruction, but for most algorithms the required computation is too large for real-time applications, and the resulting depth maps are not guaranteed to be complete or accurate.Compared to the stereo systems that use two rigidly-attached cameras, the structured light methods ([2–4]) use one camera and one pattern projector to capture depthmaps. Recently several sensors in this category represented by Kinect [5] became available to ordinary users. The principal theories are same in both approaches except the way how the correspondence is searched. In structured light, each ‘pixel’ in the projector is tagged with a unique pattern patch around it, and the pattern is sought along the epipolar line in the captured image. The projected patterns in the captured image need to be correctly detected and precisely decoded to compute the depthmap. If the pattern is not clearly visible, for example due to existing textures on the object surface, low albedo, large distance, or strong environmental illumination (direct sun-light), the correspondence cannot be made and the depth cannot be estimated.Another relatively unexplored way is to augment the stereo system by actively projecting light patterns to the scene to create artificial textures in the scene (active stereo methods). The proposed approach is seemingly quite similar to the structured light methods, in a sense that both actively project certain patterns to the scene, however there exists a key difference between these two approaches. Whereas the structured light systems have to detect and decode the projected patterns, the active stereo method only uses the patterns as supplementary information in the standard stereo matching process. Even when the projected pattern is not visible at all, the active stereo methods still can generate depthmaps unlike structured light. Since the projected patterns are never explicitly detected or decoded, ideally it only improves the stereo reconstruction without any additional computational costs. When the pattern is not visible, the active stereo system will perform as well as the passive stereo system, and otherwise it will utilize the additional information from the projected pattern. Fig. 2shows a typical example; Fig. 2(a) shows a passive stereo output when the scene lacks texture, and Fig. 2(b)–(d) is the output of the same stereo algorithm with a carefully designed pattern projected onto the scene.The main theme of active stereo research is how to create the most effective texture pattern that results best stereo reconstruction. There exist only a few work which fits in this direction. Spacetime stereo [6,7] used purely random multiple bit patterns in space-time domain. The results show that if enough number of random bits is used, the ambiguity in pixel matching can be effectively resolved. Konolige [8] optimized the projection pattern using simulated annealing—the bit columns in the windows with the minimum hamming distance are randomly replaced with other bit patterns and the changes with higher hamming distance are accepted with decreasing probability (detailed discussion can be found in Section 4).In this paper we seek the best projection patterns which ensure that generic stereo methods using window-based epipolar searching find the correct correspondences for all unoccluded pixels. The pattern greatly improves the depth estimate in textureless regions, and also it works with any stereo algorithms that use SAD (Sum-of-Absolute-Difference), SSD (Sum-of-Squared-Difference) or similar measures. Since the stereo rig has a fixed epipolar planes, it is best to align the epipolar planes of the projector and the cameras to the stereo's. If all epipolar planes are aligned and the projector is placed near the stereo, the projected patterns are observed in the captured images with minor distortion. Thus the minimum Hamming distance (MHD) between all pairs of search windows, used in [8], is indeed the metric to be optimized to this end. We present novel non-recurring De Bruijn sequences by modifying De Bruijn sequences [9] not to have any recurring symbols in the sequence. The projection patterns built based on a non-recurring De Bruijn (NRDB) sequence guarantee that the spatial or spatio-temporal neighborhood block at each pixel is unique along the epipolar line within the cycle size of the sequence. In a general stereo setup, the search window size is large enough to contain several pixel-wide projection window (e.g. 5×5 projection pattern can be observed in 11×11 search window in the image11In practice it is recommended to set the ratio between the projection pattern and the search window to be close to 2 (see Section III-A of [8]).). The complete NRDB sequence becomes very long in such setup, thus we can only use substring of the NRDB sequence. In such case, one needs to use the subsequence with the largest MHD, and the proposed branch-and-bound algorithm finds the optimal subsequence.The main contributions of the paper can be summarized as follows:•A novel concept of non-recurring De Bruijn sequences which adapts the property of De Bruijn sequences for this application. A generic algorithm and a few specialized algorithms to generate the sequences.A branch-and-bound search algorithm that seeks an optimal fixed-length sub-sequence.The earlier version of the work [10] addressed the first issue mainly, and here we extend it to output an optimal subsequence, and add more insights on the topic.The paper is organized as follows: Section 2 reviews related prior works, and Section 3 introduces the non-recurring de Bruijn sequences with a few practical algorithms to generate them. Section 4 describes the branch-and-bound algorithm to find the optimal fixed-length pattern. Section 5 presents various experimental results and comparisons with prior arts, and Section 6 concludes the paper.

@&#CONCLUSIONS@&#
