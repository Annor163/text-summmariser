@&#MAIN-TITLE@&#
Customer equilibrium and optimal strategies in an M/M/1 queue with dynamic service control

@&#HIGHLIGHTS@&#
We model a queue with dynamic service rate and strategic customers.The system exhibits a mixed Avoid/Follow the Crowd behavior.There are between one and three symmetric equilibium join/balk strategies.Both negative and positive externalities are present.

@&#KEYPHRASES@&#
Queueing,Customer equilibrium strategies,Dynamic service control,Positive externalities,Price of anarchy,

@&#ABSTRACT@&#
We consider the problem of customer equilibrium strategies in an M/M/1 queue under dynamic service control. The service rate switches between a low and a high value depending on system congestion. Arriving customers do not observe the system state at the moment of arrival. We show that due to service rate variation, the customer equilibrium strategy is not generally unique, and derive an upper bound on the number of possible equilibria. For the problem of social welfare optimization, we numerically analyze the relationship between the optimal and equilibrium arrival rates as a function of various parameter values, and assess the level of inefficiency via the price of anarchy measure. We finally derive analytic solutions for the special case where the service rate switch occurs when the queue ceases to be empty.

@&#INTRODUCTION@&#
Service rate control is a prevalent tool for dynamically adjusting the operation of a queueing system in response to varying congestion levels. Many models in the queueing and service management literature, such as dynamic staffing policies, server vacation mechanisms, etc. can be viewed as different aspects of varying the rate at which service is provided at different times. In most cases, the philosophy of a service control policy is to increase the service capacity when the congestion level is high in order to alleviate excessive delays, and reduce it at times of decreased congestion in order to lower operating costs. Viewed in this way, a service control policy provides a balance in the tradeoff between long customer delays and high service costs. However, in situations where customers are sensitive to delay and make individual decisions about entering the queue, the policy used by the service provider may also have an indirect, albeit significant, effect on the arrival stream.In service systems with strategic customer behavior, incoming customers decide independently whether to join the system or balk, based on an individual utility function that combines the value of obtaining the service with the cost induced by the anticipated delay in the queue. Since a customer’s delay depends on the decisions of other customers, a game-theoretic approach is appropriate for characterizing customer behavior and thus the properties of the incoming stream, as the result of an equilibrium strategy. Because customers are adverse to delay, it is expected that a particular customer’s decision to enter the system is adversely affected as other customers also decide to enter and system congestion is increased. Such customer behavior, where in equilibrium his/her willingness to join is a decreasing function of the arrival rate, are referred to as Avoid the Crowd (ATC). On the other hand, in a system where a form of dynamic service control is implemented, the service rate is usually increased when the system is congested and it may result in Follow the Crowd (FTC) behavior, where in equilibrium arriving customers are more encouraged to join as the arrival rate increases. These concepts are discussed in Hassin and Haviv (1997), where the authors analyze customers’ optimal choice between two priority levels, in order to receive service. It is shown that multiple equilibria exist, which is typical in situations where FTC behavior prevails. Both the ATC or FTC effects may appear in the same system for different values of the arrival rate. In most situations, the presence of FTC is related to a dynamic service policy employed by the service provider.The present paper proposes a direct model of the impact of dynamic service control on customer equilibrium behavior. More specifically, we analyze the customer equilibrium behavior for joining a single server Markovian queue under a simple threshold-based service rate policy. The service rate is kept at a low value when the number of customers in the system is at or below a threshold level T, and turns to a high value when the system congestion is above T. We analyze the unobservable case where arriving customers are aware of the service policy, but do not have any information on the queue length upon arrival.The most pronounced effect of the service control policy is that due to a mixed ATC/FTC pattern the equilibrium customer strategy is not generally unique, as the expected sojourn time of a tagged customer is not monotone increasing in the arrival rate, in contrast to the simple M/M/1 queue. For example, one equilibrium strategy may be such that a small fraction of incoming customers joins the system and as a result the server works at slow rate most of the time, whereas there exists another equilibrium where the arrival rate is high and the server spends most time at the fast mode. We show that, depending on the values of the various parameters, the number of strategic equilibria may vary from one to at most three.Moreover, we consider the problem of determining the optimal arrival rate in a system with centrally controlled arrivals which, for the given service policy, maximizes the expected net benefit of all customers, and compare the optimal arrival rates to those obtained as equilibria under selfish customer behavior. We show via computational experiments that the optimal arrival rate lies between the extreme values under equilibrium. This is related to the existence of both negative and positive externalities. In economic terms, entering customers generally induce negative externalities, by imposing increased delays to present and/or future arrivals. However, in our model it may happen that if a customer decides to enter the system, the other customers experience a benefit, because the service provider is induced to increase the service rate. Then, the net effect between the additional delay due to increased arrivals and the higher service speed due to the server’s policy may be positive. In such cases, an arriving customer induces positive externalities.We finally consider the issue of the price of anarchy and the price of stability, which are measures of the inefficiency of the customer strategies under equilibrium compared to optimal strategies that maximize the social benefit. We show that in our framework these measures typically coincide. Furthermore, a prevailing insight from the computational experiments is that the inefficiency is significant under individual customer behavior and in those cases where the price of anarchy approaches the ideal value 1, this happens because most customers are directed to the alternative service and the proportion of those who enter the primal system approaches zero.The implications of strategic customer behavior on the performance of a queueing system has been studied extensively in the recent years. Early works on the M/M/1 queue include Naor (1969) and Edelson and Hildebrand (1975) for the observable and unobservable models, respectively. Many variations of the original models have been studied since, and a comprehensive review of the literature until 2003 is provided in Hassin and Haviv (2003). Among the models that have been developed and analyzed, many include some varying service rate characteristics indirectly, such as vacation queues and systems in a random environment. Burnetas and Economou (2007) consider a system with server vacations and reactivation that requires a random setup time. In the vacation model of Guo and Hassin (2011), the server resumes service after a fixed number of arrivals according to a threshold service policy. Both papers analyze equilibrium behavior with respect to several levels of information about the queue length and the state of the server and involve a mixed ATC/FTC behavior. Economou and Manou (2013) analyze customer equilibrium strategies in a stochastic clearing system where the exogenous customer arrival rate and the arrival rate of the system clearing server vary according to an external environment process.In some systems with varying service capacity, especially in transportation and telecommunication networks, counterintuitive cases have been identified regarding the behavior of the system under equilibrium. In these situations, increasing the capacity of a network link (Downs-Thomson paradox) or adding a new link (Braess paradox) may result in higher delays, since selfish choice of routes by individuals eliminates the benefit of the additional resource (cf. Afimeimounga, Solomon, & Ziedins, 2005; 2010; Braess, 1968; Calvert, 1997; Downs, 1962; Thomson, 1977).The properties of the price of anarchy and the price of stability as the ratio between optimal and equilibrium welfares have been examined in several frameworks, most notably in problems of routing in networks. For a definition of the two measures and further discussion of their differences see Nisan, Roughgarden, Tardos, and Vazirani (2007). In queueing systems with strategic customer behavior, Haviv and Roughgarden (2007) consider a multi-server system where customers select which queue to join, with no balking option and without observing queue lengths. It is shown that the PoA is upper bounded by the number of servers. Gilboa-Freedman, Hassin, and Kerner (2013) consider the observable M/M/1 queue, derive bounds on the PoA when the arrival rate is low and show that it becomes unbounded when the potential arrival rate exceeds the service rate.In the area of queueing control and optimization under a single decision maker, problems of service rate control have been studied extensively and in many forms. It is worth noting that the problem of social welfare maximization can be formulated as a static or dynamic admission control problem. George and Harrison (2001) consider welfare optimization in an M/M/1 system with dynamic service control and constant arrival rate. They develop an asymptotic method for computing the optimal policy under average cost minimization. Ata and Shneorson (2006) propose a model that jointly optimizes arrival and service rates, and develop a dynamic pricing strategy that induces the optimal arrival and service rates. Adusumilli and Hasenbein (2010) consider a model of joint admission and service control in an M/M/1 under an average cost criterion and show that the optimal service rates are increasing with system congestion. Dimitrakopoulos and Burnetas (2015) analyze the combined problem of dynamic control of the service rate and admission control policy in a similar model with no strategic customer behavior, and derive conditions for the service switch option to be beneficial. In Tirdad, Grassmann, and Tavakoli (2016) the service rate is controlled by altering the number of servers in a model with nonstationary arrival rates.The rest of the paper is organized as follows. In Section 2 we introduce the model and the corresponding customer strategic behavior problem, as well as the social welfare optimization problem. In Section 3 we consider the equilibrium strategies and derive the upper bound on the number of equilibria for general T-threshold dynamic service policies. In Section 4 we explore numerically the socially optimal strategy and the comparison with the equilibrium problem. Since in general optimal and equilibrium arrival rates do not coincide we examine this inefficiency introducing the price of anarchy. In Section 5, we derive analytic solutions for equilibria in the special case where the service thresholdT=1,i.e., the service rate switches to the fast mode when the queue is not empty. Section 6 concludes.We consider a single server Markovian queue under the FCFS discipline, where potential customers arrive according to a Poisson process with rate Λ. The service rate varies dynamically according to a T-threshold policy. Specifically, the service rate is set to μlwhenever the number of customers in the system is less than or equal to T, and equal to μhotherwise, where μl< μh. There are no switching costs. Thus, the service policy is defined by the exogenous parameters (T, μl, μh), which are known to all arriving customers.Arriving customers are assumed identical and homogeneous. They decide whether to join the system or balk, upon arrival, in order to maximize their expected net benefit, thus they are assumed risk-neutral. Every joining customer receives a fixed reward R ≥ 0 upon service completion, and incurs a waiting cost C > 0 per time unit of waiting both in queue and in service. On the other hand, if a customer decides to balk he receives a positive fixed value v, which we refer to as the value of balking. We will use the ratioR˜=R−vC,which expresses the relative importance of joining vs cost of waiting.We consider the unobservable model, where arriving customers make join or balk decisions without observing the current queue length. Since the join decisions of individual customers affect the system delay, and thus the benefit of all customers, the decision problem corresponds to a game. Specifically, given that potential customers are not aware of the actual system state, an arriving customer has two pure strategies, either to join the system or balk. A mixed strategy is defined by p ∈ [0, 1], the probability of joining the system. The strategies followed by individual customers form a strategy profile. Since customers are assumed identical, we restrict attention to the class of strategy profiles such that all customers follow the same strategy, which corresponds to a symmetric game.Let U(p; q) denote a tagged customer’s expected net benefit from using mixed strategy p, when all others adopt mixed strategy q and pB(q) the best response to strategy q, i.e., any strategy that maximizes U(p; q) in p. Then, a mixed strategy qeis a symmetric Nash equilibrium strategy, if U(qe, qe) ≥ U(q, qe) for any mixed strategy q ∈ [0, 1]. The intuition is that an equilibrium strategy is the best response against itself, so if all customers agree to follow mixed strategy qe, no one can benefit from changing it.Under a mixed strategy q, arrivals follow a Poisson process with effective arrival rateλ=Λqand the corresponding equilibrium arrival rate is denoted byλe=Λ·qe,where qeis a symmetric equilibrium strategy. Let W(λ) denote the total sojourn time of a customer in the system, as a function of the effective arrival rate λ, assuming λ < μh, in order to ensure stability. In the remainder of the paper, we refer to W(λ) as the waiting time or the delay function.The tagged customer’s expected net benefit can be expressed as(1)U(p;λ)=p[R−CW(λ)]+(1−p)v=Cp[R˜−W(λ)]+v,and the best response to a rate λ is equal to(2)pB(λ)={0,ifR˜−W(λ)<0∈[0,1],ifR˜−W(λ)=01,ifR˜−W(λ)>0.An alternative decision framework could be defined by assuming that all customer decisions are controlled by a central planner, who enforces a mixed strategy q with the objective of maximizing the overall expected net benefit per unit time. This corresponds to the social welfare optimization problem. The welfare function can be defined in terms of the effective arrival rateλ=Λqas(3)S(λ)=ΛU(q;q)=λ[R−v−CW(λ)]+Λv=Cλ[R˜−W(λ)]+Λv,λ∈[0,μh).An arrival rate λ* is socially optimal if(4)S(λ*)=maxλ∈[0,μh)S(λ).In general the equilibrium and optimal arrival rates do not coincide. The inefficiency of the individual customer behavior can be quantified in several ways. Consistently with Gilboa-Freedman et al. (2013), we represent this inefficiency using the ratio of the social welfare values under the socially optimal rate and customer equilibrium,S(λ*)S(λe).Since in general a game may result in multiple equilibria with different values of S(λe), this ratio needs further specification (see Nisan et al., 2007, p. 445). It is standard in the literature to refer to this ratio as the price of anarchy (PoA) if the worst equilibrium in terms of the value of S(λe) is considered in the denominator, and as the price of stability (PoS) if the best equilibrium is considered instead.In this section, we identify the equilibrium strategies under individual customer behavior.Using the standard methodology of equilibrium analysis in unobservable queueing models (see Hassin & Haviv, 2003, pp. 46–47), we derive from (1) the following conditions for equilibria:(5)λe=0ifandonlyifW(0)≥R˜.Similarly,(6)λe=ΛifandonlyifW(Λ)≤R˜.In addition, a necessary and sufficient condition, forλe=Λqe∈(0,Λ)to be an equilibrium arrival rate is that(7)U(qe;qe)=0,orequivalently,W(λe)=R˜.To proceed with the analysis, we derive the expression for the delay function W(λ). An unobservable M/M/1 queue under a T-threshold service policy and a common mixed strategy q for all customers corresponds to a standard birth and death process with arrival and departure ratesλn=λ=Λq,μn={μl,n≤Tμh,n>T,n∈N,respectively, where n refers to the number of customers in the system.From the steady state distribution of this process and by standard application of Little’s Law the following expression can be derived for the delay function for λ ∈ [0, μl) ∪ (μl, μh):(8)W(λ)=W1(λ)W2(λ,whereW1(λ)=(μh−λ)2{(μl−λ)[μlT−(T+1)λT]+λ(μlT−λT)}+λT(μl−λ)2[(T+1)μh−Tλ],W2(λ)=(μl−λ)(μh−λ)[(μlT+1−λT+1)(μh−λ)+λT+1(μl−λ)].Similarly, for the caseλ=μl,we derive the following expression for the waiting time applying the same queueing arguments:(9)W(μl)=T(T+1)(μh−μl)2+2Tμl(μh−μl)+2μhμl2μl(μh−μl)[T(μh−μl)+μh].Details on the derivation of the waiting time function for both cases are given in Appendix A, where it is also shown that (9) can be derived by settingλ=μlin (8) after simplifying the factorλ−μl.The main result of this section is Theorem 1 below, which characterizes the equilibrium customer strategies for the unobservable dynamic service control model. Specifically, Theorem 1 states that, in contrast to the constant service rate case, the equilibrium arrival rate for the dynamic service control model may not be unique, depending on the value ofR˜. The existence of multiple equilibria may introduce difficulties in designing pricing policies, since it cannot be predicted with certainty which equilibrium will materialize. To deal with this problem, one usually makes an assumption that for a given entry price either the highest or the lowest equilibrium will occur. In this model, the number of equilibria are at most three, which makes such an approach tractable since there are limited possibilities.In order to identify all possible equilibrium arrival rates λein the interval [0, μh), we assume that the external arrival rate Λ ≥ μh.When Λ < μh, some of these equilibria may be excluded and instead we must also consider Λ as a possible equilibrium.Theorem 1For Λ ≥ μh:(i)IfR˜<1μh,the unique equilibrium arrival rate isλe=0.If1μh≤R˜≤1μl,thenλe=0and in addition there may exist at most two positive equilibria.IfR˜>1μl,then there exist at least one and at most three positive equilibria.The positive equilibria are the roots ofW(λ)=R˜in the interval (0, μh).In order to derive the equilibrium strategies other than the extremeλe=0or Λ, an initial approach would be to show monotonicity properties of the delay function W(λ) and relate them to the solutions of the equationW(λ)=R˜. However, the expression of W(λ) is too complicated to derive such properties. Instead, to prove Theorem 1 we develop the following equivalent polynomial equation of degreeT+1fromW(λ)=R˜and use analytic results to bound the number of its roots in the interval (0, μh).(10)H(λ)=−R˜(1−μlμh)λT+1+(1−μlμh)(R˜(μh−μl)+T−1)λT+(μh−μl)∑j=2T−1(μl)T−1−j[−R˜μl2μh+(R˜μh+j−1)μlμh−(j+1)]λj+(μl)T−2μh(−2R˜μl2μh+(R˜μh+2)μlμh−2)λ+(μl)T−1μh(R˜μl−1)=0.Since the polynomial has a degree ofT+1,the number of roots of (10) and thus the number of symmetric equilibria can generally be as high asT+1. In order to derive a sharper bound for the number of its roots, we make use of the following result in analysis, referred to in the literature as Budan’s Rule.Budan’s Rule(Wilf, 1962, p. 94): The number of zeros of a polynomial equationf(x)=α0+α1x+α2x2+⋯+αnxnin (a, b) is either equal toV(a)−V(b)or less by an even number, where V(x) is the number of variations of sign in the sequence(f(x),f′(x),…,f(n)(x)).Considering V(λ) as the number of sign variations in the sequence(H(λ),H′(λ),…,H(T+1)(λ))we show the following result by applying Budan’s rule.Proposition 1For anyR˜≥1μh,i.V(0) ≤ 3The polynomial equationH(λ)=0has at most three roots in λ ∈ (0, μh).The proof of Proposition 1 and Theorem 1 are in Appendix A.Given this approach to the proof of Theorem 1, it would be reasonable to ask whether the results of the theorem imply the monotonicity of the delay function. This is not so in general, since the same number of equilibria could result from many hypothetical delay functions with different monotonicity behavior. However, exploring the delay function numerically gives us interesting insights.We present plots of the delay function W(λ) for two typical cases of T-threshold policies (T, μl, μh) in Fig. 1. In both plots, we observe that W(λ) increases for low and high values of λ, whereas for intermediate values of λ, it decreases. Intuitively, this is happening because for small and large values of λ the system spends almost all time in the low or high service rate state, respectively, and the delay is approximately that of an M/M/1 queue with the corresponding value of μ. On the other hand, for intermediate values of λ, the service rate switch occurs more often. In this case, increasing λ increases the rate of arrival to the queue, but at the same time forces the server to work faster and the net effect may be a decrease in the overall delay.Extensive numerical experiments have shown that the behavior of W(λ) presented in Fig. 1 is typical. In addition, this behavior is consistent with the number of equilibrium arrival rates proved in Theorem 1. For example in Fig. 1(a), forR˜=9,there are three equilibrium arrival rates, one of which equals zero, while in Fig. 1(b) forR˜=21,there are three strictly positive equilibria.We next discuss the ATC/FTC customer’s behavior for this model as well as the stability properties of the equilibrium strategies. When there are multiple equilibria, the best response function pB(λ) cannot be decreasing everywhere, therefore customers cannot have pure ATC behavior as it happens in the case of the constant service rate. A pure FTC scenario cannot occur either, since the best response function cannot be increasing for all λ. Indeed, sincelimλ→μh−W(λ)=∞,there exists a value λ0 such thatW(λ)>R˜,thuspB(λ)=0for every λ > λ0. Thus, under the given service rate policy a mixed ATC/FTC effect exists in general. For example from Fig. 1(b) forR˜=21,the best response function ispB(λ)={0,ifλ∈(λ1e,λ2e)∪(λ3e,μh)∈[0,1],ifλ∈{λ1e,λ2e,λ3e}1,ifλ∈(0,λ1e)∪(λ2e,λ3e),withλ1e<λ2e<λ3ethe corresponding equilibrium arrival rates.When multiple equilibria exist, then some of them may be ustable in the sense that there exists a best response strategy against the equilibrium such that, if all customers decide to follow it, then a tagged customer who follows the equilibrium is also better off by moving to the new strategy; thus there is a tendency to abandon the equilibrium (see Hassin & Haviv, 2003, p. 5). When this is not the case, then the equilibrium is characterized as evolutionarily stable.Formally, a positive equilibrium strategy qeis said to be an evolutionarily stable strategy(ESS) if U(qe, z) > U(z, z) for any best response strategy z ≠ qeagainst qe. From (1) and (2) we can derive conditions for an equilibrium qeto be ESS as follows.We consider an equilibrium strategy qe∈ (0, 1) and the corresponding equilibrium arrival rate λe∈ (0, μh). From (2), it follows that the best response against qeis any strategy pB(λe) ∈ [0, 1]. Thus any strategy z ∈ [0, 1] is a best response against qeand we letλ=Λz∈(0,μh)to refer to the corresponding arrival rate when customers adopt z. From the definition of an ESS and (1), it follows that a positive equilibrium λeis an ESS if and only if(λe−λ)(R−v−CW(λ)>0,or equivalently if and only if the following conditions hold:(11)W(λe)>W(λ),foranyλ<λe,(12)W(λe)<W(λ)foranyλ>λe.The latter conditions show that monotonicity properties for W(λ) are needed in order to characterize the equilibria with respect to their stability. In the lack of analytic results on the monotonicity, we may obtain intuition on the stability from the diagrams of W(λ) in Fig. 1. Considering the conditions in (11) and (12), we observe that none of the marked equilibria satisfies them. More specifically, in Fig. 1(b) we observe that none of the three strictly positive equilibria,λ1e<λ2e<λ3e,are ESS. For example, forλ1ethere exists a best response strategy z ∈ [0, 1] such thatλ=ΛzandW(λ1e)>W(λ). Thus from (12), it follows thatλ1ecannot be an ESS. Similar strategies can be identified to show thatλ2eandλ3ealso are not ESS. However, if we consider an appropriate value ofR˜in Fig. 1(b) which intersects the plot of W(λ) either above the local maximum or under the local minimum, then the resulting unique equilibrium satisfies conditions (11) and (12), and, thus is evolutionarily stable.Similar observations can be made in the example illustrated in Fig. 1(a), where there exist two positive equilibriaλ1e<λ2ewhich also aren’t ESS, since there exists a best response strategy z withλ=Λzwhich violates either the condition given in (11) or in (12). Here, 0 is also an equilibrium strategy which is ESS since it is the unique best response against itself.In this section, we analyze the problem of social welfare optimization, where the decision problem for a central planner is to obtain a socially optimal strategy λ* which maximizes the total expected net benefit per unit timeS(λ)=Cλ[R˜−W(λ)]+Λv. The profit function S(λ) is continuous and differentiable in (0, μh), however analytic characterization of the optimal strategy based on first and second order conditions is not tractable because of the complexity of the expressions of W(λ) and W′(λ).We thus resort to numerical analysis in order to explore the behavior of the socially optimal arrival rate λ* and its relationship to the equilibrium arrival rates with regard to problem parameters. We also consider the value of the social benefit under the optimal and the equilibrium settings, as well as their ratio which represents a measure of the inefficiency of the decentralized behavior and is referred to as Price of Anarchy (PoA). Although we did not perform a fully fledged computational study, the insights described below have been confirmed in a large number of additional cases.First, we examine the relationship between the equilibrium and optimal arrival rates by varying parameters R and μl. Since, in general, the equilibrium arrival rate is not unique, in the diagrams we show the minimum and maximum equilibrium arrival rates, denoted asλmineandλmaxerespectively, and where the socially optimal arrival rate lies with respect to the range of individual equilibria. The results on the sensitivity analysis are presented in Fig. 2. In both diagrams of this figure we observe thatλ*≤λmaxefor all parameter values. Therefore, when the equilibrium arrival rate is unique, arriving customers always impose negative externalities. On the other hand, where there exist multiple equilibria, we observe that eitherλ*≤λmineorλmine≤λ*≤λmaxe. In this case, customers can impose either positive or negative externalities in equilibrium.Considering the monotonicity of λ* and λewith respect to μl, we observe that both equilibria are continuous and increasing. The optimal arrival rate λ* is discontinuous and slightly decreasing for small values of μland becomes increasing after a discontinuity jump. For this set of values of T, R, μlthe social benefit function is bimodal in λ, with two local maxima. Of these the lower corresponds to a policy that accepts a small proportion of customers and thus keeps delay low by avoiding congestion. The other local maximum occurs at a higher value of λ, which means that more customers are accepted, so the server is forced to work at the high rate most of the time, thus keeping the delay moderate. For every value of μlone of the two local maxima supersedes the other and determines the optimal value of λ. For small values of μlthe lower mode value is so low that almost no one is accepted, thus the higher mode is preferred. On the other hand as μlincreases, the delay becomes more moderate even when the server works at low rate, which makes the lower mode preferred. The discontinuity point corresponds to the value of μlwhere the two local maxima are equal. As μlincreases above the discontinuity point, the low mode still persists but nevertheless more customers are accepted under the optimal policy.Similarly, with respect to R we observe that all rates are increasing, which is intuitive since customers either as a whole or acting independently are generally better off as the reward increases, and, thus tend to join more. Note that the discontinuity of λ* still appears. Further numerical experiments on the sensitivity with respect to the other parameters have shown similar behavior.We finally note that the discontinuities discussed above do not always occur. For other sets of parameter values, the social welfare function may be unimodal in λ, or even if it is bimodal, one of the two modes may persist as optimal. In these cases the optimal arrival rate is continuous and monotone in the corresponding parameter.Next, we analyze numerically the optimal social benefit and the value of the ratioS(λ*)S(λe)which characterizes the price of anarchy and the price of stability with respect to the service threshold T and the value of balking v. Since we considered Λ ≥ μh, for all non-zero equilibrium arrival rates, customers are indifferent between joining the queue and balking with value v. Therefore, it is always true thatS(λe)=Λv. Thus, the price of anarchy and the price of stability coincide, i.e.PoA=PoS=S(λ*)Λv,and we refer to both as the price of anarchy (PoA). Note that when v is constant, PoA exhibits the same behavior as the optimal social benefit.In Fig. 3, we present the sensitivity analysis with respect to T. We observe that, as T increases the optimal social benefit decreases. This is expected since by increasing the high service rate threshold, higher delays are introduced and the efficiency of the whole system drops. In this respect, the fact that PoA is decreasing in T is not due to the improvement in the social benefit under individual customer behavior, but to the decreased value under the socially optimal strategy.In the sensitivity analysis with respect to v, we have observed from numerical results that PoA is still decreasing, but now the optimal social benefit is increasing in v. This is so because as the value of the alternative increases the socially optimal strategy accepts less customers in the system. Therefore, both terms in the PoA ratio increase, but the optimal social benefit increases at a lower rate and as a result PoA decreases. It is worth pointing out that in this case as well, the apparent improvement in PoA is not due to a more efficient operation of the service system, but to the lower number of entering customers as v increases. To make this point more clear, we present in Fig. 4the ratioW(λ*)W(λe)of the system delays under the socially optimal policy and under equilibrium. Although this ratio is not a standard measure of efficiency, it gives additional insights. We observe that the ratio is below 1, which indicates that the social optimal policy induces lower delays. As in Fig. 2, there is a discontinuity which is explained by the bimodality of the social benefit function and the switch of the optimal rate from the higher to the lower local optimum, while in the continuous segments, the ratio is slightly increasing in v. Thus, the significant change in the ratio is for the most part due to the discontinuity jump, i.e., to the fact that for large v values the optimal joining rate falls.In this section, we analyze the case where the service threshold T is set to 1 and, thus the service policy prescribes that the server uses the low rate as long as the queue is empty and switches to the high rate as soon as a customer joins the queue.This policy may be appropriate when there is a large difference between the two service rate values, and an assurance must be given to the customers that when there is at least one person waiting in the queue the service is expedited.From the analysis point of view the expression of the delay function is now considerably simpler, permitting more concrete analytical results. In particular, the positive equilibrium arrival rates follow as roots of a quadratic equationW(λ)=R˜As in the general model, we first characterize the symmetric equilibrium strategies and then proceed to social benefit maximization.ForT=1,the delay function in (8) becomes(13)W1(λ)=μh2(μh−λ)[μhμl+λ(μh−μl)],λ∈[0,μh).Following the same steps as in Section 3, we summarize the equilibrium analysis in Theorem 2 below.Theorem 2ForT=1and Λ ≥ μh the following hold:i.IfR˜<2μhandμl<1R˜,orR˜>2μhandμl<μh(1−R˜μh4),then 0 is the unique equilibrium.IfR˜≥2μhandμl=μh(1−R˜μh4),then the equilibrium arrival rates are 0 andλ0e.IfR˜≥2μhandμh(1−R˜μh4)<μl<1R˜,then the equilibrium arrival rates are0,λ1eandλ2e.Ifμl≥1R˜,thenλ1eis the unique equilibrium,where(14)λ0e=μhμh−2μl2(μh−μl),(15)λ1e=μhR˜(μh−2μl)+R˜(R˜μh2−4(μh−μl))2R˜(μh−μl),(16)λ2e=μhR˜(μh−2μl)−R˜(R˜μh2−4(μh−μl))2R˜(μh−μl).WhenT=1the number of the possible equilibrium arrival rates λemay vary from 0 to 3, and, in contrast to the general case the positive equilibria can be at most 2, depending on the values of parametersR˜and μl.In addition to the equilibria formulas, in this case it is also possible to characterize the delay function more concretely. Specifically, W(λ) is a convex in λ ∈ [0, μh) and its monotonicity depends on the service rates.First, ifμl≥μh2,W(λ) is strictly increasing in the entire interval [0, μh), thus the system behavior resembles that of an M/M/1 queue with constant service rate. The two service rate values are relatively close to each other, so that the rate switch is not sufficiently valuable for customers to exhibit Follow the Crowd behavior. Therefore the equilibrium is unique and stable.On the other hand, whenμl<μh2,W(λ) has a unique minimum forλ=λ0e(see Fig. 5(b)), thus in a range ofR˜multiple equilibria exist. Here the switch increases the service rate substantially. For small values of λ, an increase in the arrival rate increases the probability of the switch resulting in a decrease of the delay higher than the additional burden. Thus a Follow the Crowd behavior occurs in this range of values.Proceeding to the social optimization problem,S1(λ)=Cλ[R˜−W1(λ)]+Λv,closed form expressions are not available, and in general we observe behavior consistent with that discussed in Section 4 for the general case of T. Here it is possible to prove analytically the following result on the relationship between the optimal and the equilibrium arrival rates.Proposition 2WhenT=1and for any μl∈ (0, μh) andR˜≥1μhthere exists a positive equilibrium λe such that λ* ≤ λe for any social optimal arrival rate λ* ∈ [0, μh).In this paper, we considered the problem of customer equilibrium in an unobservable M/M/1 queue with dynamically adjusted service rate according to a threshold type service policy, known to all customers. We proved that there exist multiple equilibria, three at most, due to a mixed ATC/FTC customer behavior at different values of the effective arrival rate. For the social welfare optimization problem, we explored the relationship between the optimal and the equilibrium arrival rates, as well as the price of anarchy, numerically. We demonstrated that in cases where there exist multiple equilibria, the socially optimal point lies between the extreme equilibrium values, whereas in all other cases it is always less than the equilibrium arrival rate.This work can be extended in several directions. First, it would be of interest to determine the equilibrium strategies under different levels of information on system congestion or the status of the server upon customer arrival. Although in the present paper we analyze the unobservable model, the question of how the information level provided to customers affects the equilibrium strategies is interesting and relevant. The comparison between observable and unobservable systems has been studied in the context of an M/M/1 queue (cf. Chen & Frank, 2004; Shone, Knight, & Williams, 2013), as well as in more complex cases where the level of information available to customers may vary, such as the server vacation models in Burnetas and Economou (2007) and Guo and Hassin (2011). In our model, arriving customers may be provided with full information on the number present in the system, or with partial information on the service rate currently being employed. Some preliminary work has shown that the equilibrium analysis in these problems is significantly more complex, and non-threshold equilibria may exist. This is currently work in progress.In terms of the form of the service control policy, one might consider an alternative where instead of increasing the service speed with congestion, one or more standby servers are activated. Such a policy is more relevant in situations where the service is provided by human workers. A more challenging problem would be to consider the three parameters μl, μhand T as control decisions by the system manager, incorporate relevant costs for them and solving for the optimal control policy taking into account the customer response in equilibrium. Other extensions include generally distributed service requirements and dynamic service speed, series of queues with different parameters and/or service policies, and systems where the specific service policy threshold is not announced to the customers.

@&#CONCLUSIONS@&#
