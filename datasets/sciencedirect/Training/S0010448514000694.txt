@&#MAIN-TITLE@&#
Flat-end cutter orientation on a quadric in five-axis machining

@&#HIGHLIGHTS@&#
The conditions to avoid local gouging and rear gouging are formulated.The machined strip width is evaluated analytically.Two orientation angles are fully exploited to maximise the width without gouging.The theory has been successfully applied in 5-axis sculptured surface machining.

@&#KEYPHRASES@&#
Five-axis machining,Flat-end cutter,Cutter orientation,Quadric,Machined strip width,Gouging,

@&#ABSTRACT@&#
The authors have recently developed methods for cutter orientation and tool path generation in 5-axis sculptured surface machining, where the design surface is approximated locally by a quadric. This paper presents, from a purely geometric perspective, the fundamental theory for optimising the cutter orientation on a quadric, which maximises the machined strip width whilst avoiding local and rear gouging. The analysis focuses on the flat-end cutter which is modelled by a circular cylinder but can be generalised for any fillet-end cutter using an appropriate offset of the design surface and the concept of geometric equivalency. The theory is illustrated by three examples.

@&#INTRODUCTION@&#
Five-axis machining is used widely in the aerospace, automobile and die/mould industries where machining efficiency and quality are crucial. In order to reduce cutting time and obtain a well-finished surface, an optimal cutter orientation is required. Much research effort has been concentrated on optimising the cutter orientation  [1]. Recent developments of the quadric method (QM)  [2] for orienting the cutter at one single point and the integrated method (IM)  [3] for orienting the cutter along tool passes have significantly improved the machining efficiency and quality. In the two methods, there is a purely geometrical problem of how to orient a circular cylinder on a general quadric, which is addressed in this paper. Interestingly, the geometric interactions of cylinders and quadrics are encountered in many other applications such as engineering tribology  [4], robotics  [5] and rigid body simulations  [6].To avoid any ambiguity, the basic concepts of cutter orientation, gouging, and machined strip width are introduced in this subsection.Cutter orientation is used to specify how a flat-end cutterCis placed relative to a design surfaceSat their contact point, the cutter contact (CC) point. The orientation can be described in a local machining coordinate system (LMCS, XM-YM-ZM) as shown in Fig. 1. The origin is at the CC point. The ZM-axis is along the surface normalNand the XM-axis is in the cutting direction, which is tangent to a tool passPiat the CC point. The cutter is rotated first a lead angleαaround the YM-axis, and then a screw angleβaround the ZM-axis. In general,0≤α≤π/2,−π/2<β<π/2, but the ranges may be further restricted by gouging avoidance betweenCandS.Gouging is a critical problem in 5-axis machining. According to where gouging occurs onC, it is classified either as local gouging, rear gouging or global gouging (collision)  [7]. In the paper, only local gouging and rear gouging are considered. Local gouging refers to the removal of excess material in the vicinity of the CC point, and is due to the mismatch in curvatures betweenSand the cutter swept surfaceWi, the envelope swept out byCalong the tool passPi. Rear gouging refers to the interference betweenSand a region on the bottom ofCat some distance from the CC point.Let an error surfaceEdenote the offset ofSwith a distance equal to the machining toleranceεas shown in Fig. 2(a). Then, to ensure that machining deviation, the distance from the machined surface toS, is smaller thanε, the machined surface must lie betweenEandS. Define the machined region as an area onEbounded by intersection curves withC. Then on the tangent plane ofSat the CC point as illustrated in Fig. 2 (b), the maximum span of the projected machined region along the YM-axis is the machined strip widthw. Evidently, to improve machining efficiency at the CC point alongPi, an optimal orientation is desired to maximisewand give no gouging.There has been much research effort to optimise the cutter orientation. The published algorithms can be classified broadly into local and global methods. In local methods, only the normal curvatures ofCandSat the CC point are considered to determine the orientation.Cis inclined in the minimum principal direction ofS[8,9] or in the cutting direction  [10]. Then the lead angleαis determined to match the normal curvatures ofCandSin the direction perpendicular to the cutting direction on the tangent plane. Rao and Sarma  [11] and Yoon et al. [12] have improved the methods by comparing normal curvatures ofWiandSto avoid local gouging, but there might still be rear gouging.To avoid the possibility of rear gouging, the global methods use an area ofSbeneathCto orientC. In the multi-point machining method  [13,14], several contact points betweenCandSare found to determine the orientation. However, the method has to evaluate intersections betweenCandSiteratively, and there can be divergence in some cases  [15]. In the arc-intersect method  [16],αis set to the maximum rotation angle from sampled points onStoCwhenα=0. The weakness of the method is the low computational efficiency, since a bisection method is used at each sampled point for evaluating the rotation angle. Hosseinkhani et al. [17] developed the penetration–elimination method to avoid the angle evaluation, but a numerical root finding algorithm has to be applied at each point for gouging check.To simplify the computation, another approach in global methods is to locally approximateSby a simple surface and then orientCon the simple surface. Based on the study of 5-axis spherical surface machining  [18], Gray et al. [15] developed a rolling ball method which approximatesSby part of a sphere and then placesCon it. The method is easy to implement but, due to the limited shape defining capability of a sphere, the lead angleαis conservative in the sense that it could be reduced to generate a wider machined strip width  [16]. Yoon  [19] proposed a method to determine the orientation on an osculating paraboloid and then used the method for machiningS, but there is a tacit assumption thatScan be closely approximated by its second-order Taylor expansion at the CC point.A more general approach involves the orientation of the flat-end cutter on an osculating quadric, which is the second-order algebraic surface form embracing all spheres, cylinders, cones, ellipsoids, paraboloids and hyperboloids  [20]. It has been successfully applied in the quadric method (QM)  [2] and integrated method (IM)  [3], where practical products were machined and numerical simulations showed higher efficiency than previously published methods. To date, however, the geometric details for optimising the cutter orientation on a quadric have not been reported.This paper presents the fundamental theory for orienting a flat-end cutter on a quadric in 5-axis machining, to maximise the machined strip width and avoid local and rear gouging. The study is limited to orienting a cutterCon a design surfaceSat a single location under the following assumptions:•Sis a quadric.Cis a flat-end cutter and its spindle speed is much higher than the feed rate, so it can be considered as a circular cylinder.The size ofChas been selected appropriately  [21].Potential collisions on the flank ofChave been avoided by restricting the cutter orientation, but possible interference on the bottom ofCneeds to be checked.The allowable deviation of the machined surface fromS, which is referred to as machining toleranceε, is positive, and consistent with that in the finishing stage.The conditions to avoid local gouging and rear gouging are formulated in Sections  2 and 3 respectively, followed by the evaluation of the machined strip width in Section  4. Then the two cutter orientation angles are optimised in Section  5 with three typical examples in Section  6 and an error analysis in Section  7. Finally, conclusions and future research directions are presented in Section  8.Local gouging critically affects the machining accuracy. The precise detection of local gouging reduces the search space for cutter orientation and, consequently, makes rear gouging detection and orientation optimisation more efficient. In this section, the condition for no local gouging is derived by comparing the normal curvature of the cutter swept surfaceWiwith that of the quadric surfaceSin every direction.Without loss of generality, it can be assumed that the quadricSin the local machining coordinate system LMCS has an equation of the form:(1)f(xM,yM,zM)=axM2+byM2+czM2+2eyMzM+2gzMxM+2hxMyM−zM=0.It is easily checked that the quadric passes through the origin, i.e.f(0,0,0)=0, and the normal vector at the origin is of unit length and in the direction opposite to the ZM-axis, i.e.∇f(0,0,0)=(0,0,−1).So the two principal curvaturesκmax,κminand the angleθfrom the XM-axis to the maximum principal direction at the CC point are given by  [22](2)κmax=a+b+(a−b)2+4h2,κmin=a+b−(a−b)2+4h2,(3)θ=tan−1((a−b)2+4h2−(a−b)2h).SinceWiis swept out byC, they have tangential contact along a curve, called the CC curve. In addition,WiandScontact along the tool passPi. Therefore, at the CC point, where the CC curve andPiintersect,C,WiandSshare the surface normalN. Further, the normal curvatures ofCandWiare identical along the CC curve, and those ofWiandSare identical alongPi. This relationship can be interpreted geometrically in terms of osculating paraboloid approximations and Dupin’s indicatrices IC, IW and IS ofC,WiandSas shown in Fig. 3(a) and (b). Dupin’s indicatrix of a general surface could be an ellipse, hyperbola or two parallel lines  [23]. Consider a more general case where the cutterCis a fillet-end cutter specified by bottom radiusR1and corner radiusR2. Then, sinceCis convex, IC is an ellipse. So there are 9 main configurations of IC, IW and IS as illustrated in Fig. 3(b)–(j).LetκSdenote the normal curvature ofSin an arbitrary direction on the tangent plane, specified by the angleτ(0≤τ<π) from the XM-axis as shown in Fig. 3(b). Then, using Euler’s theorem  [24],κScan be expressed as(4)κS=κmaxScos2(τ−θ)+κminSsin2(τ−θ)=11+tan2τ(κ0S+2κΔStanτ+κπ/2Stan2τ)whereθis the angle from the XM-axis to the maximum principal direction ofS, andκ0S=κmaxScos2θ+κminSsin2θ,κπ/2S=κmaxSsin2θ+κminScos2θ,κΔS=(κmaxS−κminS)sinθcosθ.κ0S,κπ/2Sare the normal curvatures ofSalong the XM and YM-axes respectively.κΔSis the surface torsion along the XM-axis  [24].Since the screw angleβis the angle from the XM-axis to the maximum principal direction (along the meridian) ofC[25], the normal curvatureκCofCin the directionτis(5)κC=11+tan2τ(κ0C+2κΔCtanτ+κπ/2Ctan2τ),whereκ0C=κmaxCcos2β+κminCsin2β,κπ/2C=κmaxCsin2β+κminCcos2β,κΔC=(κmaxC−κminC)sinβcosβ.Suppose that the normal curvatureκWofWiin the directionτis given by(6)κW=11+tan2τ(κ0W+2κΔWtanτ+κπ/2Wtan2τ),whereκ0W,κπ/2Ware the normal curvatures ofWalong the XM and YM-axes respectively.κΔSis the surface torsion along the XM-axis. Then, according to the local characteristics thatCcontactsWialong the CC curve andWicontactsSalongPiwithτ=0,κWcan be expressed explicitly as(7)κW=κ0Scos2τ+κΔSsin2τ+(κπ/2C−(κΔC−κΔS)2κ0C−κ0S)sin2τ.In machining, material onSis removed by the cutter swept surfaceWi. Thus, the condition of no local gouging onScan be given mathematically as(8)κS≤κWfor all0≤τ<π.Substituting (4) and (7) into (8) and simplifying give(9)(κmaxC−κminC)(κmaxS−κminS)sin2(θ−β)−(κmaxC−κminS)(κminC−κminS)≤0.For a fillet-end cutter with bottom radiusR1and corner radiusR2, the two principal curvatures are given by  [25](10)κmaxC=1R2,κminC=sinαR1+R2sinα.The flat-end cutterCcan be considered as a fillet-end cutter withR2=0. Accordingly, substituting (10) into (9) and taking the limit asR2→0give the condition for no local gouging as(11)α≥sin−1(R1(κmaxSsin2(θ−β)+κminScos2(θ−β))),whereκmaxSsin2(θ−β)+κminScos2(θ−β)is the normal curvature ofSin the directionτ=β+π/2. In this direction, the normal curvature ofCissinα/R1. Thus, condition (11) can be interpreted geometrically as there being no local gouging ifκS≤κCin the directionτ=β+π/2. The condition is necessary and sufficient, since inequality (8) can be deduced from (11) inversely.IfSis a quadric of local form (1), then substituting (2) and (3) into (11) yields the condition of no local gouging in quadric machining with a flat-end cutter(12)α≥sin−1(2R1(asin2β+bcos2β−hsin2β)).When a flat-end cutterCis oriented on the quadric without local gouging, there may still be some rear gouging. To avoid rear gouging, any intersection between the quadric and the bottom ofCneeds to be detected and eliminated. The plane at the bottom ofC, referred to as the bottom plane, intersects the quadric in a conic as illustrated in Fig. 4. If the conic lies entirely outside the boundary of the bottom, referred to as the bottom circle, then there is no rear gouging.To analyse the relationship between the conic and the bottom circle, a cutter coordinate system (CCS, XC-YC-ZC) is defined at the CC point. The ZC-axis is along the cutter axis, and the XC-axis is along the vector from the circle centre to the CC point as shown in Fig. 4. In the CCS, the bottom circle of radiusR1is given by(13)(xC+R1)2+yC2=R12,zC=0.Suppose thatCis oriented in the LMCS with two orientation angles(α,β). Then the rotation matrices about the YM-axis and ZM-axis are defined respectively byY(α)=(cosα0−sinα010sinα0cosα),Z(β)=(cosβsinβ0−sinβcosβ0001).Consequently, the transformation from the LMCS to CCS is(14)(xM,yM,zM)=(xC,yC,zC)Y(α)Z(β).Substituting (14) into the quadric (1) and settingzC=0give the conic in the CCS as(15)AxC2+2BxCyC+CyC2+2DxC+2EyC+F=0,whereA=(acos2β+bsin2β+hsin2β)cos2α+csin2α−(esinβ+gcosβ)sin2α,B=(12(b−a)sin2β+hcos2β)cosα−(ecosβ−gsinβ)sinα,C=asin2β+bcos2β−hsin2β,D=12sinα,E=F=0.To classify the conics, defineΔ=|ABDBCEDEF|=−CD2,J=|ABBC|=AC−B2,K=|ADDF|+|BEEF|=−14sin2α≤0.Then, considering the real solutions of (15), the conic can be classified according to the 7 types in Table 1[26]. Since the bottom circle lying between two branches or within one branch of a hyperbola are two distinct cases in quadric machining, there are 8 configurations to be considered.Suppose that local gouging has been detected and eliminated, then condition (12) is necessarily satisfied. Substituting the coefficients of the conic into (12) gives(16)CR1≤D.The occurrence of rear gouging depends on the relationship or intersection points between the conic and the bottom circle. So the rear gouging can be checked based on the common solutions of the conic (15) and circle (13). Note that the conic and circle share the same tangent direction (first-order contact) at the CC point(xC,yC)=(0,0). Thus(0,0)is a double root. As two bivariate quadratics generally have four common solutions, the other two solutions need to be identified for the detection of rear gouging.Eliminating thexCterm in (15) using (13) gives a quadratic in(yCxC)as(17)(CR1−D)(yCxC)2+2BR1(yCxC)+(AR1−D)=0,xC≠0.The common solutions are therefore equivalent to those between the circle (13) and the two straight lines passing through(0,0)with slopes(yCxC)given by (17). Thus, under condition (16), which excludes the possibilityCR1>D, define(18)δ=B2R12−(CR1−D)(AR1−D)=(B2−AC)R12+(A+C)DR1−D2.Then, there are seven possible configurations of the quadric and circle, as summarised in Table 2, and rear gouging can be detected in three of them.At a cutter location, there may be many cutter orientations satisfying the conditions of no local gouging nor rear gouging. To improve machining efficiency, the cutter orientation is evaluated and optimised eventually with respect to the machined strip width. In this section, the machined region is identified and the strip width is determined analytically.In the machining of a quadric given by (1), the error surfaceEis(19)(xε,yε,zε)=(xM,yM,zM)−ε∇f|∇f|.By definition, the area onEbounded by the intersection curves withCis the machined region. Due to the square root in the denominator of (19), the intersection curves generally have to be evaluated by numerical methods.To simplify the computation  [25,12], the offset (19) may be replaced by a translated surface given by(20)(xt,yt,zt)=(xM,yM,zM)+ε(0,0,1)=(xM,yM,zM+ε).Thus, the area on the translated surface bounded by two intersection curves withCis the approximate machined region. The distance between the quadric andEisε, and that between the quadric and the translated surface is smaller thanε. In this sense, the translated surface lies between the quadric andE. Consequently, when machining wi thin the approximate machined region, the machining deviation is smaller thanε. Moreover, in most situations where the surface normal variation ofSbeneathCis small, the difference between the two regions is small and practically negligible  [12]. Further consideration is given to this approximation in the error analysis of Section  7 and the discussion in Section  8.As shown in Fig. 2, two boundary curves of the machined region terminate at width points on the bottom circle. The number and spacing of the width points relative to the CC point are critical in the evaluation of the strip width. Since the translated surface intersects the bottom plane in a conic, referred to as the translated conic, the width points can be evaluated as the common solution of the translated conic and the bottom circle. In the LMCS, the translated surface (20) is expressed implicitly asaxM2+byM2+c(zM−ε)2+2eyM(zM−ε)+2g(zM−ε)xM+2hxMyM−(zM−ε)=0.Transforming the translated surface from the LMCS to CCS using (14) and settingzC=0give the translated conic as(21)AtxC2+2BtxCyC+CtyC2+2DtxC+2EtyC+Ft=0,whereAt=(acos2β+bsin2β+hsin2β)cos2α+csin2α−(esinβ+gcosβ)sin2α,Bt=(12(b−a)sin2β+hcos2β)cosα−(ecosβ−gsinβ)sinα,Ct=asin2β+bcos2β−hsin2β,Dt=(12−εc)sinα−ε(esinβ+gcosβ)cosα,Et=ε(gsinβ−ecosβ),Ft=ε(1+cε).EliminatingyCfrom (21) using the circle equation (13), and rearranging give a polynomial equation of degree four or less:(22)a0xC4+a1xC3+a2xC2+a3xC+a4=0,wherea0=(At−Ct)2+4Bt2,a1=4((At−Ct)(Dt−CtR1)+2Bt(BtR1+Et)),a2=2(2(Dt−CtR1)2+(At−Ct)Ft+2Et(4BtR1+Et)),a3=4((Dt−CtR1)Ft+2Et2R1),a4=Ft2.Solving the equation analytically  [26] gives 0 to 4 real solutions ofxC. Substituting back into (13) and checking by (21) give 0 to 4 width points. According to the number of width points, the machined regions can be classified into 5 possible types as illustrated in Fig. 5. To ensure that the machining deviation is smaller thanε, the machined strip width is evaluated only from the region or connected regions containing the CC point.According to the types of machined regions, the machined strip widthwcan be determined from the width points, or tangent points where the tangent direction of the projected circle is parallel to the XM-axis. As illustrated in Fig. 6, if two width points are on the same side of the straight line passing through the two tangent points as the CC point, thenwis measured between the two width points. If only a single width point is on the same side as the CC point, thenwis measured between this width point and the tangent point on the opposite side of the XM-axis. If there is no width point on the same side as the CC point, thenwis measured between the two tangent points.In this section, the cutter orientation is determined to maximise the machined strip width. First, the lead angleαis optimised by placing the cutter as close as possible to the quadric. Then, a numerical method is developed to find the optimal screw angleβ.The machined strip widthwis a function ofαandβ, that isw=w(α,β), whenSis machined byCwithin the toleranceε, and unfortunately the function cannot be expressed explicitly. For a givenβ, ifαdecreases by a small amount, then the two points, from whichwis measured, can only move away from the CC point along the bottom circle, leading to an increase ofw. So, the widthwis a monotonic decreasing function in terms ofα, and the smallest value ofαthat does not result in gouging is the optimal solution for maximisingw.Consider the relationship between the conic and the bottom circle summarised in Table 2. In cases (a), (d) and (e), there is rear gouging, which can be avoided by increasingα. In case (c), there is no rear gouging, butαcan be further reduced for cutting more material. In cases (b), (f) and (g),αreaches the optimum since it is the smallest value without gouging. In the optimal cases, case (f) is referred to as overlap machining, since the conic and circle overlap as shown in Fig. 7(a). The conditions of overlap machining are(23)CR1=D,B=0,AR1=D,depending on not only the orientation angles (α,β) but also the coefficients of the quadric. For a spherexM2+yM2+(zM−R)2=R2machined by a flat-end cutter, the coefficients of the conic can be derived from (15) asA=12R,B=0,C=12R,D=sinα2,E=0,F=0.Whenα=sin−1(R1/R), the conditions (23) are satisfied and it is a case of overlap machining.Case (g) is called one contact machining, since the bottom circle has contact of order 3 with the conic at the vertex as shown in Fig. 7(b). The conditions of one contact machining are(24)CR1=D,B=0,AR1<D,which also depend on both (α,β) and coefficients of the quadric. The conditions can be interpreted geometrically as the centre of the circle lying on the major axis of the ellipse, transverse axis of the hyperbola, or axis of the parabola, and the radius of curvature of the conic at the vertex beingR1. The overlap machining is an extreme case of one contact machining, and their conditions of no rear gouging and those of no local gouging are identical.Case (b) is called two contact machining, since there is a second contact point between the conic and the circle. Its condition can be derived by a quadratic equation ofδ=0in (18). Solving the quadratic gives two cutter radiiR1∗=2DA+C+4B2+(A−C)2,R1∗∗=2DA+C−4B2+(A−C)2.Substituting into the condition (16) of no local gouging yieldsCR1∗−D=12R1∗(−(A−C)−4B2+(A−C)2)≤0,CR1∗∗−D=12R1∗∗(−(A−C)+4B2+(A−C)2)≥0.So,R1∗is the only radius satisfying both no rear gouging condition ofδ=0and no local gouging condition (16). Consequently, the condition of two contact machining isR1=R1∗, and the optimalαcan be obtained typically by the bisection method. Fig. 8illustrates all possible cases of two contact machining according to the conics given in Table 1.The conditionR1=R1∗also holds in one contact machining, which can be considered as two contact machining with two contact points converging to the CC point. Thus, in quadric machining with a flat cutter, the optimalαcan be evaluated fromR1=R1∗, Then, if necessary, the different cases of machining can be identified according to (23) and (24).For a given screw angleβ, the optimalαcan be obtained according to the condition of two contact machining. Then the objective width can be expressed asw=w(α(β),β). If the machined region is a single region in the full range ofβ, then the objectivewis continuous with respect toβ, and a local maximum can be evaluated numerically according to the first derivatives ofwwith initialβ=0. If the machined region comprises two disjoint regions within the range ofβ, then local maxima can be found using Euler’s rotation theorem.Euler’s rotation theorem states that, in three-dimensional space, any displacement of a rigid body such that a point on the rigid body remains fixed, is equivalent to a rotation about a fixed axis through that point. In the general case of two contact machining, the cutter contact (CC) point remains fixed and the second contact point moves perpendicularly to the surface normal. Therefore, at one instant asβvaries in its range, the cutter rotates around the straight line passing through the CC point, intersecting and perpendicular to the surface normal at the second contact point. This line is referred to as the instant axis of rotation.Let left widthwland right widthwrdenote the left portion and right portion of the machined strip widthw, relative to the CC point as illustrated in Fig. 9. If the two machined regions are separate, then the left width point and right width point lie on opposite sides of the instant axis. So, at one instant of rotation, the widthwcan increase or decrease because one ofwlandwrincreases and the other decreases. If the two machined regions are connected, then the two width points lie on the same side of the instant axis. Bothwlandwrdecrease from when the two regions just touch to when the two regions exactly overlap, and further increase until the two regions separate. At the transition case of two connected regions,wincreases discontinuously from two disjoint regions to one single region due to the change of one width point. Sowreaches the local maximum if the two regions just touch. Using a numerical method, such as the bisection method, to search the two connected regions, the local maxima can be obtained.Three intrinsically different quadrics, which are locally concave, saddle or convex at the origin, are tested for optimising the lead angleαand the screw angleβwith a flat-end cutter of radiusR1=4mm. Fig. 10shows the three test surfaces. Their local characteristics are given in Table 3and their equations in local coordinates are respectively:0.024369748xM2+0.015966387yM2+0.005zM2+0.0011961525yMzM−0.0099282032zMxM+0.014555049xMyM−zM=0,−0.0023151994xM2+0.0068290883yM2−0.005zM2+0.0081881198yMzM−0.030148875zMxM−0.025123727xMyM−zM=0,−0.0098216796xM2−0.019269229yM2+0.002zM2−0.0046215781yMzM−0.013661662zMxM−0.0054545454xMyM−zM=0,wherexM,yMandzMare in mm.Fig. 11illustrates the smallest value of lead angleαminand strip widthwin terms of the screw angleβin the machining of the first quadric. It is evident in Fig. 11(a) that the consideration of no rear gouging leads to a largerαmin, which implies that rear gouging may exist although local gouging is absent. Whenβ=−63°, the condition of no local gouging and that of no rear gouging are identical, and hence it is one contact machining. Fig. 11(b) shows that whenε<0.3mm, the widthwis discontinuous because of the merging and splitting between one single region and two disjoint regions. On the side of a discontinuity that has the greater width,wis a local maximum. With the increase ofε, the range ofβcorresponding to the two disjoint regions becomes narrower. Whenε≥0.3mm,wis continuous due to the absence of disjoint regions.Table 4presents the optimal orientation and maximum width for each machining tolerance. It also compares the maximum width with that obtained by other published orientation strategies, in which the screw angle is specified byβ=0°or−60°(the minimum principal direction). Since it is possible that two disjoint regions appear whenβ=0°, the widthwmay be small. For example,wis only46.2%,53.5%,61.3%of the maximum forε=0.005,0.01,0.02mm, respectively. Whenβ=−60°, it generally corresponds to a single region, but againwmay be small. For example,wis65.9%of the maximum forε=0.05mm.Fig. 12shows the optimisation of cutter orientation in the machining of the second quadric. Obviously, the consideration of rear gouging results in a largerαmin. Whenβ=38°, the condition of no local gouging and that of no rear gouging are identical, implying one contact machining. Due to the appearance of disjoint regions, the width changes significantly at the discontinuities, and on the side of a discontinuity that has the greater width,wis a local maximum. Table 5gives optimal orientations for various machining tolerances. Compared to the optimal solution, the widthwcorresponding toβ=0°is only34.0%,41.8%,59.7%of the maximum forε=0.005,0.01,0.02mm, and corresponding to the minimum principal directionβ=35°is only64.2%,65.8%of the maximum forε=0.2,0.3mm.Depicted in Fig. 13is the optimisation of cutter orientation in the machining of the third quadric. In the variation of the screw angleβ,αmax=0°, which is the lowest bound of the lead angle, and satisfies the conditions of no local gouging nor rear gouging. Due to the single region, the width is continuous and its maximum corresponds to the optimalβas given in Table 6. Compared to the optimal solution, the width corresponding toβ=0°is close to the maximum and that corresponding to the minimum principal directionβ=75°is only about half of the maximum in this case.All three examples have been tested using PowerMILL®  12, a world leading CAM software package. Toolpath Verification in PowerMILL reports neither local gouging nor rear gouging in all cases, and simulation results obtained from ViewMILL in PowerMILL are consistent with those presented in this section. Some critical situations, in which machined strip widths reach the local maxima, are illustrated below.In each simulation test, the stock is first machined by a fine raster finishing tool path. The tool path leaves additional material, whose thickness is equal to the machining toleranceε, on the test surface. Thus, the machined surface can be used to represent the actual error surfaceEin ViewMILL. Then the cutterCis placed on the test surface with the specified lead angleαand lean angleβ. The cutter removes some material, and one or two machined regions can be observed onE, from which the machined strip width is measured.Fig. 14illustrates the maximisation of the machined strip width withε=0.1mmin the first example. The lead angleαis minimised atβ=2°,4°or6°respectively. The width reaches the local maximum atβ=4°, since two connected regions atβ=4°is the transition from one single region atβ=2°to two disjoint regions atβ=6°.Fig. 15shows width maximisation withε=0.05mmin the second example. The lead angleαis minimised atβ=−9°,−11°or−13°respectively. The machined region converts from one single region atβ=−9°to two disjoint regions atβ=−13°via two connected regions atβ=−11°, and so the width reaches the local maximum atβ=−11°. Fig. 16shows the machined regions withε=0.02mmin the third example. The widths are similar atβ=0°andβ=14°, and it reaches the maximum atβ=14°.In Sections  4 and 5, the machined strip width is determined by locally approximating the offset of the quadric surface by a translation of the quadric. Since the translated surface is geometrically closer to the original quadric than the offset surface, the machining is guaranteed to be within tolerance. The aim of this section is to gain some insight into the size of the approximation errors, by computing the machined strip width as accurately as possible with current CAD technology and comparing results.First, to evaluate the approximation error, an offset of the quadric with a distance equal to the machining toleranceεis generated by the approach developed by Piegl and Tiller  [27]. Then, using the curve–surface and surface–surface intersection algorithms introduced by Marciniak  [25], the width points on the bottom circle, and the intersection curve on the flank are evaluated numerically. Thus, the actual widthwais obtained.Depicted in Fig. 17are the approximation errors in the machining of the first quadric. Obviously, the approximate widthwis smaller than the actual widthwa. The absolute errorΔw=|w−wa|and relative errorE=Δww+Δware respectively smaller than0.14mmand 1.9% forε=0.2mm. With decreasingε,ΔwandEfurther reduce. Whenε=0.01mm,Δw=0.02mmandE=0.7%. Thus, the approximations are acceptable in practical machining. The same conclusions can be drawn from the second and third test surfaces.More generally, the discrepancy between the translated quadric and the offset to the quadric increases as the machining toleranceεor the bottom radius of the flat-end cutterR1is increased. In all cases, the calculation of the machined strip width is conservative which may compromise the efficiency of the machining but not the quality. The tacit assumption is that with values ofεandR1appropriate to the finishing stage, the approximations are acceptable. However, in other situations where the values ofεandR1are relatively large, the error in the machined strip width might not be small enough to ignore. Then it would probably be better to approximate the offset surface directly by a quadric.

@&#CONCLUSIONS@&#
The theory for optimising the orientation of a flat-end cutter on a quadric has been presented in this paper, with sections on local gouging avoidance, rear gouging avoidance and evaluating the machined strip width. The aim has been to fully exploit the two orientation angles(α,β)of the cutter, in order to maximise the machined strip widthwwhilst avoiding local and rear gouging. Three intrinsically different examples have been presented to illustrate the theory and the results have been verified using a commercial CAM software package.In current CAD/CAM systems, a design surface is typically represented by an assembly of patches in Bézier, B-spline or NURBS form, which are unlikely to be exact quadrics. However, the essence of the quadric method (QM)  [2] is that the design surface in the locality of each CC point can be closely approximated by two osculating quadrics, one lying above the surface to orient the cutter and the other lying below the surface to evaluate the machined strip width. Fig. 18illustrates an example of applying the theory to orient the cutter in the machining of a human surface along two tool passes. Further details can be found in the quadric method (QM)  [2] and the integrated method (IM)  [3].The quadric fitting of the QM  [2] and evaluation of the machined strip width are both based on algebraic rather than geometric distances. It is a well-established simplifying approximation [25,12] and is most appropriate to the finishing stage of machining. However, with increasing values of the machining toleranceεand cutter radiusR1, the calculations may become too conservative. Further research is needed to determine whether it would be better, particularly with extreme date, to approximate the offset directly by a quadric. A first step might be to consider in detail the generalisation for a fillet-end cutter, using an appropriate offset of the design surface and the concept of geometric equivalency [19].