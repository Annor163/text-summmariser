@&#MAIN-TITLE@&#
Accelerometer-based correction of skewed horizon and keystone distortion in digital photography

@&#HIGHLIGHTS@&#
On-board accelerometers make feasible perspective correction in digital photography.Perspective correction is obtained with no human intervention.Perspective correction can be applied also to zoom lenses.Accelerometer calibration is necessary to get high accuracy.Accelerometer pose has to be estimated carefully to get high accuracy.

@&#KEYPHRASES@&#
Accelerometer,Perspective correction,Keystone,Horizon,Digital photography,Sensor fusion,Noise propagation,

@&#ABSTRACT@&#
Improper camera orientation produces convergent vertical lines (keystone distortion) and skewed horizon lines (horizon distortion) in digital pictures; an a-posteriori processing is then necessary to obtain appealing pictures. We show here that, after accurate calibration, the camera on-board accelerometer can be used to automatically generate an alternative perspective view from a virtual camera, leading to images with residual keystone and horizon distortions that are essentially imperceptible at visual inspection. Furthermore, we describe the uncertainty on the position of each pixel in the corrected image with respect to the accelerometer noise. Experimental results show a similar accuracy for a smartphone and for a digital reflex camera. The method can find application in customer imaging devices as well as in the computer vision field, especially when reference vertical and horizontal features are not easily detectable in the image.

@&#INTRODUCTION@&#
Photographic images may be affected by perspective distortions due to the attitude of the camera with respect to the depicted object. For instance, when the picture of a building is taken from the ground, the entire facade rarely fits into the frame without tilting the camera: the vertical lines appear then convergent in the acquired picture (keystone distortion, Fig. 1c). Similarly, a rolled camera leads to a skewed horizon line (horizon distortion, Fig. 1b).Because of the poor appeal of images affected by perspective distortion (Fig. 1d), camera and lens manufacturers produce tilt-shift (TS) lenses [1,2], whose optical elements are manually shifted and tilted until a satisfying perspective is achieved. However, because of the cost and difficulty to use them, TS lenses are employed only by professional photographers in particular contexts (e.g. architectural photography). A simpler and cheaper solution is a-posteriori processing through widely diffused softwares like Photoshop [3], Gimp [4] or Hugin [5]. These apply a perspective transformation to the picture, whose parameters can be reliably estimated only if reference vertical and horizontal features are present in the picture and manually localized with high accuracy. More refined approaches automatically extract vertical and horizontal lines in man-made environments and have been exploited for texture map acquisition and metric measurements [6], camera calibration and 3D reconstruction from a single view [7], robotic navigation [8], perspective correction for documents [9] or digital photography [10]. The accuracy depends in any case on the accuracy on the estimated vanishing points [7]. In [11] the uncertainty on the automatically extracted vanishing points is minimized through the definition of a proper cost function, but the method cannot work if straight lines are not present, as in a portrait or a mountain view.Integration of inertial sensors and vision systems has been explored to overcome this issue. For instance, after combined calibration of camera and inertial sensors [12–14], the gravity force is used as a reference to improve robot navigation [8,15] or for automotive applications [16]. In [17], accelerometer data and local invariant image features are used to estimate the camera pose and insert virtual objects into the scene, whereas in [18] the camera pose is estimated through the accelerometer to facilitate panorama imaging from multiple views. Accelerometers are used in [19] to estimate the camera pose and vibrations and consequently correct perspective and blur. A method to fully correct the perspective distortions using an accelerometer as a tilt sensor and the camera autofocus system as a distance measurement system is also described in [20].Despite the large literature, on-board perspective correction is nowadays not present in digital cameras yet. This fact can be explained considering that accelerometer noise and imprecise calibration [17,18,21,22], as well as imprecise estimate of the orientation of the accelerometer with respect to the imaging sensor [8,12,14,15,23], may bias the estimated camera attitude. Here we show that an accurate system calibration makes automatic perspective correction feasible with high accuracy; furthermore, we show how to estimate the uncertainty of the position of each pixel in the corrected picture. The method was tested on a smartphone and on a digital reflex camera equipped with a zoom lens, with or without auto-focus enabled, leading in all cases to images with residual keystone and horizon distortion which are practically imperceptible at visual inspection.

@&#CONCLUSIONS@&#
