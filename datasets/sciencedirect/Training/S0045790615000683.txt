@&#MAIN-TITLE@&#
A personal connected health system for the Internet of Things based on the Constrained Application Protocol

@&#HIGHLIGHTS@&#
We present a system that enables Personal Health Devices to share information in home networks and with the Internet.The Constrained Application Protocol (CoAP) is used as underlying protocol.The CoAP communication model was adapted to the ISO/IEEE 11073 model in the proposed system.Results showed how the network overhead is around 50% lighter when compared to other protocols.Interoperability experiments demonstrated how the proposed solution can work with legacy systems.

@&#KEYPHRASES@&#
Internet of Things for healthcare,m-health,Personal Health Devices,Constrained Application Protocol,

@&#ABSTRACT@&#
The increasing costs of healthcare along with the increasing availability of new Personal Health Devices (PHDs) are the ingredients of the connected health vision. Also, a growing number of consumer electronic and mobile devices are becoming capable of taking the role of a health gateway, thus operating as a data collector for PHDs. In this context, we present a system that enables PHDs to share information in home networks and with the Internet based on a new Internet of Things protocol, namely the Constrained Application Protocol (CoAP). CoAP is used along with the IEEE 11073 family of standards, which is the main exchange data model for PHD communication. We discuss how the proposed system can be integrated to other connected health systems, such as a Universal Plug and Play healthcare system. We detail how the CoAP communication model was adapted to the IEEE 11073 model. We also present a real PHD prototype and its evaluation results. These results demonstrated the feasibility of the proposed solution, showing how its network overhead is around 50% lighter when compared to other protocols. Finally, we tested the proposed solution based on different scenarios, including a proof-of-concept integration with a service in the cloud, using different wireless physical interfaces.

@&#INTRODUCTION@&#
In recent years, the connected health vision is growing due to the availability of new technology enablers, such as low energy wireless standards and new sensor technologies, allowing for the development of connected Personal Health Devices (PHD). At the same time, with skyrocketing costs of healthcare and the increasing demand for health services for both chronic diseases and aging populations, new challenges and opportunities are rising [1]. The current model of visiting a doctor or always having a caregiver around is not working anymore.Nowadays, Personal Health Devices can transmit data using short-range wireless technologies such as Bluetooth,1http://www.bluetooth.org.1Near-Field Communication (NFC),2http://www.nfc-forum.org.2ZigBee3http://www.zigbee.org.3or Bluetooth Low Energy (BLE), to mention some. Moreover, we are witnessing the explosion of connected and smart devices everywhere. Based on this scenario, a set of enablers like cheaper components, new standards, and the increasing availability of connected devices, contribute to an environment where we can use medical data sensors in our daily lives. For example, using these new technologies together with tools provided by connected TV manufacturers, it is possible to create a health application that pops up every morning to request the reading of blood glucose level and collects data from the PHD automatically. As a result, in the connected health vision, patients are the ones taking control of their health and wellness by being responsible for monitoring themselves using connected devices and services available on the Internet, enabling a true scenario for the Internet of Things (IoT) in healthcare.There are some challenges when creating a personal connected health infrastructure. Consumer electronics and mobile devices interact with each other using plug and play technologies, such as the Universal Plug and Play (UPnP). On the other hand, PHDs use different communication technologies such as Bluetooth, ZigBee, or USB. However, most wellness and health device manufacturers define and implement their own protocols, creating vertical solutions where their devices only communicate with their services. In other words, the main challenge is to seamlessly integrate PHDs, mobile devices and Internet services, considering scalability, flexibility and heterogeneity of devices and technologies.Based on these challenges, an expressive effort from companies and individuals defined standards for Personal Health Devices, such as the IEEE 11073 set of standards. These standards declare how devices should communicate to each other (IEEE 11073:20601 [2]) and how each entity should behave. This set of standards defines how health information is formatted independently of the transport layer.In parallel, based on the IoT vision and the increasing number of constrained devices connected to the Internet, new Internet-ready protocols are being defined. One of these protocols is the Constrained Application Protocol (CoAP) [3] proposed by the Internet Engineering Task Force (IETF).4http://www.ietf.org.4CoAP is based on the Representational State Transfer (REST) model and can be considered a real enabler for IoT. Therefore, its adoption in a connected health scenario should be evaluated and explored.In this article we introduce a system architecture where PHDs, mobile, and CE devices share health sensor data with local and Internet services using CoAP and IEEE 11073. We evaluated and detailed how the IEEE 11073 communication model should be adapted for CoAP, and what limitations are created. As a complementary effort, we integrate this new architecture with home networks based on UPnP [4] and present how this new proposal can be used with legacy connected health systems. Another contribution of this work is the use of IEEE 11073 standards as the core protocol for all systems. This integration enables PHDs to communicate in a standardized way, allowing them to share information across different services and other connected devices at home and on the Internet.The remainder of this article is organized as follows: In Section 2 we present a review of related works and systems for connected health. Section 3 gives an overview of Personal Health Devices technologies, presenting an overview of the IEEE 11073 standard and CoAP. In Section 4 we describe the proposed system architecture based on IEEE 11073, CoAP, and UPnP. Results of evaluation experiments and comparisons are presented and discussed in Section 5 in detail. Section 6 describes some real cases based on the proposed solution. Finally in the conclusion, an overall discussion, current challenges, and future works are presented.

@&#CONCLUSIONS@&#
In this article we discussed aspects related to Personal Health Devices (PHDs) communication with Internet services and home networks. We presented a proposal for using the Constrained Application Protocol (CoAP) and the IEEE 11073:20601 standards as a complete transport method for those devices. This proposal aims to increase awareness and availability of medical device standards in many dimensions, making it possible for PHDs to exchange information in a standardized and Internet-ready way. We also presented the integration of this proposal with a home health network architecture based on UPnP, which aims to provide a solution to integrate legacy PHDs and home devices. The possibility of using CoAP over different physical transport layers, such as Bluetooth Low Energy, and SMS, is also a potential enabler for its adoption in personal and consumer environments. Therefore, the proposed solution could be used as an alternative to current deployed connected health solutions and architectures.We presented a set of evaluation experiments and parameters that can be used to compare with other connected health solutions in an IoT world. The preliminary results have shown the feasibility of the introduced solution. The comparison results made clear how lightweight the CoAP is compared to other protocols, with more than 50% less traffic than other TCP/IP based solutions. Moreover, features such as confirmable messages proved to fulfill requirements for health information sharing on the Internet. In special, the results have shown that CoAP can be used as a replacement of TCP/IP for healthcare applications and PHDs. In fact, most of the expected limitations of UDP are solved by using the CoAP architecture instead.Based on the reference implementation, a set of usage applications were defined that highlights the interaction between the end-user, PHDs, and CE devices such as television sets and tablets, among others. The evaluation of the applications and reference implementation demonstrated the feasibility of the proposed architecture. As a result, the use of the proposed solution can be applied to different purposes, such as for Ambient Assisted Living (AAL). Projects like universAAL14More details at http://www.universaal.org/.14present reference systems and specifications for different AAL subsystems, where the use of connected health technologies and protocols, like IEEE 11073, are already used.