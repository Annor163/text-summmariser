@&#MAIN-TITLE@&#
A medical procedure-based patient grouping method for an emergency department

@&#HIGHLIGHTS@&#
A medical procedure-based patient grouping criterion is proposed.Self-organizing map (SOM) is applied to samples drawn from two patient populations.The quality of grouping results is assessed by multiple grouping indices.The best grouping result is further validated and verified as far as the statistical soundness and clinical relevance are concerned.The benefit of patient groups in supporting ED decision on resource planning and charging policy is briefly discussed.

@&#KEYPHRASES@&#
Healthcare,Patient grouping,Emergency department,Medical procedures,Self-organizing map,

@&#ABSTRACT@&#
Variability and unpredictability are typical characteristics of complex systems such as emergency department (ED) where the patient demand is high and patient conditions are diverse. To tackle the uncertain nature of ED and improve the resource management, it is beneficial to group patients with common features. This paper aims to use self-organizing map (SOM), k-means, and hierarchical methods to group patients based on their medical procedures and make comparisons among these methods. It can be reasonably assumed that the medical procedures received by the patients are directly associated with ED resource consumption. Different grouping techniques are compared using a validity index and the resulting groups are distinctive in the length of treatment (LOT) of patients and their presenting complaints. This paper also discusses how the resulting patient groups can be used to enhance the ED resource planning, as well as to redesign the ED charging policy.

@&#INTRODUCTION@&#
Emergency department (ED) plays a critical role in most of the healthcare systems because it is the frontline of acute care and the main route of admission to hospital. The complexity of an ED system is featured by diverse patient conditions, fluctuating patient demands, and manpower variation. In Hong Kong, the EDs have been prone to violating the ED service pledges such as the maximum waiting time and length of stay due to large patient demand and persistent ED manpower shortage. Grouping patients with similar characteristics would be one of the feasible alternatives to reduce the complexity and uncertainty in the ED management, and hence ensure the delivery of quality and stable services to the ED patients. Some previous researchers have been dedicated to patient grouping but most of them are not successful in clustering patients in consideration of resource consumption [1]. Three commonly used patient grouping criteria are introduced below.Casemix is a very common approach of patient grouping based on diagnosis-related grouping (DRG). As its name suggests, it only considers the patient clinical diagnosis categories [1]. The basic premise of Casemix is that patients with similar DRGs will consume a similar amount of resources. In many countries, local governments are using Casemix to fund public hospitals. However, people who against this approach may argue that the DRG method is built on the assumption of “average consumption” which could limit its predictive capabilities of identifying total resource consumption. For example, the elderly and frail patients would suffer under the DRG-based payment because they usually consume more ED resources, but only average resource level is assigned to them [2]. Moreover, the DRG method was originally developed to manage hospital patients. Its effectiveness under a more dynamic and pressing ED system has not been tested by any study.Length of stay (LOS) grouping suggests that LOS is a good proxy measure of resource consumption when the direct measurement is difficult and costly [3,4]. Many studies have adopted Gaussian mixture models to group hospital patients based on their LOS [4–6]. However, the appropriateness of using LOS as proxy to resource consumption is questionable when being applied to ED. In ED, most of the patients usually spend a large proportion of their LOS in the waiting for the first doctor consultation, during which little ED resources are consumed. Therefore, the time between the first consultation and disposition (discharge, admission, dead), or hereinafter known as length of treatment (LOT), would be a better measure of ED resource consumption than LOS.Patient pathway grouping is based on patient physical movements within a healthcare facility. Isken and Rajagopalan [7] have proposed an approach of grouping patients according to the pathway they took within hospital area. Maruster et al. [8] have suggested an alternative approach of grouping patients with respect to the logistic perspective of treatment. Takakuwa and Shiozaki [9] have identified over 70 patterns of patient flows for 9 patient categories in a simulation project for an ED in Japan. One problem of this grouping method is that patients with different medical needs may share the same pathway. Therefore, the ED staff assigned to each pathway must possess a wide range of skills to meet various medical needs. Also, it is quite challenging to optimize the arrangement of material resources for different pathways.Three grouping methods above cannot be explicitly linked up with the “actual” resource consumption in ED. Given the uncertain nature of the modern ED system, grouping patients requiring common medical procedures is worthy of investigation if one wants to modularize the ED management for better decision making especially under scarce resources. It is, thus, the objective of this paper to use a data-driven method to group patient with similar pattern of resource consumption. As the name indicates, the data-driven method makes solutions totally based on the data, and it does not involve any human knowledge which might bias the grouping result.The organization of the paper is as follows: Section 2 introduces several grouping methods and describes the study workflow. Section 3 describes the implementation of the proposed method using the real data followed by result discussion. Section 4 discusses how the patient grouping can be helpful to the ED manpower planning and charging policy. Section 5 concludes this study together with future work.Jain et al. [10] have provided a comprehensive survey of existing grouping techniques and some important applications. Nearly all the grouping algorithms aim to construct clusters with minimal intra-group diversity and maximal inter-group distinction. In this study, the patient grouping is a non-supervised learning process because no patient groups can be pre-defined from any specific ED knowledge. Therefore, three unsupervised grouping techniques are considered here, namely, hierarchical methods, k-means, and self-organizing maps (SOM).The hierarchical methods can be further classified into two types, namely agglomerative and divisive. The former starts with n clusters, where n is the number of observations. The distance between observations is calculated, and the two closest points are merged into a cluster. The number of groups is set by the analyst in advance before the merging process begins. On the contrary, the divisive hierarchical methods start from one cluster, that is the entire population, and the closest points are merged into new clusters. The drawback of hierarchical methods is that it cannot handle large amount of data and it is easily affected by the outliers. Moreover, the non-recovery characteristic of these methods means once an observation is assigned to a cluster, it cannot be moved at all [11].k-means is a popular non-hierarchical grouping technique. It is characterized by simple algorithm and fast convergence especially for high-dimensional problems. In essence, it is a method of partitioning a given set of n data points into k groups in D-dimensional Euclidean space RD. The partitioning in the space is usually based on Euclidean distance. k-means can have higher grouping accuracy if the number of groups is appropriately determined in advance. The process of k-means algorithm is summarized in four steps (Table 1).SOM [12] is a type of artificial neural network based on unsupervised learning algorithm, and it is a popular grouping method in solving real problems [15–17,21]. It can provide a two-dimensional visual presentation of high-dimensional data. It works well with large data size and multiple input variables. The non-linear nature of SOM overcomes some of the limitations of the hierarchical methods given its superiority of robustness against missing data. Similar to k-means, SOM does not assume prior distribution of data. The pseudo-code of SOM learning is shown in Fig. 1.The comparisons between three grouping techniques have been made in some previous studies. Mangiameli et al. [16] have presented an extensive work demonstrating that SOM outperformed seven hierarchical methods in terms of accuracy and robustness using 252 data sets with various levels of imperfections including dispersion, outliers, and non-uniform cluster densities. Same conclusion was drawn by Waller and Kaiser [17] claiming SOM outperformed hierarchical methods using artificial data sets. Kuo et al. [11] have made a comprehensive comparison between these three methods. They have found that both SOM and k-means are advantageous in handling large dataset, but the former is able to generate repeatable results due to its non-sensitivity to the starting points (number of groups and centroids). SOM has been extensively applied in different fields such as Engineering, medicine, tourism, marketing, economics, physics, and chemistry as summarized by Oja et al. [18].The existing literature however is not conclusive over the best grouping technique. In fact, the superiority of a method largely depends on the data [19,20]. Thus, this paper intends to compare the grouping result from hierarchical methods (single-link, complete-link, and average-link), SOM, and k-means using the real data of a local ED. The best grouping method is selected by the validity index. Because the grouping process is non-supervised, it is impossible to calculate the grouping accuracy against the pre-defined results from specific ED knowledge. Instead, the grouping results will be interpreted in the medical sense.Thus, the key steps of the proposed medical procedure-based grouping method are briefly summarized below.Data collection: We retrieve all the patient records during the study period. Besides the medical procedures, each patient record also includes information of demographics and triage category.Data preparation: We clean and preprocess the data into desirable format for analysis.Grouping methods: We apply hierarchy methods, SOM, and k-means to the patient data.Method selection: We select the most desirable grouping method based on the validity index.Validation: First, we determine if the grouping results are clinically reasonable and able to differentiate among patient groups. Second, we investigate if each group is distinct in terms of resource consumption. Here, LOT is used as a proxy of resource consumption in ED as previously discussed.The data contains 2452 records of Category 3 and 4 patients in a random week of 2012. It was collected manually from the archived ED forms. The reason of selecting patient records of two out of the total five categories (Appendix) is that the two categories make up more than 90% of the total ED patients. Each data entry refers to one patient record including patient demographics, triage category, disposition, and medical procedures. The data is cleaned for unclear handwriting and inconsistent dates. Patients left without being seen are excluded from this study. Medical procedures are recorded as binary integer with 0 indicating the absence of that procedure, otherwise, 1. It is possible for a patient to receive the same procedure repeatedly, but it is very rare in real situations. After data cleansing, the remaining records consist of 987 Category 3 patients and 1386 Category 4 patients, and they are fitted into the Excel worksheet (Table 2). Table 3shows the percentages of patient characteristics, and Table 4shows the summary statistics of LOT. Overall, the information provided by Tables 3 and 4 is consistent with the common situation in the target ED.The next step is to determine what medical procedures should be included in our analysis. It is not wise to enumerate all possible procedures because much of the ED work is only based on some common medical procedures. We have made a list of 35 medical procedures after discussing with ED staff, and rank them according to their usage frequency. The top 13 most frequent procedures are selected for further analysis. These 13 procedures account for 95% of the total ED treatment. The details of these procedures are given in Table 5. It is worth noting that only some of Category 4 patients require no treatment after consultation, and only a small number of Category 3 patients need naval packaging.We apply the grouping techniques to the data of Categories 3 and 4 patients separately. The number of patient groups varies from 4 to 8. This range is determined by running SOM on the sampled patient data without specifying the group number in advance. The grouping results of two categories’ patients are shown in Tables 6 and 7, respectively.The grouping results are validated by some important measures of grouping algorithms. They are (1) compactness assessing group homogeneity, (2) connectedness assessing how well the observations are placed in the same group as their nearest neighbors in the data space, and (3) separation quantifying the degree of separation between groups [21]. These aspects can be measured by three indices, namely Dunn's index, Davies-Bouldin's (DB) index, and Silhouette's index [22]. All the three indices are calculated, but we have found that the Dunn's and Silhouette's indices fail to agree on the best group number using our data. Therefore, only the result of DB index is reported here.DB index attempts to minimize the average distance between each group and the one most similar to it. Hence, the smaller the index, the better the grouping will be, For any number of groups, where ci represent the i-group of such partition and k is the optimal group number, the DB index can be calculated by the following equation:(2)DB=1k∑i=1kmax1≤j≤k,j≠idiam(ci)+diam(cj)dist(ci,cj),where dist(ci, cj) is the distance between clusters ciand cjwheredist(ci,cj)=minxi∈ci,xj∈cjd(xi,xj), d(xi, xj) is the distance between data points xi∈ciand xj∈cj, diam(cl) is the diameter of group clwherediam(cl)=minxi1,xl2∈cld(xl1,xl2). The optimal value of k minimizes the DB index.Tables 6 and 7 show that smaller values of DB index can be obtained by SOM. Based on the DB index, the best grouping method for Categories 3 and 4 patient is SOM, and the optimal number of groups is 6 and 7, respectively.Tables 8 and 9show the grouping results of Categories 3 and 4 patients, respectively, using the SOM. From the grouping results, the distribution of medical procedures within and across groups is also reported. The most common procedure in each group is bolded. Next, the grouping results will be validated.The validation takes two steps. First, the face validation checks if each group has distinctive mixture of medical procedures. Second, the LOT between different groups is compared to ensure each group represents a unique level of resource consumption.In the face validation (the first step), we have found that each group has one “core” procedure whose percentage is close or equal to 1 (Tables 8 and 9). In other words, nearly all the patients in the same group require that “core” procedure. For Category 3 patients, the “core” procedures include electrocardiography (ECG), lab blood test (LBT), X-ray (XRAY), infusion of IV fluid (INF), naval packaging (NP), and ultrasound (USG). For Category 4 patients, the “core” procedures are electrocardiography (ECG), lab blood test (LBT), X-ray (XRAY), infusion of IV fluid (INF), non-lab urine test (NUT), dressing (DRS), and no treatment (NT). Each group consists of 4 (e.g. group no. 5 of Category 3 patients, group no. 6 of Category 4 patients) to 11 procedures (e.g. group no. 3 of Category 3 patients). In general, Category 3 patients need more procedures than Category 4 patients.In the second step, the average LOT of each group is calculated and Wilcoxon rank sum test between pairs of groups is performed. The reason of not using one-way ANOVA here is that the LOT distribution of many groups does not conform to the normal distribution, and this violates the basic assumptions of ANOVA test. Wilcoxon rank sum test is a non-parametric alternative to unpaired t-test which does not assume a normal distributed population data. Therefore, the Wilcoxon's test is a better choice than one-way ANOVA in our study. Table 10presents the results of Wilcoxon's test. Despite some large p-values (>0.1) indicating the equal LOT, the average LOT in most pairwise comparisons (88.9%) is statistically different at the confidence level up to 90%. The exact sources of these large p-values are difficult to be traced, but it is reasonable to believe the procedure overlaps between two groups are most likely to be held responsible, such as group no. 2 and 5 and group no. 3 and 5. Nevertheless, the result of Wilcoxon's test generally reflects the distinct resource consumption levels between patient groups, hence, our primary purpose of patient grouping can be met.

@&#CONCLUSIONS@&#
