@&#MAIN-TITLE@&#
Two-player simultaneous location game: Preferential rights and overbidding

@&#HIGHLIGHTS@&#
We develop a model where two players simultaneously choose their facilities’ sites.One of the players has preferential rights over the other.Nash equilibria are calculated by an algorithmic approach using linear programming.Including some level of asymmetry between players can benefit the franchiser.

@&#KEYPHRASES@&#
Location,Game theory,Competitive location problems,Simultaneous decisions,Nash-equilibria,

@&#ABSTRACT@&#
Competitive location problems can be characterized by the fact that the decisions made by others will affect our own payoffs. In this paper, we address a discrete competitive location game in which two decision-makers have to decide simultaneously where to locate their services without knowing the decisions of one another. This problem arises in a franchising environment in which the decision-makers are the franchisees and the franchiser defines the potential sites for locating services and the rules of the game. At most one service can be located at each site, and one of the franchisees has preferential rights over the other. This means that if both franchisees are interested in opening the service in the same site, only the one that has preferential rights will open it. We consider that both franchisees have budget constraints, but the franchisee without preferential rights is allowed to show interest in more sites than the ones she can afford. We are interested in studying the influence of the existence of preferential rights and overbidding on the outcomes for both franchisees and franchiser. A model is presented and an algorithmic approach is developed for the calculation of Nash equilibria. Several computational experiments are defined and their results are analysed, showing that preferential rights give its holder a relative advantage over the other competitor. The possibility of overbidding seems to be advantageous for the franchiser, as well as the inclusion of some level of asymmetry between the two decision-makers.

@&#INTRODUCTION@&#
Competitive location problems have been receiving the attention of researchers at least since 1929, when Hotelling introduced the problem of two competitors that wanted to maximize the demand captured by their own facilities (one facility each), located along a line where customers were uniformly distributed (Hotelling, 1929).Many authors have addressed sequential location problems in which facilities compete with one another. Hakimi (1983, 1986) considers problems in which we want to find a set of optimal locations that will compete with the ones previously installed. Plastria and Vanhaverbeke (2008) consider a discrete competitive location problem, where the objective is to maximize the coverage and the leader takes into account that a follower will enter the market. Küçükaydin et al. (2012) study a sequential problem where the leader locates considering not only the already existing facilities of the follower, but also the follower’s reaction that can consist of opening, closing or adjusting the attractiveness of his facilities. Aboolian et al. (2009) consider the discrete problem of optimally locating m new facilities, considering the existence of already opened facilities that will compete for the customer demand. For a review of sequential competitive location problems see, for instance, Eiselt and Laporte (1996), Kress and Pesch (2012), and Plastria (2001).Other authors have analysed the simultaneous location of multiple facilities that compete with each other. Rhim et al. (2003) consider a three-stage discrete competitive location game with location, production capacity and production quantity decisions that can be made either simultaneously or sequentially. Sáiz and Hendrix (2008) consider a two-stage competitive network location problem, where only nodes are potential locations for services. In the first stage, decision-makers simultaneously decide where to locate a supplying service and in the second stage decision-makers define the quantity to be produced. Sáiz et al. (2011) consider a location-quality problem in continuous space with two competitors deciding simultaneously. First, the competitors decide the location of the facilities and then they define the quality. Díaz-Báñez et al (2011) consider a planar location problem with two decision-makers and simultaneous location decisions. The authors assume that the competitors sell similar products, and customers choose the supplier that makes a smaller delivered price. First, the decision-makers decide the location of the facilities and then they define the prices.In this paper we consider a two-player competitive discrete location game, designed for the analysis of a franchising situation. There is a franchiser who defines a discrete set of potential sites where services can be opened, and two franchisees that have to simultaneously choose where to locate their services, without knowing the decisions made by the other. We consider that one of the franchisees has preferential rights over the other. This means that co-location is not allowed, and if both franchisees show interest in the same potential site, only the one with preferential rights is able to open the service at that site. Furthermore, we consider that both franchisees have budget constraints, but we allow the one without preferential rights to overbid (show interest in more sites than the ones she can afford). Demand is assigned to the closest open service. We are interested in studying the consequences of considering preferential rights and overbidding on this simultaneous location game. Particularly, we want to find the answer to the following questions:•Is it advantageous for the franchiser to give preferential rights to one of the franchisees?If one franchisee has preferential rights, is it advantageous for the franchiser to allow the other one to show interest in more sites than she can afford?How great is the advantage that preferential rights provide to the franchisee?To what extent does the possibility of overbidding offset the advantage given by preferential rights?How do the answers to the above questions change with some particular parameters of the problem (number of sites available to each franchisee, budget, average fixed cost of a service, asymmetry between players)?In order to analyse this situation, we present a model and an algorithmic approach for calculating a Nash equilibrium. We define a set of computational experiments, run them and analyse the results.Most of the literature dedicated to location problems with simultaneous decisions considers location in the plane. The problem we consider belongs to the class of simultaneous discrete location games, but there are several features that distinguish it from other games of this class: the context we consider leads to a single-stage game, since only the location decision is relevant; the number of services that may be opened by any decision-maker is neither pre-determined nor unlimited but it is determined by budget restrictions considering the investment costs required by different locations; the decision-makers do not have equal status, since one of them has preferential rights over the other.The competitive discrete location problem that we are tackling can be interpreted as a problem of strategic resource allocation among a set of possible locations, a type of games usually known as Colonel Blotto games (Roberson, 2006; Kovenock and Roberson, 2010). The Colonel Blotto game considers a situation where two decision-makers (colonels) have to simultaneously decide how to allocate their limited resources to n independent locations (battlefields). Each battlefield is won by the colonel that allocates the greatest amount of resources to that battlefield. We can think of the two franchisers as being the two colonels, and the potential locations for services to be the battlefields. Unlike what happens in Colonel Blotto games, in this case the decision of each player is a binary decision: should resources be allocated to this location or not? Moreover, we are considering as possible the relaxation of the budget restriction for one of the colonels, making it possible to allocate more resources than the ones he has available. The same resource can thus be allocated to more than one battlefield because the resource will only be used if he wins that battle. Unlike what happens in Colonel Blotto games, the payoff of our game is not a direct function of the number of battlefields won but has to do with the demand that is assigned to that location, which depends on the contest results of all other battlefields.The paper is organized as follows: in Section 2 we describe the problem, which is presented in a formal way in Section 3. In Section 4 we describe the algorithmic approach. We then outline the experiments in Section 5 and we present and analyse the computational results in Section 6. In Section 7, some conclusions are drawn and future paths of research are devised.Consider a company that wants to enter in a new market, but it does not have complete information about the demand patterns of this market. The company has already defined a discrete set of potential sites to open a service, and the company is willing to open at most one service in each potential site. The definition of this set of potential sites can be made by applying a range of different criteria: minimum number of inhabitants, the existence of competitors, the existence of a dynamic commercial district, and so on. The company is interested in finding local investors who will decide by themselves what the most interesting sites are. The company is the franchiser and the local investors are the franchisees.Let us assume that there are two interested investors, that is, two franchisees. The company will make known to both franchisees the set of potential sites, and they have to decide simultaneously which of them they are interested in. This means that there is the possibility of them both showing interest in the same site. To break this tie, and to choose which of the franchisees has the opportunity of opening the service, the franchiser performs an analysis of the investors’ profiles and decides to give preferential rights to one of them. For the sake of simplicity, let us call this investor franchisee 1. The chosen franchisee may be the one with great financial capacity, or an investor that the franchiser already knows. She may even be already a franchisee, with opened services in this or other markets. Whenever both franchisees show interest in the same site, franchisee 1 is the chosen one.We assume that all services are offering the same products at the same price. This means that the only criterion that can justify the preference of one customer by one particular service in detriment of another is distance: customers always patronize the closest open service. We consider that demand does not increase with distance. This means that the further away the closest opened service is from a customer, the smaller the corresponding total demand is. If the profit is a constant percentage of sales, then maximizing the total demand is equivalent to maximizing the profit. The franchiser payoff is a percentage of the sales made by opened services.There are fixed costs associated with the opening of a service, which can be different between franchisees, but that are known by both. Each franchisee is aware of its costs and the costs of the competitor she is dealing with. They both are aware of the demand patterns, which will depend on the distance between each customer and the closest open service. We also assume that each franchisee has a maximum budget to spend.We consider that, by showing interest in a given site, each franchisee will enter a binding agreement in which she agrees to open the service in case the franchiser allows her to do so. Considering the budgets available to both investors, it is clear that franchisee 1 will not be able to bid for more locations than the ones she can afford, due to the fact that she knows she will open all services she shows interest in. However, things are not so simple regarding franchisee 2, as she can bid for locations that she will not be able to open, since some of the sites she chooses may be given to franchisee 1 instead. Here, two different rules can be employed: including a hard budget constraint that will not allow franchisee 2 to bid for more sites than the ones she can afford, or dropping this constraint in the bidding phase, and allowing her to bid for more sites than the ones she can afford. The reasoning underlying this latter approach takes into account that, in some cases, franchisee 2 will know beforehand that she will not be able to open services in all of her chosen locations, because some locations are chosen by franchisee 1. In such cases, it may be rational for her to bid for more sites than she can pay for, if she knows that she will only win a subset of these sites that fits her budget.As an example, consider the case in which there are only two potential sites, with equal investment costs, and the budget of each franchisee allows her to open one service only. As they will decide simultaneously, franchisee 2 does not know which site franchisee 1 will choose. However, franchisee 2 knows that franchisee 1 will choose one site only, so she may bid for both potential sites in order to ensure that she will keep the site that is not chosen by franchisee 1. Franchisee 2 can thus bid for more sites than she can afford, as long as she can be sure that she will only be given a set of sites that she can afford. This paper investigates the consequence of overbidding. In related works, Godinho and Dias (2010) address the case in which the franchiser allows more than one franchisee to open a service at a given site, and the case in which franchisee 2 cannot show interest in more sites than the ones she can afford (Godinho and Dias, 2012).We are in the presence of a game, the rules of which are defined by the franchiser. Our first goal is finding out which rules are more advantageous to the franchiser:•Is it advantageous for the franchiser to give preferential rights to franchisee 1?If franchisee 1 has preferential rights, is it advantageous for the franchiser to allow franchisee 2 to show interest in more sites than the ones she can afford?The two franchisees are the players of the game, each one having a finite set of actions. An action is defined here as the set of chosen sites. Our second goal is to investigate how the rules defined by the franchiser will impact the expected return of both franchisees:•How great is the advantage that preferential rights provide to the franchisee?To what extent does the possibility of overbidding offset the advantage given by preferential rights?The answers to the previous questions may be affected by some particular characteristics of the situation being considered, like the number of sites available to each franchisee, the budget of each franchisee, the average fixed cost of a service and the level of asymmetry between players. The final goal is to get an idea of how these parameters may impact the answers to the previous questions:•How do the answers to the above questions change with the particular parameters of the problem?An analysis of the general setting allowed us to formulate several hypotheses concerning the research questions:•If the franchiser gives preferential rights to franchisee 1, we expect it should be better for her to allow franchisee 2 to overbid. In fact, allowing franchisee 2 to overbid should increase the expected number of services to be opened, increasing the total assigned demand and the franchiser payoff.We expect that preferential rights will benefit franchisee 1 in detriment of franchisee 2, and the possibility of overbidding will allow franchisee 2 to mitigate this disadvantage, but will not cancel it completely. When overbidding is allowed, franchisee 1 will still be able to choose the best sites, but it will be more difficult to keep franchisee 2 far from these sites.We expect that decreasing the number of potential sites or increasing the budget of each franchisee will increase the advantage provided by preferential rights. In both cases franchisee 1 is expected to have an increased ability to keep franchisee 2 far from the best sites, thus increasing the asymmetry between them.We expect that reducing the budget of any of the franchisees, or the number of potential sites available to her, will reduce her payoff. Reducing the budget of a franchisee is also expected to reduce the payoff of the franchiser, since the franchisee is expected to be able to open fewer services, leading to a reduction of the total demand and harming the payoff of the franchiser.There are some important aspects about which we do not have prior expectations. In particular, we do not have prior expectations concerning the first research question: we do not have any reason to think that giving preferential rights to a franchisee may benefit or harm the franchiser. In order to determine whether our hypotheses are correct, and to get answers for the questions for which we were not able to formulate expectations, we will define a model and make the necessary computational experiments.In this location game there are two players (the franchisees) that want to locate services among a predefined set of potential sites. Franchisee 2 may not get all the sites that she shows interest in, so we will distinguish between the sites in which she shows interest (we will say that she bids for opening a service at those sites), and the sites in which she may actually open a service. We now define the notation used.Number of sites and customers:n1 − number of potential sites for new services;n2 − number of pre-existing opened services that belong to franchisee 1; andm − number of customers.Indices:i − index of potential sites for new services (i=1,…,n1) and pre-existing opened services that belong to franchisee 1 (i=n1+1,…,n1+n2);j − index of customers, j=1,…,m; andp − index of franchisees, p=1,2.Data:dij− demand associated with customer j when he is assigned to a service located at site i, expressed as the value of sales to the customer, i=1,…,n1+n2; j=1,…,m;cij− distance between customer j and site i, i=1,…,n1+n2; j=1,…,m;fip− fixed cost associated with franchisee p opening the service at site i, i=1,…,n1; p=1,2;α − payment to the franchiser by the franchisees, expressed as a percentage of their total sales;Op− maximum budget available to franchisee p, p=1,2.Decision variablesyi=1,if franchisee1opens a service at siteior has a pre-existing opened service at sitei0,otherwise,∀i=1,…,n1+n2wi=1,if franchisee2bids for opening a service at sitei0,otherwise,∀i=1,…,n1Auxiliary variableszi=1,if franchisee2opens a service at sitei0,otherwise,∀i=1,…,n1xij=1,if customerjis assigned to serviceiof franchisee10,otherwise,∀i=1,…,n1+n2;j=1,…,muij=1,if customerjis assigned to serviceiof franchisee20,otherwise,∀i=1,…,n1;j=1,…,mv=penalization incurred by franchiser2if she bids for more services than the ones she can afford and then she is not able to keep her side of the agreementThe pricing policy is not defined by the franchisees. We can consider that we are in the presence of a mill pricing policy (Eiselt, 2011), since the price in each location is fixed and the customers provide for their own transportation. The price is independent of the chosen sites and is fixed by the franchiser. The fact that the customers provide for their own transportation justifies the fact that the demand will not increase with distance, and customers will always patronize the closest service. This means that:(1)cij⩽ckj⇒dij⩾dkj,∀i=1,…,n1+n2;k=1,…,n1+n2;j=1,…,mThe rules of the game can be defined as follows:1.The pre-established services of franchisee 1 remain open.2.Whenever both franchisees are interested in locating a service at a given site i, only franchisee 1 is able to do so, i.e. co-location does not take place. So, if yi=1 and wi=1, i=1,…,n1, we have zi=0. Let y be a binary vector with n1+n2 elements, such that the ith element corresponds to variable yi, and let w be a binary vector with n1 elements, such that the ith element corresponds to variable wi. Then this rule can be formally stated as:3.Customers will always patronize the closest opened service.4.Franchisee 1 has the budget constraint.5.Franchisee 2 is allowed to bid for more locations than the ones she can afford, but she is heavily penalized if she is not able to keep her side of the agreement, opening all services that she chooses and are allocated to her. This penalty can be calculated as follows:Both franchisees are interested in maximizing their own payoffs.Franchisee 1(8)Maxπ1(w,y)=(1-α)∑i=1n1+n2∑j=1mdijxij(w,y)Franchisee 2(9)Maxπ2(w,y)=(1-α)∑i=1n1∑j=1mdijuij(w,y)-v(w,y)In the context of a Nash game, y is an action for franchisee 1 and w is an action for franchisee 2, who we will refer to as player 1 and player 2 in the sequel. We want to make predictions concerning the outcome of the game. In some cases, we will be able to find an action for each player such that each player’s action is the best response to the other one’s action – that is, even if one of the players could guess the action of the other one, she would not change her chosen action, and this is valid for both of them.However, in some settings of the game, each player may want to adjust her actions to the actions of the other player, while keeping the other player from outguessing her actions. Assume there are three potential sites for new services, located on the vertices of an equilateral triangle, and three customers, each one located near a potential site and all with the same demand patterns. Assume also that the budget of each franchisee allows her to open one service only. In this setting, franchisee 1 will want to choose the same site as franchisee 2, in order to prevent franchisee 2 from being able to open a service, and franchisee 2 will want to choose a different site from franchisee 1, in order to capture some demand (franchisee 2 will not bid for two locations, since she would risk going over her budget). Each franchisee would like to outguess the other one, while preventing her to guess her own choice. This means that we cannot find a pair of actions that are the best response to each other, although it is fairly easy to define how the franchisees will play, in the form of probability distributions over the actions. In this case we refer to mixed strategies: a mixed strategy is a probability distribution over a player’s actions (Osborne, 2009, p. 107). In this context, a pure strategy can be defined as the deterministic choice of an action by a player. A Nash equilibrium is the choice of a strategy by each player such that each player’s strategy is the best response to the other one’s strategy. Nash theorem guarantees the existence of a Nash equilibrium, possibly involving mixed strategies for one or both players, in every finite, non-cooperative game, such as the one we are considering. Notice that by considering mixed strategies we are not assuming that the franchisees will choose an action at random, only that the action of each franchisee can be seen as random by the other franchisee and by the franchiser (see, e.g., Gibbons, 1992, p. 39).In some location games it is possible to prove that a pure strategy Nash equilibrium does exist, that is, an equilibrium in which each player plays a pure strategy (see, for example, Díaz-Báñez et al., 2011). In other location games, the authors have chosen to focus on pure strategy equilibria, and disregard the cases in which there are only mixed strategy equilibria (e.g., Sáiz et al., 2011). In this work, we take a different view. In the computational experiments that we performed, we found a significant percentage of cases in which we could find no pure strategy equilibrium. By considering only pure strategies, we would be unable to analyze such situations. Notice that mixed strategies provide answers to our research questions just as pure strategies do: predictions are made in the form of probability distributions defined over the actions.In this section, we define a procedure to find equilibria for the game. Considering mixed strategies makes it harder to find Nash equilibria for this game and, in fact, there is no obvious procedure for calculating Nash equilibria for it. Moreover, since the set of feasible actions of each franchisee is usually very large, the use of methods based on the complete set of actions, like the Lemke–Howson algorithm (Lemke and Howson, 1964) or the method proposed by Porter et al. (2008), will lead to very long computational times.Similarly to Lemke and Howson (1964) and Porter et al. (2008), we set out to compute sample Nash equilibria for the game. In order to calculate an equilibrium, we resort to an algorithm originally described in Godinho and Dias (2010). This algorithm is based on the best responses of each player to the strategy of the other and uses the Lemke–Howson algorithm on some restricted sets of actions. This algorithm is guaranteed to reach a Nash equilibrium. We will now present the algorithm and in Section 4.2 we will explain how to calculate the best response of a franchisee to a strategy of the other one.The algorithm starts with an arbitrary feasible action of one of the players, and sequentially determines the best response of each player to the last action of the other one. So, if the initial action belongs to player 1, the algorithm determines player 2 best response, then it computes player 1 best response to player 2 action, and so on. The algorithm goes on in this way until it reaches a situation in which each player’s action is the best response to the other one’s (in this case we have a pure strategy Nash equilibrium), or until it reaches a cycle with more than one action for each player.If a pure strategy Nash equilibrium has been determined, the algorithm stops. If a cycle is reached, then it considers a restricted set of actions with all the actions belonging to the cycle, and computes a possibly mixed Nash equilibrium taking into account only this restricted set of actions. This Nash equilibrium can be computed, for example, with the Lemke–Howson algorithm (Lemke and Howson, 1964). We will thus get an equilibrium (σ1,σ2), where σ1 and σ2 are the possibly mixed strategies of players 1 and 2, respectively. These mixed strategies are represented as vectors, in which each value refers to the probability of playing a given action by the player.This equilibrium is obtained with a restricted set of actions; therefore, it may be the case that it is not an equilibrium for the initial game. In order to find out whether (σ1,σ2) is an equilibrium for the initial game, we compute the pure strategy best response of each player to the strategy of the other – that is, we compute the action that leads to a larger payoff when the other player follows her strategy. If the best response of each player j leads to an identical payoff to the one she achieves with strategy σj, then (σ1,σ2) is a Nash equilibrium for the initial game, and the algorithm stops. Otherwise, for each player who may improve her payoff by changing her strategy, we take her pure strategy best response to the other player’s strategy and add it to her restricted set of actions. A Nash equilibrium is then computed for the new restricted set(s) of actions, and the process is repeated. The algorithm is only capable of calculating one Nash equilibrium at a time. We will now present a more formal definition of the algorithm.1.(Initialize the actions for both players)1.1.Let t←1, and let y1be an arbitrary feasible action for player 1 (for example, the action in which no new services are opened by the player).Let w1be a pure strategy best response of player 2 to y1(meaning that w1is an action).(Find the best responses of both players, and check whether an equilibrium or a cycle was reached)2.1.Let t←t+1. Let ytbe a pure strategy best response of player 1 to wt−1.Let wtbe a pure strategy best response of player 2 to yt.If wt=wt−1then (yt,wt) is a Nash equilibrium for the simultaneous decision location game. Stop.If wt=wu, for any u<t–1k then letS1←{yv:u<v⩽t}and letS2←{wv:u<v⩽t}. Go to step 3.Go to 2.1.(Compute a Nash equilibrium for the game defined by the restricted sets S1 and S2, and check whether it is an equilibrium for the complete game)3.1.Compute a Nash equilibrium (σ1,σ2) for the game in which the actions of player 1 are restricted to the ones in S1 and the actions of player 2 are restricted to the ones in S2. This equilibrium may be computed, for example, with the Lemke-Howson algorithm.Let y be a pure strategy best response of player 1 to σ2, and let w be a pure strategy best response of player 2 to σ1.If π1(σ1,σ2)=π1(y,σ2) and π2(σ1,σ2)=π2(σ1,w) then (σ1,σ2) is a Nash equilibrium for the simultaneous decision location game. Stop.(Add to the restricted sets the best responses leading to larger payoffs; iterate)4.1.If π1(y,σ2)>π1(σ1,σ2) then S1←S1∪{y}.If π2(σ1,w)>π2(σ1,σ2) then S2←S2∪{w}.Go to step 3.In the definition of the algorithm, we have chosen to start with a feasible action for player 1. We might have otherwise started with a feasible action for player 2. If the game has multiple equilibria, the specific equilibrium that is found by the algorithm will usually depend on the action used to start it. As shown by Godinho and Dias (2010), starting with a action in which a given player opens no services will tend to lead the algorithm to reach an equilibrium that slightly benefits the other player. In order to avoid such bias, in the computational experiments we will always apply the algorithm twice: one starting with a null action for franchisee 1 (that is, the action in which franchisee 1 opens no service) and the other starting with a null action for franchisee 2.In order to be able to use the algorithm, we must have a way to compute the best response of a player to the other one’s strategy. This can be done by solving a linear mixed integer programming problem.We start by considering player 1 best response to a mixed strategy of player 2. Let q be the number of actions that have a strictly positive probability of being played, according to player 2 mixed strategy, and denote such actions by wt,t=1,…,q. Each action wtis a binary vector with n1 elements wit,i=1,…,n1;t=1,…,q. Let the mixed strategy be represented by σ2=(σ21,σ22,…,σ2q), σ2t>0,t=1,…,q, where σ2tis the probability of player 2 playing action wt.We introduce the following additional parameter:ejt=mini=1,…,n1wit=1{cij},j=1,…,m;t=1,…,q,is the minimum distance between a site chosen by player 2 and customer j, when player 2 plays action wt.Let us now consider the decision variables yi∊{0,1},i=1,…,n1+n2, as defined before, and the following assignment variables:xijt=1,if customerjis assigned to serviceiof player1when player2plays actionwt0,otherwise,∀i=1,…,n1+n2;j=1,…,m;t=1,…,qThe best response of player 1 to the mixed strategy σ2=(σ21,σ22,…,σ2q), σ2t>0, t=1,…,q, of player 2 is the actiony=(y1,…,yn1+n2)that is an optimal solution of the following linear programming problem:(10)Max∑t=1qσ2t∑j=1m∑i=1n1+n2dijxijtSubject to :(6)∑i=1n1fi1yi⩽O1(2)yi=1,i=n1+1,…,n1+n2(11)xijt⩽yi,j=1,…,m;i=1,…,n1+n2;t=1,…,q(12)∑i=1cij>ejtn1+n2xijt=0,j=1,…,m;t=1,…,q(13)yi∈{0,1},i=1,…,n1+n2(14)xijt∈{0,1},j=1,…,m;i=1,…,n1+n2;t=1,…,qThe objective function is similar to (8), but considers the probabilities associated with the actions that have a strictly positive probability of being played by player 2. Restrictions (6) guarantee that demand assignments can only be made to opened services. Restrictions (2), along with (10), guarantee that assignments will only be made to the closest opened facility.This formulation does not explicitly consider the case in which multiple services are located at the same distance from a customer. In that case, we can consider dividing the customer demand equally by all services located at the same distance (similarly to what is described in Godinho and Dias, 2010).We now turn to player 2 best response to a mixed strategy of player 1. Ler r be the number of actions that have a strictly positive probability of being played in the mixed strategy of player 1, and denote such actions by yt,t=1,…,r. The mixed strategy is represented by σ1=(σ11,σ12,…,σ1r), σ1t>0, t=1,…,r, where σ1tis the probability of player 1 playing action yt. Each action ytcorresponds to a set of values for variables yi, i=1,…,n1+n2.In order to formulate the problem, we reverse the roles of the players in the definition of ejt: ejtis now the minimum distance between a site chosen by player 1 and customer j, when player 1 plays action yt.The assignment variables are now:uijt=1,if customerjis assigned to serviceiof player2when player1plays actionyt0,otherwise,∀i=1,…,n1;j=1,…,m;t=1,…,qThe best response of player 2 to the mixed strategy σ1=(σ11,σ12,…,σ1r), σ1t>0, t=1,…,r, of player 1 is the actionw=(w1,…,wn1)that constitutes an optimal solution to a linear programming problem similar to the one already defined regarding player 1. In this problem uijttakes the role of xijt, and restrictions (2) are not included in the formulation. Demand is only assigned to opened services, so (6) is replaced by:(15)uijt⩽(1-yit)wi,j=1,…,m;i=1,…,n1;t=1,…,rDemand assignments can only be made when player 1 does not bid for a site closer to the customer being considered. This means that (2) is replaced by:(16)∑i=1cij>ejtn1uijt=0,j=1,…,m;t=1,…,rSince investor 2 knows that she has to open all services that she bids for and are not chosen by investor 1, she will never select a strategy in which there is a strictly positive probability of not being able to open all the services that are allocated to her. This fact allows us to avoid using the variable v defined in Section 2, and instead stating that player 2 strategy will meet her budget for every action of player 1 that has a strictly positive probability in σ1. The budget constraint that replaces (6) only considers services that player 2 is able to open:(17)∑i=1n1fi2(1-yit)wi⩽O2,t=1,…,rIn order to find answers to the questions presented in the end of Section 2, we designed several experiments, which were then performed resorting to a computational implementation of the algorithm.In order to assess the benefits and losses derived from the existence of preferential rights and from the possibility of franchisee 2 being able to bid for more sites than the ones she can afford, we considered three different cases:–Case (i): at most one service is opened at each site, franchisee 1 has preferential rights and franchisee 2 can bid for more sites than the ones she can afford (the problem tackled in this paper).Case (ii): franchisee 1 does not have preferential rights and it is possible that both franchisees open a service at the same site (Godinho and Dias, 2010).Case (iii): franchisee 1 has preferential rights and franchisee 2 cannot bid for more sites than she can afford (Godinho and Dias, 2012).In order to assess how the results change with some particular parameters of the problem, we defined 13 experiment sets. Each set is composed by 50 randomly generated instances of the problem, with the same input parameters. In all the scenarios that we present, we considered that 20% of sales value is paid by both franchisees to the franchiser (α=0.2) and there are no pre-existing services opened by franchisee 1 (meaning n1=0).Specifically, we considered the following scenarios:–Scenario 1 (base case) was used as a reference, the parameters of the remaining scenarios being defined as changes over the parameters of this base case. We defined a network with 100 nodes (that is, 100 possible locations for the customers), with both franchisees being able to open services at 48 of these locations. The budget for each franchisee was set to 1000, and the average cost of opening a service was set to 350.Scenarios 2–4 were designed to allow us to analyze the impact of simultaneously changing the number of potential sites available for both franchisees. The number of potential sites was set to 36, 24 and 12 in scenarios 2, 3 and 4, respectively, and the values of the other parameters were identical to the ones used in the base case.Scenarios 5–7 allow us to analyze the consequences of changing the potential sites available to just one of the franchisees. We defined that franchisee 1 has 48 potential sites, and set the number of potential sites for franchisee 2–48, 36, 24 and 12 in scenarios 1, 5, 6 and 7, respectively. This is done by randomly choosing a subset of potential sites and considering fi2=+∞, for all services located at site i in this subset. The values of the other parameters were identical to the ones used in the base case.Scenarios 8–10 allow us to analyze the consequences of changing the budget of a franchisee, while keeping the budget of the other franchisee constant. We defined that franchisee 1 has a budget of 1000, and set the budget of franchisee 2–1000, 750, 500 and 250 in scenarios 1, 8, 9 and 10, respectively. The values of the other parameters were identical to the ones used in the base case.Scenarios 11–13 allow us to analyze what happens when the average fixed cost of each service changes and the budgets of the franchisees are kept constant. We set the average cost of each service to 175, 262.5, 350 and 525 in scenarios 11, 12, 1 and 13, respectively. The values of the other parameters were identical to the ones used in the base case.The algorithm was implemented in C programming language, using LP Solve routines for solving the linear programming problems (source: http://lpsolve.sourceforge.net). A random generation procedure was used to generate the problem instances, based on a 500×500 grid, random creation of arcs between locations, and the use of a shortest path algorithm to define the distances. The random generation procedure receives as inputs the following data:–Total number of nodes of the network.Total number of potential sites where franchisee 1 is able to open services.Number of potential sites available to franchisee 2 (that can be the whole set of potential sites available for franchisee 1 or only a subset).Budget for each franchisee.Maximum value for customer demand.Average fixed cost of each service.The generation procedure for each problem instance runs as follows:1.Random generation of (x,y) coordinates in the plane for all nodes of the network, according to a discrete uniform distribution and considering a 500×500 grid.Random creation of arcs between each pair of network nodes, with a probability of 75%. A distance is associated to each arc that is equal to the Euclidean distance between its two nodes.Creation of arcs (not created in step 2) between nodes such that the Euclidean distance between location nodes is less than 50, with probability of 80% (reflecting the fact that the existence of direct routes is more probable when the locations are closer to each other).Random choice of the set of n1+n2 potential service locations.If the number of potential sites available to franchisee 2 is less than the total number of sites, then a subset of nodes corresponding to the franchisee 2 available sites is randomly generated.Calculation of the shortest path between each customer and each potential site, using the Floyd–Warshall algorithm, and creation of a distance matrix.For each potential site, random generation of a starting fixed cost between 57% and 143% of the average cost. For each franchisee, this starting fixed cost is disturbed by a uniform randomly generated change between −30% and 30%.For each customer j, random generation of the maximum demand, which means the demand that would be considered if this customer j would be assigned to an open service i such that cij=0. For each potential site i, dijis calculated by randomly generating a demand decrease by unit distance. The demand decrease per unit distance is calculated as a uniform randomly generated percentage of customer j maximum demand (in the experiments, a 0.8% average decrease of demand per unit distance was used). The behavior of demand created by this method complies with the properties of insensitivity to scaling, monotonicity and consistency as defined in Eiselt and Laporte (1998).As mentioned in Section 4.1, for each instance that we generated, we applied the algorithm twice. The first time we chose a null action for franchisee 1 (opening no services) as the starting point; the second time, we chose a null action for franchisee 2 as the starting point. As we explained, the reason for applying the algorithm twice is that the results may be somewhat biased by the choice of the starting point. In fact, Godinho and Dias (2010) point out that the algorithm will often find solutions that are more favorable to the player whose best response is considered first. However we must notice that, in the problem addressed in this paper, the equilibrium solution that is found is usually independent of the starting point of the algorithm; moreover, when different starting points lead to different equilibria, the differences between the franchisees payoffs in the two equilibria are small.

@&#CONCLUSIONS@&#
