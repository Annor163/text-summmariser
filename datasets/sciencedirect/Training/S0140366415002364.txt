@&#MAIN-TITLE@&#
Routing-policy aware peering for large content providers

@&#HIGHLIGHTS@&#
We investigate the impact of routing policies and peering policies on the selection of peering connections for content providers.We formulate the policy-aware peering problem, and prove that the problem is NP-complete.We provide a heuristic algorithm to solve policy-aware peering problem.We examine the lower bound of peering connections to cover end users in today’s Internet.We investigate 5 large content providers, and find that adding as little as 3–5 new peering connections can enhance their connection to end users significantly.

@&#KEYPHRASES@&#
Content providers,Peering connection,Peering relationships,Routing policy,

@&#ABSTRACT@&#
Large content providers, such as Google, Yahoo, and Microsoft, aim to directly connect with consumer networks and place the content closer to end users. Exchanging traffic directly between end users and content providers can reduce the cost of transit services. However, direct connection to all end users is simply not feasible. Content providers by-and-large still rely on transit services to reach the majority of end users. We argue that routing policies are an important factor in considering the selection of ISPs for content providers. Therefore, determining which ISP to peer or use as a transit becomes a key question for content providers. In this paper, we formulate the policy-aware peering problem, in which we determine not only which ISP to connect with, but also the kind of peering agreement to establish. We prove that such a policy-aware peering problem is NP-complete, and propose a heuristic algorithm to solve the problem. Further, we perform a large-scale measurement study of the peering characteristics of five large content providers, and evaluate the existing peering connections deployed by the content providers. Our measurement results show that changing the existing peering agreements or adding as little as 3–5 new peering connections can enhance the connection between content providers and end users significantly.

@&#INTRODUCTION@&#
The rapid growth of large content providers, such as Google, Yahoo, and Microsoft, is changing not only the inter-domain traffic patterns but also the hierarchical topology of the Internet. Content providers are using the Internet to deliver videos, TV shows, movies, sports and live programs to mobile phones, televisions, tablets and computers. A recent measurement study [39] has shown that the majority of the inter-domain traffic is between large content providers and consumer networks. At the same time, the Internet topological hierarchy becomes flatter and denser due to the inter-connection strategies employed by large content providers [17,28,39]. Furthermore, large content providers (i) have built their own global backbones, (ii) directly peer with consumer networks, (iii) move the content closer to the end-users (through content delivery networks for example), and (iv) adopt various peering policies in order to ensure small latency in delivering content. For example, Google moves the majority of its video and search traffic away from transit providers to its own backbone infrastructure and directly connects with consumer networks [39].However, direct connection to all customer networks is simply not feasible. Large content providers, while still relying on transit services of large Internet Service Providers (ISPs) to have global reachability, may select some access networks to connect directly with end users in order to provide better content delivery. For example, Netflix, a television and movie streaming content provider, agreed to pay Comcast millions of dollars annually to deliver its content directly [54]. Netflix previously connected to Comcast via its service provider, Cogent Communications. The new connection to Comcast’s network will speed up video streaming to Netflix customers. Therefore, determining which providers to connect to and the corresponding contractual agreement of the connections becomes a key question for large content providers.In this paper, we formulate the problem of peer selection for large content providers. A content provider can choose to connect to an ISP using its transit service for global reachability. Alternatively, the content provider can connect to an ISP to reach its customers only. Our goal is to determine the ISPs that a content provider should connect with and the kind of peering agreement that the content provider should establish with the selected ISPs.On the surface, our problem might be solved with content placement algorithms [9,21,34,40,41,47,51,58]. However, the fact that routing policies and peering agreements are taken into account in the selection of peers makes the problem much more challenging. Different from the content placement problem, we determine not only who to peer with but also the peering agreement to establish. We further consider routing policy in quantifying the distance between the content providers and an end user. It is well known that an AS may take a longer path rather than the shortest path, possibly as a result of the routing policies [46,56,59]. We prove that such a policy-aware peering problem is NP-complete, and propose a heuristic algorithm to solve the problem.To evaluate our heuristic algorithm, we first perform a large-scale measurement study of peering characteristics of five large content providers. We then evaluate our heuristic algorithm in the context of current Internet topology. We derive the minimum number of peering ISPs with different peering agreements to cover today’s Internet. We investigate the existing peering agreements employed by the five large content providers. We find that it is still possible for those content providers to cover their clients within the same distance if they maintain less transit service agreements. In addition, our measurement shows that adding as little as 3–5 new peering connections can enhance the connection between content providers and end users significantly.The rest of the paper is organized as follow: In Section 2, we introduce routing policies and peering relationships guided by commercial relationships. In Section 3 we formally define the policy-aware content placement problems. In Section 4, we propose a heuristic algorithm to address the problems. In Section 5, we perform a large-scale measurement study of peering characteristics of five large content providers, calculate the minimum number of peering ISPs for today’s Internet, and compare the peering selection return by our algorithm with that of the content providers. Section 6 presents the related work. We conclude the paper in Section 7 with a summary.

@&#CONCLUSIONS@&#
