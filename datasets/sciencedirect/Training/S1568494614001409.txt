@&#MAIN-TITLE@&#
Optimal approach on net routing for VLSI physical design based on Tabu-ant colonies modeling

@&#HIGHLIGHTS@&#
We proposed a mixed algorithm by combining ant colonies and Tabu search algorithm for improving net routing in VLSI design.We investigated the different structure such as two-terminal, multiple-terminal, multi-layers and gridless net routing in VLSI physical design.We detected the proper parameters matching for the new mixed algorithm implement.We detected the property and efficiency of the new mixed algorithm.It implies a potential method for very large-scale integration (VLSI) physical design.

@&#KEYPHRASES@&#
Tabu-ant colonies hybrid modeling,Net routing,Optimal path, gridless net routing,VLSI physical design,

@&#ABSTRACT@&#
To get a more efficient program for net routing design in VLSI physical design, a new mixed algorithm is presented by combining ant colonies algorithm and Tabu search algorithm for improving net routing design scheme in VLSI physical design. The models by considering different structure property such as two-terminal, multiple-terminal, multi-layers and gridless net routing are developed with introducing the proper parameters matching which can be obtained by computer experiments. The results show that the new algorithm can avoid the low convergence rate in the initial stage of basic ant colonies system. The efficiency of the Tabu-ant colonies is improved about 16.667%; meantime, the Tabu-ant colonies system can also avoid the local optimal solution effectively. It builds a basis for future work in solving multiple-terminal, multiple-layers and gridless net routing problems with high efficiency.

@&#INTRODUCTION@&#
Net routing is a NP-complete (non-deterministic polynomial time) problem in very large-scale integration (VLSI) physical design [1–15]. As the electric circuit integration increasing day by day, the accuracy of the net routing becomes more and more accurate, the efficiency of the algorithm becomes faster and faster, however, the structure is more and more complex, the net ports are also increasing. The traditional algorithm cannot meet the design requirements any more. So, we should propose some new algorithms continuously. In recent years, many intelligent algorithms, such as genetic algorithm, immune algorithm and ant colonies system, have appeared and applied to many important fields gradually. These algorithms have a great application prospect in VLSI design [1,5–7].Kahng [1] proposed a parallel, analog approach for the construction of a minimum rectilinear Steiner tree (MRST), which intuitively shrinks a bubble around the pins of the signal net until a Steiner tree topology is induced. Sardar et al. [2] developed a geometry independent wirelength estimation method in VLSI routing for VLSI Design. In this paper, they propose a partition driven wirelength estimation technique that generates routing solution without any prior knowledge of placement, and pin locations. They compared our experimental results with an exact global router values, and the accuracy of their result is quite encouraging. Zhang and Chu [3] investigated an efficient detailed router applying regular routing patterns. In this paper, Regular Route is proposed for potentially better design rule satisfaction based on a correct-by-construction methodology. Regular Route generates a detailed routing solution that satisfies the basic spacing-based design rules. To satisfy all the design rules, they propose an abstract idea of local optimization based on local shift and rip-up-and-reroute, assuming that most design rules are complex functions of local and neighboring geometries. Their experimental results demonstrate the effectiveness and efficiency of Regular Route. Wu et al. [4] study global routing via integer programming. This paper introduces GRIP, a global routing technique via integer programming. GRIP optimizes wirelength and via cost directly without going through a traditional layer assignment phase. By using integer programming in an effective manner, GRIP obtains high-quality solutions. Specifically, for the ISPD 2007 and 2008 benchmarks, GRIP obtains an average improvement in wirelength and via cost of 9.23% and 5.24%, respectively, when compared to the best result in the open literature. Hadlock [5] discussed a shortest path algorithm for grid graphs. Huijbregts and Jess [6] investigated general gate array routing by using a k-terminal net routing algorithm with failure prediction. A general approach to gate array routing is presented, based on an abstract routing space model. Kohira et al. [7] developed a fast longer path algorithm for routing grid with obstacles using biconnectivity based length upper bound. A fast longer path algorithm that generates a path of a net in routing grid so that the length increased as much as possible is proposed. Liao et al. [8] developed three hybrid ant colony optimization algorithms for mixed discrete-continuous optimization problems. The first two hybrids, labeled ACOR-HJ and ACOR-DE, differs in philosophy with the former integrating ACOR with the effective Hooke and Jeeves local search method and the latter a cooperative hybrid between ACOR and differentia evolution. The third hybrid, labeled ACOR-DE-HJ, is the second cooperative hybrid enhanced with the Hooke and Jeeves local search. It was showed that all three algorithms greatly outperform the original ACOR in finding the exact or near global optima. Dogan and Korürek [9] study a new ECG beat clustering method based on kernelized fuzzy c-means and hybrid ant colony optimization for continuous domains. The proposed method is applied to a dataset which is obtained from MIT-BIH arrhythmia database. After several experiments it is observed that the proposed method outperforms the traditional fuzzy c-means and kernelized fuzzy c-means algorithms. Lin and El Gamal [12] discussed a low-power field-programmable gate array routing fabric. The results show that an FPGA using this fabric can achieve 1.57 times lower dynamic power consumption and 1.35 times lower average net delays with only 9% reduction in logic density over a baseline island-style FPGA implemented in the same 65nm CMOS technology. The new routing fabric is also well-suited to monolithically stacked 3D IC implementation. Chaudhry et al. [13] discussed some efficient rerouting algorithms for congestion mitigation. Borah et al. [14] developed a fast and simple Steiner routing heuristic. This paper presents a simple yet efficient heuristic for rectilinear Steiner routing. The basic heuristic introduces a new edge into the existing tree for another, costlier edge such that the resulting graph remains a tree. The heuristic has been successfully applied to the problem of minimum-length Steiner routing and minimizing critical-sink Elmore delay. Yang et al. [15–17] discussed a mixed isomorphism approach for kinematic structure enumeration graphs based on GA and Ant algorithm respectively. Rescki [18] gave an introduction for interested mathematicians, concentrating on some simple special subproblems which can be used as illustrations of the applicability of combinatorial optimization.In this paper, in order to improve the efficiency of the net routing in the IC net design, a Tabu-ant colonies modeling method is developed by combining ant colonies algorithm with Tabu search algorithm for VLSI physical design. A non-uniform grid graph and a gridless graph is designed as the routing models. The related parameters are discussed and suitable values are taken. The computer experiments can illustrate the validity of the new mixed algorithm for solving the shortest path in VLSI routing design.The non-uniform gird graph and the gridless graph are two common models for net routing. The shadows in Fig. 1present obstacles. They can be either electronic component or routed net. The points S and T in Fig. 1 are terminals for routing. We make vertical and horizontal line passing S and T. We make the scanning-beam along the boundaries of all the obstacles. So, the non-uniform gird graph is generated. The information in the graph includes: (1) the positions of the terminals; (2) the positions of the obstacles; (3) the positions and status of the nodes. Here, all the intersection points of the lines are nodes. The status of the nodes means whether the nodes are inside the obstacles or not and whether the nodes have been passed by in the course of the ants’ searching for path. The information can be recorded by a matrix.The generation of the gridless graph is familiar with that of the non-uniform gird graph. We need only notice that when we make the scanning beam, we should not let them penetrate the obstacles. Then, the terminals of the scanning beam and the points of intersection can constitute a lattice, which is named as routing model of the gridless graph. It can be shown in Fig. 2. The information in the graph can also be recorded by a matrix.We can see that the number of the nodes in Fig. 1 is much less than that in Fig. 2, this means that the storage space and search space in non-uniform grid graph model are larger than these in gridless graph model. But the later is more complex to implement. In this paper, we study with emphases on non-uniform grid graph model. We make some explorations about gridless graph at the rear of the paper.Ant colonies system is a new simulating evolution algorithm which was first presented by Italian scholar Dorigo et al. [19,20]. It is used to solve combinatorial optimization problem by studying the ability for finding the best path during the course of searching for food. The algorithm has been used to solve the traveling salesman problem, assignment problem, job scheduling problem, etc. successfully. The application of the algorithm of Ant colonies system to the two-terminal net routing can be described as follows.Step1Initialize the routing graph and give the initial value to the pheromone of the node in the routing graph;Place all the ants at the start terminal S;One ant chooses the next node following the rule in Formula (1). We must choose the next node from the set of optional nodes. Then make the local updating of the value of the pheromone of the chosen node by Formula (3). This is done repeatedly until the ant reaches the end point or the set of optional nodes is null;Check if all the ants have set out. If it has not, return to Step3; otherwise, record the shortest path;Make the global updating of the value of the pheromone by Formula (4);Check if it satisfies the condition for ending. If it does not, return to Step2; otherwise, end;Paint the shortest path in the graph.Supposing the position of one ant in the colony is r, this ant chooses the next nodes s by the following rules.(1)s=argmax{[ph(s)]α[dis(r,s)]β}ifq<q0SelseWe suppose the set of optional nodes is allowed(s). Where, s∈ allowed (s). ph(s) is the value of the pheromone on node s and dis(r, s) presents the distance from r to s. а and β are parameters. They show the comparative importance of the pheromone and the path. Where, q is a random figure confined in [0,1] and q0 is a parameter (0≤q0≤1). S is a ratio rule which chooses the next s by probability p(r, s).(2)p(r,s)=[ph(s)]α[dis(r,s)]β∑{[ph(s)]α[dis(r,s)]β}ifS∈allowed(s)0elseLocal updating of the value of the pheromone:(3)ph(s)=(1−ρ)ph(s)+ρph0Global updating of the value of the pheromone:(4)ph(s)=(1−ρ)ph(s)+ρΔph(s)where ph0 is the initial value of the pheromone and 1−ρ is the attenuation coefficient of the value of the pheromone.(5)Δph(s)=CLgbifs∈the global shortest path0elsewhere Lgbis the length of the present global shortest path and C is a constant.Tabu search algorithm is an extension of the local search algorithms. It is the application of artificial intelligence to combinatorial optimization algorithms. Its presentation is mainly for avoiding the local optimization in the searching course. A Tabu list is set up which can record the optimal path in the algorithm. In the later steps, the solutions in the Tabu list are partly adopted or abandon absolutely. We can avoid the local optimal solution by this way and search in a wider space. The length of the object, the candidate set, evaluation function and some computing information consist the main characters of the algorithm. The most important two indexes are Tabu object and the length of the object. Tabu object always makes the solution vary at some degree. The length of the Tabu object is decided according to the situation.The algorithm is described as follows:Step1Set (Tabu list) H=φ, initial solution: x0, present solution: x_cur=x0;Check if it satisfies the condition for ending. If it does, output the results, end; otherwise, choose the candidate set able (x_cur), which is not tabued;Choose the solution which has the optimal evaluation from able (x_cur); x_cur=x_best;Update the information in H; return to Step2.Though the study of the ant colonies system has shown its superiority in solving the complex problems, as a probability algorithm, it has some disadvantages for application.(1)Long searching time. The ant colonies system gets the optimal solution instructed by the pheromone's feedback. At the primary phase of the searching, because the pheromone's distribution is uniform, it is very hard to find a shorter path immediately. This is even more obvious when the solution space is large. Ants move on the path and pheromone is left. As the lapse of time, the path which has passed more ants than others will have more pheromone than the others. But, this course needs a very long time.The stagnation behavior of the algorithm. As the pheromone's accumulation on the path, the solutions will be same or similar. That is to say, the algorithm cannot make a further search for the optimal solution. The search falls into a local optimal solution.According to these disadvantages of ant colonies system, we can improve it by using following measures.(1)Adjust the initial distribution of the pheromone. The uniform distribution of the pheromone is the main reason of the slow convergence rate in the primary phase. So, we regard the area in which appears the optimal path in a higher rate as the effective area for routing. Experiences show that, in many cases, it is possible to find the shortest path in the minimum rectangular area which covers all the terminals. Therefore, we regard this as the main area for searching and strengthen the pheromone of this area.Improve the rules for moving. Based on the moving rules in Eq. (1), we know that a heuristic rule is used in ant colonies system. The pheromone of the node and the distance from the node to the next nodes are the main factors to be considered. But the searching direction is not taken into consideration at all. Actually, because the existence of the end point, the nodes which are near to the end point must be taken into prior consideration. By this way, the moving direction can be controlled to avoid its getting away from the end point. It makes the tendency to search for the end point more obviously.The ant colonies system can avoid the local optimal more effectively by combining with Tabu search algorithm. As the lapse of time, the path which has passed more ants than others will have more pheromone than the others. To avoid the early convergence to the local optimal solution, we can resort to the divergent mechanism of Tabu search algorithm. When the value of the pheromone of one node is higher than a certain constant, the node will be put into the Tabu_list A. Then we decide weather put this node into the set of optional nodes according the information in list A. Besides, the optimal solution which is obtained in one of the repeats is put into the Tabu_list B. And we also decide weather implement the global updating of the value of the pheromone. By this way, we can effectively avoid the accumulation of the pheromone on some of the paths and avoid lose the global optimal solution.According to these aforesaid measures, an improved algorithm can be presented which is named as Tabu-ant colonies system. The improved algorithm can be described as followings for the two terminal net routing.Step1Initialize the routing graph and give the initial pheromone value to the net nodes;Give the start point and the end point. Strengthen the value of the pheromone in the minimum rectangular area which covers all the terminals;All the ants are placed at the start point S;Each ant chooses the next nodes follow the rules in Eqs. (6) and (7). Check if the node in the Tabu_list A. If it does not, make the local pheromone updating, then check the value of the pheromone on this node. If it exceeds the upper limit ph_max, put the node into Tabu_list. If this node has already been in the Tabu_list, make sure weather put the node into the set of optional nodes;Repeat, until the ant gets the end point or the set of optional nodes is null;Check if all the ants have started. If they do not, return to Step4; otherwise, record the shortest path;Put the shortest path in this repeat into the Tabu_list B. We decide weather make the global updating according to the information in the Tabu_list;Check if it meets the condition for ending. If it does not, return to Step3; otherwise, end;Paint the shortest path in the graph.The improved moving rules as following(6)s=argmax{[ph(s)]α[dis(r,s)]βdis(start,end)−1}ifq<q0Selse(7)p(r,s)=[ph(s)]α[dis(r,s)]βdis(start,end)−1∑{[ph(s)]α[dis(r,s)]βdis(start,end)−1}ifS∈allowed(s)0elsewhere start presents the start point, end presents the end point. And dis(start, end) is the distance from the start point to end point.The ant colonies algorithm and the improved ant colonies are used to search the shortest path for the net routing in two-terminals. The h results are shown in Table 1. It shows that all these two algorithms can find the shortest the path, but there are different between them. The Number of successful runs and time of the improved ant colonies are improved. The efficiency of it is improved about 16.667%.The two-terminal net routing in the non-uniform grid is investigated firstly. In the ant colonies system, the parameters are selected according to the actual situation. Now, we can seta=1,β=−1,ph0=(n×dis(start,end))−1,n=20,ρ=0.1q0=0.5.The comparative importance of the experience and searching for new paths can be decided by q0. Its value can affect the experimental results greatly.Fig. 3shows the different searching characteristics when q0 chosen different values. The results show that when q0=0.1, the pheromone cannot be accumulated and reserved effectively, so the searching cannot get a convergence though the optimal solution can be obtained. And, when q0 is equal to 0.9, the searching characteristics shows that the q0 is too large to get an effective search. In this situation, the pheromone is accumulated so quickly that the search converged to the local optimal solution in early stage. But when q0 is equal to 0.5, the searching characteristics shows that a better searching results can be obtained. Hence, the parameter q0 is set as 0.5 [17]. Under these parameters, the shortest path of two-terminal net routing is searched based on the ant colonies and Tabu-ant colonies shown in Fig. 4.The comparison between some searching results can be implemented by using the depth-first searching system, the ant colonies system and Tabu-ant colonies system respectively for net routing problem. The results show that all these three methods can complete and find the shortest path, but they are different in the convergence shown in Fig. 5.The convergence time of ant colonies is 180s, the number of successful runs of ant colonies is 300 (times); while the convergence time of Tabu-ant colonies is 150s, the number of successful runs of Tabu-ant colonies is 220 (times). The results show that all the ant colonies system and Tabu-ant colonies system can find out the shortest path, but it reduces that the convergence time and number of successful runs of the Tabu-ant colonies. The comparison shows that the Tabu-ant colonies system can get a more effectively searching characteristics than other algorithms. Because the pheromone in the effective area for routing is reinforced, the convergence rate in the early stage is greatly improved. So it avoids the blindness of ant colonies system in the early stage. In the meantime, it can avoid the local optimal solution effectively by combing with Tabu search algorithm. So it can get a convergence to the global optimal solution after 220 repeats. This is better than ant colonies system. Besides, the time is also shorter than that of the ant colonies system.Multiple-terminal net routing can be processed as a complex form of two-terminal net routing. Fig. 6shows a six-terminal net routing. The course can be described as follows:(1)All terminals (A, B, C, D, E, F) can be regarded as a set S.We choose two terminals randomly from set S (for example B and C) and route them. So, it became a two-terminal net routing problem which we have discussed in previous paper. The path from B to C can be found. Then, terminals B and C are deleted from S.All the nodes on the path from B to C (B, p1, p2, C) can be regarded as a set T.We can get a terminal randomly from the residual nodes of set S (for example node A). Route A to T. This can also be regarded as a two-terminal net routing problem (A as start point and set T as end point). Then put A into set T and delete A from set S.Repeat (4) until all the terminals are included in set T.The multi-layers net routing result by using the intelligent Prim algorithm is shown in Fig. 7. Fig. 7(a) shows the first layer result and Fig. 7(b) the second layer result. The results show that the Tabu-ant colonies method is an effective means for multi-layer net routing. Tabu-ant colonies system can be applied to the gridless graph model. Fig. 8shows two-terminal net routing in gridless graph model. The results show that the Tabu-ant colonies method can be used for the multi-terminals, multi-layers and gridless graph models in the net routing.

@&#CONCLUSIONS@&#
The net routing design is an important technique to achieve an effective conceptual design for VLSI physical design. During the process of finding the optimal scheme by using some method, it shows a NP-complete problem. The aim of this paper is to provide a systematical method to intelligent net routing approach for very large-scale integration (VLSI) physical design. Based on analyzing the working characteristics of the VLSI, a Tabu-ant colonies system is developed by combining with the Tabu search algorithm for finding the optimal scheme of net routing in VLSI physical design. A non-uniform grid graph and a gridless graph are designed as the routing modes. The related parameters are discussed and suitable values are found. The mixed algorithm shows it can get a higher convergence rate than ant colonies algorithm or Tabu search algorithm. In addition, it can effectively avoid local optimum. Furthermore, the performances of the algorithm can be illustrated by comparing with other algorithm with some examples. Computer experiments show that the new algorithm is a valid algorithm to solve the net routing problem.