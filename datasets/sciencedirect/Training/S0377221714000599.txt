@&#MAIN-TITLE@&#
Service rate control of closed Jackson networks from game theoretic perspective

@&#HIGHLIGHTS@&#
Game theoretic control of service rates of closed Jackson networks.Best response of each server is to choose its serice rates on the boundary.Comparison of the Nash equilibrium and the social optimum.Bounds and special values of the price of anarchy are obtained.Iterative algorithm to find the equilibrium under proper conditions.

@&#KEYPHRASES@&#
Game theory,Queueing,Service rate control,Nash equilibrium,Markov decision processes,

@&#ABSTRACT@&#
Game theoretic analysis of queueing systems is an important research direction of queueing theory. In this paper, we study the service rate control problem of closed Jackson networks from a game theoretic perspective. The payoff function consists of a holding cost and an operating cost. Each server optimizes its service rate control strategy to maximize its own average payoff. We formulate this problem as a non-cooperative stochastic game with multiple players. By utilizing the problem structure of closed Jackson networks, we derive a difference equation which quantifies the performance difference under any two different strategies. We prove that no matter what strategies the other servers adopt, the best response of a server is to choose its service rates on the boundary. Thus, we can limit the search of equilibrium strategy profiles from a multidimensional continuous polyhedron to the set of its vertex. We further develop an iterative algorithm to find the Nash equilibrium. Moreover, we derive the social optimum of this problem, which is compared with the equilibrium using the price of anarchy. The bounds of the price of anarchy of this problem are also obtained. Finally, simulation experiments are conducted to demonstrate the main idea of this paper.

@&#INTRODUCTION@&#
Queueing theory is a well-established methodology in the society of operations research. It can provide a fundamental tool to study the dynamics of many service systems with resource constraints, such as computer systems, communication networks, production systems, and transportation systems. In a queueing system, there widely exists the phenomena of the competition for limited service resources among customers. Thus, the concept of game theory provides a promising research direction for queueing theory. Starting from the pioneering work by Naor in 1969 (Naor, 1969), the game theoretic study of queueing systems attracts considerable research attention in the literature (Altman, Boulogne, El-Azouzi, Jimenez, & Wynter, 2006; Basar & Olsder, 1999; Debo, Parlour, & Rajan, 2012; Guo & Hassin, 2011; Hassin & Haviv, 2003; Xia & Jia, 2013).According to the categorization standard of game theory, the game theoretic problem in queueing systems is usually a multi-player, stochastic, and non-cooperative game. Moreover, the game theory in queueing systems has some features different from the traditional game theory. First, there are two-level competitions in queueing systems. The first-level competition exists among servers, where servers adjust their strategies to compete for better service profits. The second-level competition exists among customers, where customers compete for more chance to be served. Second, the traditional game theory ignores the networking characteristics of queueing systems, i.e., the servers are interconnected and the customers transit among servers. By utilizing such interconnection structure, it is promising to develop efficient approaches to study the game theory in queueing systems. Perturbation analysis is a successful example and it utilizes the networking characteristics to efficiently estimate the performance gradient or difference of queueing systems (Cao, 1994, 2007; Glasserman, 1991; Gong & Ho, 1987; Ho & Cao, 1991; Leahu, Heidergott, & Hordijk, 2013; Yao & Cassandras, 2012). In this paper, we will study how to utilize the similar idea of perturbation analysis to analyze the game theoretic problem among servers in a closed Jackson network.Service rate control is a classical optimization problem in queueing theory (Gross, Shortle, Thompson, & Harris, 2008; Stidham, 2011). The goal of service rate control is to identify a set of optimal service rates of all servers to maximize the system average performance. This optimization problem is intensively studied in the literature, from the simple queueing systems such as M/M/1 queue or M/M/c queue (George & Harrison, 2001; Neuts, 1978) to complicated queueing networks such as tandem queue, cyclic queue, and Jackson networks (Ma & Cao, 1994; Weber & Stidham, 1987; Xia & Shihada, 2013). Most of the studies of service rate control aim to find the optimal service rates from the perspective of the global system. That is, the optimal service rates correspond to the maximal performance of the entire queueing system. The optimal solution obtained under this scheme is called the social optimum.Much literature of game theory in queueing systems studies the admission control from the customer-level competition, where every customer determines its own strategy to enter the queue or not (Boudali & Economou, 2012; Debo et al., 2012; Guo & Hassin, 2011; Naor, 1969). However, there is little literature about the service rate control of queueing systems from the server-level competition. Only some literature studies the service rate control of a simple queueing system, such as M/M/1 queue (Ata & Shneorson, 2006; Dimitrakopoulos & Burnetas, 2011). This is mainly because the service rate control problem is complicated for queueing networks, such as Jackson networks. Since the game theory is a natural scheme of queueing systems, it is of significance to study the game theoretic control of service rates in queueing networks. In a game theoretic framework of queueing networks, every server optimizes its own service rate control strategy to maximize its own performance (average payoff). Since the servers are interconnected, the performance of a server is affected by not only that server’s strategy, but also other servers’ strategies. Since the interests of servers are usually conflicting, the servers will compete each other to maximize their own interests. The system will evolve accordingly and it may converge to a Nash equilibrium, where every server has no incentive to change its strategy (Nash, 1951).The above game theoretic control of service rates in queueing networks has practical motivations in many engineering systems. One example is the decentralized power control in wireless networks (Altman et al., 2006; Menache & Ozdaglar, 2011). The communication nodes are viewed as servers and the data packets are viewed as customers. The data packets are transmitted through the network using a multi-hop routing scheme. With the observation of channel status or buffer status, each node has to determine its transmission scheduling strategy to maximize its own payoff (including the power consumption and the throughput). Since the nodes are interconnected through a multi-hop scheme, the scheduling strategies of nodes are mutually affected through the data traffic intensity. This problem is a non-cooperative game. The system may converge to an equilibrium which may be far away from the social optimum. Similar phenomena also exist in other practical problems, such as the intersection traffic control in transportation systems, where each intersection can be viewed as a server and we aim to adjust the green-light period of each intersection to improve the traffic throughput. Therefore, it is meaningful to study the optimization of this game theoretic problem in queueing networks.In this paper, we study the service rate control problem of closed Jackson networks from a game theoretic viewpoint. Each server is viewed as a player in this game. The payoff of each server includes two parts. One is called the holding cost which is related to the waiting time of customers in the service station. The other is called the operating cost which is the cost to provide certain service rates. Each server controls its own service rates in order to maximize its own average payoff (or minimize the average cost). The control strategies of all the servers are mutually affected through the dynamics of the queueing network. We formulate this problem as an infinite stage non-cooperative stochastic game. We apply the theory of perturbation analysis in Markov decision processes (MDP) (Cao, 2007; Cao & Chen, 1997) to analyze this problem. The theory of perturbation analysis is originally proposed for queueing systems and it can efficiently exploit the interconnection structure of queueing networks to optimize the system performance. For this game theoretic control of service rates in closed Jackson networks, we establish a difference equation which quantifies the difference of average payoffs of each server under any two strategies. We also prove that the average payoff of each server has a monotonic structure with respect to its service rates. No matter what strategies the other servers employ, the best response of a server is to choose its service rates on the boundary. Based on the difference equation, we develop an iterative algorithm to efficiently find the Nash equilibrium under proper conditions. As a comparison, we also study this service rate control problem from a global viewpoint and obtain the social optimum of this problem. The gap between the social optimum and the equilibrium is studied using a metric called the price of anarchy. The bounds of the price of anarchy for this problem are also derived. Finally, we conduct numerical experiments to demonstrate the effectiveness of our approach.The remainder of the paper is organized as follows. In Section 2, we give a formal description of the service rate control problem in closed Jackson networks and formulate it as a non-cooperative stochastic game. In Section 3, we analyze this game theoretic control problem and derive some special properties of this problem. We develop an iterative algorithm to find the equilibrium. The social optimum and the price of anarchy of this problem are also studied. In Section 4, we conduct simulation experiments to demonstrate the main idea of this paper. Finally, we give some discussions and conclude this paper in Section 5.Consider a closed Jackson network with M servers (Gordon & Newell, 1967; Gross et al., 2008). The total number of customers in the network is a constant N. There is no customer arrival to or exit from the network. The service time of servers is exponentially distributed. The service rate is load-dependent, i.e., the server can adjust its service rate according to its queue length. We denote the service rate asμi,ni, whereniis the number of customers at serveri,i=1,2,…,M,ni=0,1,…,N. Whenni=0,μi,ni=0. When a customer joins a server and finds that server busy, this customer will wait in the buffer. The capacity of the buffer is assumed adequate. The service discipline is first come first served. When a customer finishes its service at server i, it leaves server i and joins server j with routing probabilityqij,i,j=1,2,…,M. Without loss of generality, we assumeqii=0for alli=1,2,…,M. Obviously, we have∑j=1Mqij=1for all i. The system state is denoted asn≔(n1,n2,…,nM). All the possible states compose the state space which is denoted asS≔{alln:∑i=1Mni=N}.Each server has its own strategy to determine its own service rates. The value domain of service rateμi,niis denoted asDi,ni, which is usually a real number interval[ai,ni,bi,ni],i=1,2,…,M,ni=1,2,…,N. Each server has its own payoff function, which consists of two types of costs. One is called the holding cost and the other is called the operating cost. The holding cost reflects the congestion status in the service station. We define the holding cost of server i asCh·niper unit time, whereChis the holding cost price of each customer in the service station. The operating cost reflects the price of the service rate provided. Higher is the service rate, more is the operating cost. We define the operating cost of server i asCo·μi,niper unit time, whereCois the price to provide a unit service rate. In summary, the payoff function of server i is defined as(1)fi(n,μn)=-Ch·ni-Co·μi,ni,whereμn≔(μ1,n1,μ2,n2,…,μM,nM)is the vector consisting of all the service rates of servers at staten. Actually,μncan also be viewed as the action adopted at statenaccording to the terminology of MDP. Please note, the payoff function (1) is just an example in this paper. In general, we can define other forms of payoff function for this game theoretic control problem.In this problem, every server serves as a player of the game. Since the service time and the routing of customers are stochastic, this game is a stochastic game with M players. Every server has its own strategy to control its service rates. We denote the strategy of server i asμi≔(μi,1,μi,2,…,μi,N),i=1,2,…,M. The strategy space (or called policy space in MDP) of server i is denoted asDi≔Di,1×Di,2×⋯×Di,N, where×is the Cartesian product. From the payoff function (1), we see that the strategy of server i directly determines the second part of the payoff. However, the first part of the payoff and the distribution of the system statenare affected by all the servers’ strategies together. Therefore, there exist competitions among servers in the queueing network. We further denote the strategy of all the servers asμ≔(μ1,μ2,…,μM). The strategy space of all the servers is denoted asD≔D1×D2×⋯×DM. When the strategy of all the serversμis determined and the system reaches steady state, every server i has its own long-run average payoffηi(μ)which is defined as(2)ηi(μ)≔E{fi(n(t),μn(t))}=limL→∞1L∫0Lfi(n(t),μn(t))dt,wheren(t)is the system state at time t. Please note that the second equality in the above equation holds when the system is ergodic.The system dynamics evolve as follows. Suppose the current system state isn, every server will adopt its service rate asμi,niaccording to its strategyμi,i=1,2,…,M. Meanwhile, every server will receive a payofffi(n,μn),i=1,2,…,M. Then, the system will transit to the next staten′with a probability which depends on the previous statenand the service ratesμnselected by servers. At the new staten′, the system will repeat this process until the system reaches steady state. Every server optimizes its own service rate strategy to improve its own average payoff which is also affected by other servers’ strategies. We observe that this game is an infinite stage non-cooperative stochastic game (Neyman & Sorin, 2003).As we know, each server’s average payoff is affected by other servers’ strategies. When the system evolves and reaches a stable strategy, with which every server has no incentive to change its strategy, we call the system is in a Nash equilibrium. That is, the Nash equilibrium of our problem corresponds to a service rate strategyμ∗≔(μ1∗,μ2∗,…,μM∗)which satisfies(3)ηi(μ1∗,…,μi∗,…,μM∗)⩾ηi(μ1∗,…,μi,…,μM∗),∀μi∈Di,i=1,2,…,M.The above equation indicates that a strategyμ∗corresponds to a Nash equilibrium if the average payoff of any server cannot be improved by only changing that server’s strategy. We further denoteDeas the set of all Nash equilibrium strategies, i.e.,De≔{allμ∗}.Nash equilibrium is an important concept in game theory. Considerable research attention has been paid to the discussion of the existence of Nash equilibrium. Moreover, if Nash equilibria exist, how to efficiently find them is even more interesting for practitioners. However, there does not exist a general approach to efficiently find the equilibria in the literature of game theory. Only some specific algorithms are developed to find the equilibria of some specific game theoretic problems by utilizing the problem structure information. In the rest of this paper, we will utilize the special structure of queueing networks to study the aforementioned game theoretic problem.In Section 2, we have formulated the service rate control problem as an infinite stage non-cooperative stochastic game. In this section, we will study this problem from the viewpoint of the individual server and the entire system, respectively. The comparison between the performance of the equilibrium and the social optimum is also studied.The stochastic game has a close relation with MDP. Some stochastic games are referred to as competitive Markov decision processes (Filar & Vrieze, 1997). For this game theoretic control of service rates of closed Jackson networks, we study it by applying the direct comparison theory of Markov systems. Direct comparison theory is a new optimization methodology for Markov systems and it can be viewed as an advancement of the theory of perturbation analysis (Cao, 2007; Cao & Chen, 1997; Xia, Chen, & Cao, 2009). This theory establishes a difference equation which can quantify the performance difference of Markov systems under any two different policies. With the difference equation, the relation between the system performance and the policy is clearly described. The policy iteration or other optimization algorithms follow directly. This theory is naturally applicable to the performance optimization of many queueing systems (Cao, 2007; Xia & Cao, 2012; Xia, 2013). We briefly introduce the key idea of this theory as follows.Consider a continuous time Markov processX={Xt,t⩾0}, whereXt∈Sis the system state at time t andSis the state space. The state space is assumed finite and we writeS≔{1,2,…,S}for simplicity. The infinitesimal generator is denoted as an S-by-S matrixB. The steady state distribution is denoted as an S-dimensional row vectorπ≔(π(1),π(2),…,π(S)). Obviously, we haveBe=0,πB=0, andπe=1, whereeis an S-dimensional column vector whose elements are all 1. We denotef≔(f(1),f(2),…,f(S))Tas an S-dimensional column vector, wheref(u)is the system reward at stateu∈S. The long-run average performance of the system is denoted asηand we haveη=πf.Suppose the policy of the Markov system is changed fromLtoL′. As we know, different policies correspond to different infinitesimal generators and reward functions. We denote them asB′andf′under policyL′, respectively. The difference of the system average performance under these two policies can be quantified by the following difference equation (Cao, 2007; Cao & Chen, 1997)(4)η′-η=π′[(B′-B)g+(f′-f)],whereπ′is the steady state distribution of the system under policyL′andgis the performance potential of the system under policyL. The performance potentialgis the fundamental quantity of the direct comparison theory and it is an S-dimensional column vector denoted asg≔(g(1),g(2),…,g(S))T. The element ofg,g(u),u∈S, is defined as follows.(5)g(u)≔limL→∞E∫0L[f(Xt)-η]dt|X0=u.From the above equation, we see that the performance potentialg(u)quantifies the long-term accumulated deviation of the system reward from the average performance. Different initial state u has different accumulated deviation andg(u)describes the contribution of the initial state u to the average performanceηfrom a long-term viewpoint (Cao, 2007; Puterman, 1994).From the above definition Eq. (5), we can further derive the following Poisson equation which can determine the value ofg(Cao, 2007; Cao & Chen, 1997)(6)(B-eπ)g=-f.Therefore, the performance potentialgcan be numerically calculated based on the above Poisson equation (6), or be estimated from the sample path of the current system based on the definition (5) or other variations (see Chapter 3.1 of the book of Cao (2007) for more details).With the difference equation (4), we can clearly analyze the relation between the system performance and the policy. Since the elements ofπ′are always positive for ergodic systems, we only have to choose properB′andf′which make the value of the every element of the column vector represented by the square bracket in (4) positive, so that we haveη′-η>0and the system performance is improved. This is exactly the main idea of the policy iteration in MDP theory. Therefore, the difference equation (4) gives a new viewpoint to do performance optimization efficiently. Below, we will apply this difference equation to study the game theoretic problem formulated in Section 2.With the problem formulation in Section 2, we see that the strategy of player i can be viewed as the policy of server i according to the terminology of MDP. That is,μi=(μi,1,μi,2,…,μi,N)is the policy of server i. The strategy optimization of player i of this stochastic game can be viewed as the policy optimization of server i in the closed Jackson network. Since the closed Jackson network is a Markov process, we can use the aforementioned direct comparison theory to optimize the strategy of server i. In game theory, each player has to optimize its own strategy according to the system dynamics and other players’ strategies. Therefore, the first thing is that we have to develop an efficient approach for each server to optimize its own service rate control policy.Suppose the strategy of server i is changed fromμi=(μi,1,μi,2,…,μi,N)toμi′=(μi,1′,μi,2′,…,μi,N′), while other servers’ strategiesμjremain unvaried,j=1,2,…,Mandj≠i. Thus, the policy of the entire Markov system is changed fromμ=(μ1,…,μi,…,μM)toμ′=(μ1,…,μi′,…,μM). Applying (4), we can obtain the difference of the average payoff of server i under these two strategies as below.(7)ηi(μ′)-ηi(μ)=π′[(B′-B)g+(fi′-fi)].The infinitesimal generatorBof closed Jackson networks has the structure as follows. For a particular staten∈S, the elements ofB(n,:)are,B(n,n)=-∑j=1Mμj,nj;B(n,n-i+j)=μi,niqijfor alli,j=1,2,…,Mandni>0;B(n,:)=0for all the other situations, wheren-i+j≔(n1,…,ni-1,…,nj+1,…,nM)is called a neighboring state of staten.Substituting the expression ofBand the cost function (1) into (7), we have(8)ηi(μ′)-ηi(μ)=∑n∈Sπ′(n)∑n′∈SB′(n,n′)-B(n,n′)g(n′)+[fi(n,μ′)-fi(n,μ)]=∑n∈Sπ′(n)∑j=1M[μi,ni′-μi,ni]qij[g(n-i+j)-g(n)]+[-Coμi,ni′+Coμi,ni]=∑n∈Sπ′(n)[μi,ni′-μi,ni]∑j=1Mqij[g(n-i+j)-g(n)]-Co.Denoteπ(ni)as the marginal probability that the number of customers at server i equalsni. That is,π(ni)≔∑n∈Sniπ(n)whereSniis denoted as the set of states where the number of customers at server i equalsni. With the definition of conditional probabilityπ(n|ni), we have(9)π(n)=π(n|ni)π(ni).Substituting the above equation into (8), we obtain(10)ηi(μ′)-ηi(μ)=∑ni=1N∑n∈Sniπ′(n)[μi,ni′-μi,ni]∑j=1Mqij[g(n-i+j)-g(n)]-Co=∑ni=1Nπ′(ni)[μi,ni′-μi,ni]∑n∈Sniπ′(n|ni)∑j=1Mqij[g(n-i+j)-g(n)]-Co.On the other hand, it is proved that the conditional probabilitiesπ(n|ni)’s remain unvaried when service ratesμi,ni’s,ni=1,2,…,N, have changes (Xia & Shihada, 2013). That is, we have(11)π′(n|ni)=π(n|ni),whenonlyμi,ni,ni=1,2,…,N,havechanges.The above equation is an important property of closed Jackson networks and it is proved based on the property of product-form solution in closed Jackson networks. It means that if we only change the service rates of server i, althoughπ(n)andπ(ni)will generally change, the conditional probabilityπ(n|ni)keeps unvaried. Substituting (11) into (10), we have(12)ηi(μ′)-ηi(μ)=∑ni=1Nπ′(ni)[μi,ni′-μi,ni]∑n∈Sniπ(n|ni)∑j=1Mqij[g(n-i+j)-g(n)]-Co.For simplicity, we further define an aggregated performance potentialH(i,ni)as below.(13)H(i,ni)≔∑n∈Sniπ(n|ni)∑j=1Mqij[g(n-i+j)-g(n)].The conditional probabilitiesπ(n|ni)’s and the performance potentialg(n)’s in (13) can be calculated or estimated based on the sample path of the current system (see Chapter 3.1 of the book of Cao (2007)). The routing probabilitiesqij’s are given parameters. Therefore, we can numerically calculate or estimateH(i,ni)based on the sample path of the current system. To make the paper self-contained, we give a brief discussion about the numerical calculation ofH(i,ni). First, we can obtain the value ofπby solving the equationsπB=0andπe=1. The conditional probabilityπ(n|ni)can be obtained by definition. Then, we can obtain the value ofgby solving the linear equation (6) and a constraint equationgTe=0. Therefore, the value ofH(i,ni)can be calculated with (13). Such numerical calculation is also adopted in the later simulation experiment in Section 4.Substituting (13) into (12), we obtain the following difference equation when the service ratesμi,ni’s,ni=1,2,…,N, are changed.(14)ηi(μ′)-ηi(μ)=∑ni=1Nπ′(ni)[μi,ni′-μi,ni]H(i,ni)-Co.Difference equation (14) clearly quantifies the relation between the average payoff of server i and its service rate strategy. With (14), it is proved that the average payoff of server i is monotonic with respect to its service rates, which is described by the following theoremTheorem 1The average payoff of serveri,ηi, is monotonic with respect to its service ratesμi,ni,ni=1,2,…,N.This theorem can be viewed as a special case of Theorem 1 in the paper of Xia and Shihada (2013), except that we need to replace the average payoff of server i with the average performance of the entire system. Thus, the proof of this theorem is similar and we omit it for simplicity. With this theorem, we can directly derive the following theorem about the optimal service rate strategy of a server in our game theoretic problem.Theorem 2No matter what strategies the other servers employ, the best response of a tagged server, say server i, is to choose the service rate as either the minimumai,nior the maximumbi,ni,∀ni=1,2,…,N,i=1,2,…,M.Theorem 2 is a direct conclusion of Theorem 1. Since the average payoffηiis monotonic with respect toμi,ni, it is obvious that the optimalηican be achieved on the boundary ofμi,ni. For simplicity, we omit the detailed proof in this paper.With Theorem 2, we can further derive the following corollary about the optimality property of Nash equilibrium.Corollary 1In a Nash equilibrium strategy, the service rates of all the servers are chosen from the minimumai,nior the maximumbi,ni, for allni=1,2,…,Nandi=1,2,…,M.With Corollary 1, the search space of service rateμi,niis reduced from a continuous real number intervalDi,ni=[ai,ni,bi,ni]to a two-element discrete set{ai,ni,bi,ni}. All of the intermediate values are neglected. We have the following remark about the search of equilibrium strategies.Remark 1With Corollary 1, we can limit the search of equilibrium strategy profiles from a multidimensional continuous polyhedron to the set of its vertex.The above result is very similar to the idea of the simplex method for linear programming. With this result, we can significantly reduce the optimization complexity of this game theoretic problem. Therefore, each server only has to select its own service rates from the discrete set{ai,ni,bi,ni}, which is called a “bang-bang” control (Artstein, 1980; Bellman, Glicksberg, & Gross, 1956). As we know, the “bang-bang” control is easy to adopt in the practice. The optimality of “bang-bang” control makes the optimization of our game theoretic problem more practical.With the above difference equation (14) and theorems, we further develop an iterative algorithm to find the optimal strategy of server i. In (14),π′(ni)is always positive for ergodic systems,μi,ni′andμi,niare known parameters given by strategies,H(i,ni)can be calculated or estimated based on the sample path of the current system,Cois a given parameter. Therefore, we only have to chooseμi,ni′to make the sign of[μi,ni′-μi,ni]identical to that of[H(i,ni)-Co]. That is, whenH(i,ni)>Co, we chooseμi,ni′=max{Di,ni}=bi,ni; otherwise, we chooseμi,ni′=min{Di,ni}=ai,ni. This procedure can guarantee that the average payoff of server i is improved. Repeating this procedure until we cannot find a better strategy of server i anymore. We obtain the optimal service rate strategy of server i at the current system scenario with other servers’ strategies fixed. This optimization procedure is similar to the policy iteration in MDP theory. We list the algorithm as below.Algorithm 1Iterative algorithm to find the optimal strategyμi∗of server i.Initialization•For the current initial strategyμi(0)of server i, setk=0.Evaluation•For the strategyμi(k), calculate or estimateH(i,ni)’s,ni=1,2,…,Nbased on the system sample path.Update•Update the strategy as follows. Forni=1,2,…,N: ifH(i,ni)>Co, chooseμi,ni(k+1)=bi,ni; ifH(i,ni)<Co, chooseμi,ni(k+1)=ai,ni; otherwise, chooseμi,ni(k+1)=μi,ni(k).Stopping Rule•Ifμi(k+1)=μi(k), stop and outputμi(k)as the optimal strategy of server i; Otherwise, setk≔k+1and go to step 2.Each server can implement Algorithm 1 to efficiently find its optimal service rate strategy. However, since the strategies of all the servers are mutually affected, the update of the optimal strategy of one server may degrade the average payoff of other servers in the network. That is, there exist competitions among the strategy optimization of all the servers. This competition usually makes the stochastic game not converge to the social optimum, but to a Nash equilibrium.In order to find the equilibrium of this game, we can use a round-robin procedure to apply Algorithm 1 on every server. That is, every server adopts Algorithm 1 one by one. For example, we fix other servers’ strategies and use Algorithm 1 to find the optimal strategy of server i. Then, we repeat to find the optimal strategy of serveri+1. After we find the optimal strategy of server M and finish one round of optimization, we continue to optimize server 1 and start a new round of optimization. If the optimal strategies of all the servers at the current round are the same as those at the previous round, it indicates that we find a Nash equilibrium and the optimization procedure stops. In most situations, the above procedure can converge to a Nash equilibrium, as demonstrated by the simulation experiment in Section 4. For a strict guarantee of convergence under proper conditions, we have the following remark in a straightforward way.Remark 2If the payoff function of every server is identical asf(n,μ), then the above procedure can be guaranteed to converge to a Nash equilibrium.The above remark means that the interests of all the players in the game are unified. If we viewf(n,μ)as the reward function of the entire system, this game theoretic problem is equivalent to find the social optimum of the queueing network. In general, the social optimum is different from the Nash equilibrium. For the social optimum of this service rate control problem, we give more discussions in the next subsection.Social optimum is an important goal for the system designers and operators. It aims to maximize the total performance of the entire system. Compared with the Nash equilibrium, the optimization goal of social optimum is usually the sum of the payoffs of all the players in the system. That is, the reward function of this service rate control problem is(15)f(n,μn)≔∑i=1Mfi(n,μn)=-ChN-Co∑i=1Mμi,ni.The average payoff of the entire system is denoted asη(μ)and we have(16)η(μ)=E{f(n(t),μn(t))}=limL→∞1L∫0Lf(n(t),μn(t))dt.The social optimum corresponds to the optimal service rate strategyμ△which satisfies(17)μ△=argmaxμ∈D{η(μ)}.From the definition of reward function (15), we see that the first part of the reward function is a constant number-ChN. Therefore, the maximization ofη(μ)is equivalent to maximize the expectation of the second part of the reward function, which is further equivalent to minimize the average throughput of the entire network whenCois positive. With the product-form solution of closed Jackson networks, we know that the throughput of the entire network, T, can be rewritten as below (please refer to page 26 of the book of Chen & Yao (2001)).(18)T=G(M,N-1)G(M,N),whereG(M,n)is the normalization constant in closed Jackson networks, which is defined as below (Chen & Yao, 2001; Gross et al., 2008).(19)G(M,n)=∑n1+⋯+nM=n∏m=1MvmnmAm(nm),n=1,2,…,N,whereAm(nm)=∏k=1nmμm,kfornm⩾1,Am(0)=1, andvmis the visit ratio of server m which is determined by the following traffic equations(20)vm=∑j=1Mqjmvj,m=1,2,…,M.With (18), the derivative of the throughput T with respect to a service rateμi,kcan be written as(21)∂T∂μi,k=1G(M,N)∂G(M,N-1)∂μi,k-G(M,N-1)G2(M,N)∂G(M,N)∂μi,k.From (19) and (20), we observe thatvmis independent ofμi,kand onlyAm(nm)may have relation toμi,k. Therefore, substituting (19) into (21), we can further rewrite (21) as below.(22)∂T∂μi,k=-1μi,kG(M,N)∑n1+⋯+nm=N-1ni⩾k∏m=1MvmnmAm(nm)+G(M,N-1)μi,kG2(M,N)∑n1+⋯+nm=Nni⩾k∏m=1MvmnmAm(nm).Substituting (18) into the above equation, we further have(23)μi,kT∂T∂μi,k=-1G(M,N-1)∑n1+⋯+nm=N-1ni⩾k∏m=1MvmnmAm(nm)+1G(M,N)∑n1+⋯+nm=Nni⩾k∏m=1MvmnmAm(nm).It is well known that the steady state distribution of a closed Jackson network with M servers and N customers has the following product-form solution (Chen & Yao, 2001; Gross et al., 2008)(24)π(n)=1G(M,N)∏m=1MvmnmAm(nm).Based on (24), it is easy to verify that the marginal probabilityπN(ni⩾k)is(25)πN(ni⩾k)=1G(M,N)∑n1+⋯+nm=Nni⩾k∏m=1MvmnmAm(nm).For the same network with M servers andN-1customers (reduce one customer from the original network), we similarly obtain the marginal probabilityπN-1(ni⩾k)as below.(26)πN-1(ni⩾k)=1G(M,N-1)∑n1+⋯+nm=N-1ni⩾k∏m=1MvmnmAm(nm).Substituting (25) and (26) into (23), we have(27)μi,kT∂T∂μi,k=πN(ni⩾k)-πN-1(ni⩾k).Comparing (25) with (26), we see that the total number of customers is reduced by one (from N toN-1) and the network structure (service rates and routing probabilities) is the same. Therefore, we haveπN(ni⩾k)>πN-1(ni⩾k)obviously. Sinceμi,kTis always positive, we derive the following conclusion based on (27)(28)∂T∂μi,k>0.Remark 3Eq. (28) means that the average throughput of a closed Jackson network is monotonically increasing with respect to the service rate. When a service rateμi,kincreases, the average throughput of the entire network will also increase.Eq. (28) complies with Theorem 1, where we only have to replaceηiwith T. However, Theorem 1 cannot determine if the throughput T is monotonically increasing or decreasing.From the reward function (15), we see that the average payoff (16) can be rewritten as below.(29)η(μ)=E-ChN-Co∑i=1Mμi,ni=-ChN-CoT.SupposeCo>0. With (28), we have(30)∂η(μ)∂μi,k=-Co∂T∂μi,k<0,i=1,2,…,M,k=1,2,…,N.Theorem 3The social optimum of this service rate control problem is that all the service rates choose the minimum. That is,μi,ni△=ai,ni, for alli=1,2,…,Mandni=1,2,…,N.This theorem can be directly obtained from (30). As we will illustrate from the simulation experiment in the next section, the equilibrium obtained by our approach is generally different from the social optimum of this service rate control problem. In the next subsection, we will study the gap between the equilibrium and the social optimum.In the above two subsections, we studied the equilibrium and the social optimum of this game theoretic problem, respectively. The solutions for these two types of optimizations are usually different. To quantify the performance difference of these two types of solutions, we use a well known metric called the price of anarchy (Dubey, 1986; Koutsoupias & Papadimitriou, 1999). The price of anarchy, PoA, is defined as the ratio of the social optimum with respect to the minimum of the system performance among all possible equilibria. Obviously, we havePoA⩾1. If PoA is larger, the efficiency of the system degrades more severely caused by the selfish behavior of players. Since the performance of our optimization problem is always negative, we define PoA as below.(31)PoA≔minμ∈Deη(μ)maxμ∈D{η(μ)},whereDeis the set of policies corresponding to Nash equilibria.How to determine the set ofDeis a difficult problem in game theory. It is proved that a mixed Nash equilibrium always exists if we allow mixed strategies (Nash, 1950). However, a mixed strategy in our problem is not desired, because a probabilistic mixed exponential distribution is no more exponential (it is called hyper-exponential). To prove the existence of pure Nash equilibrium of our problem is of significance and it can be studied in our future work. Fortunately, we can still do some analysis of PoA under extreme conditions, even we do not know the exact value ofDe.With Theorem 3, we see that the social optimum corresponds to a strategy with minimal service rates, i.e.,μi,ni△=ai,nifor all i andni. Definingη△≔η(μ△), we see that the denominator of (31) equalsη△, i.e.,maxμ∈D{η(μ)}=η△. On the other hand, with (30), we see that the system performance reaches minimum when all the service rates choose maximum. Definingμi,ni▿≔bi,niandη▿≔η(μ▿), we haveminμ∈D{η(μ)}=η▿. SinceDe⊆D, we haveminμ∈De{η(μ)}⩾η▿. Noticingηis always negative, we can derive the following inequality based on (31)(32)1⩽PoA⩽η▿η△.The equality of (32) can hold in certain situations. Below we give a qualitative analysis. With the payoff function (1), whenCo≫Ch, it means that the operating cost is much larger than the holding cost. In this extreme situation, the holding cost can be ignored and all the servers will intend to make their service rates as small as possible. That is, this game theoretic problem will converge to a Nash equilibrium thatμi,ni∗=ai,ni,∀iandni. Therefore,μ∗=μ△and the equilibrium solution is also the social optimum. We havePoA=1forCo≫Ch.Consider another extreme situation whereCo≪Ch. Since the operating cost is very small and ignorable, all the servers will intend to choose the maximal service rates. This strategy can drain the customers out of the server as soon as possible to maintain a small number of waiting customers, which corresponds to a small holding cost. That is, our game theoretic problem will converge to a Nash equilibrium thatμi,ni∗=bi,ni,∀iandni. Therefore,μ∗=μ▿and the equilibrium corresponds to the worst case of system performanceη▿. We havePoA=η▿η△forCo≪Ch.In the next section, we will use numerical experiments to demonstrate the above qualitative analysis. Please note, whenCo≪Chand the service rate value domains of all the servers are identical, it is easy to see thatη▿≈η△andPoA≈1.As the end of our discussion, we summarize the main results and the novel contributions of this paper as follows. First, this paper studies the game theoretic problem of service rate control in closed Jackson networks. To the best of our knowledge, this is the first paper which studies the service rate control problem in closed Jackson networks from a perspective of game theory. All the previous studies of service rate control are from the viewpoint of the entire system (Ma & Cao, 1994; Xia & Shihada, 2013; Yao & Schechner, 1989). This is because that the Jackson network is a very complicated model and the mutual effects among servers in game theory make this problem even more difficult to handle. We hope that our work can shed some lights on the study of game theoretic problem for complicated queueing networks.Second, we derive some optimality properties of this problem, for both the equilibrium and the social optimum. For the equilibrium, we prove that the average payoff of each server is monotonic with respect to its own service rates and the “bang-bang” control is an optimal control strategy. We can limit the search of equilibria from a multidimensional continuous polyhedron to the set of its vertex. This greatly reduces the optimization complexity. For the social optimum, we prove that the system performance is monotonically decreasing with respect to service rates and the social optimum is achieved with all minimal service rates. This result makes the monotonicity property in our previous work (Xia & Shihada, 2013) more specific, where it cannot determine if the performance is monotonically increasing or decreasing.Third, we develop an efficient iterative algorithm to search for the equilibrium of this game theoretic problem. This algorithm can be guaranteed to converge to the Nash equilibrium under proper conditions. The traditional game theory mainly focuses on the existence of the Nash equilibrium. How to efficiently find the equilibrium is an important research topic in game theory. Our approach is a beneficial attempt for this topic. We also study the price of anarchy to compare the difference between the equilibrium and the social optimum of this problem. The bounds of the price of anarchy and its value in some extreme situations are also derived.Consider a closed Jackson network withM=3servers andN=6customers. The routing probabilities and the cost parameters are listed in Table 1. For simplicity, the value domains of service rates of all the servers are the same as the interval[10,50], i.e.,ai,ni=10andbi,ni=50for alli=1,2,3andni=1,2,…,6.It is easy to know that the size of the state space of this problem is|S|=M+N-1M-1=28. However, in order to implement Algorithm 1, we only have to calculate or estimate the aggregated performance potentialsH(i,ni),ni=1,2,…,6. That is, the number of calculated parameters is only 6, which is linear to the system size and much smaller than the state space. From this comparison, we see that our algorithm has the advantage that the optimization complexity will not explode exponentially when the system size increases.In this experiment, we use the numerical method to calculate the values ofH(i,ni)’s, as we mentioned in the context of (13). After the values ofH(i,ni)’s are known, we apply Algorithm 1 to each server and use the round-robin procedure to search the equilibrium of this game theoretic problem. Without loss of generality, we simply set the initial values of all the service rates as 10. We start the simulation from this initial strategy and use the round-robin procedure to drive the evolution of this game. The evolution of the strategy of each server is listed in Table 2, whereμ1(k)is the service rate strategy of server 1 at the kth round of optimization. Correspondingly, the evolution of the average payoff of each server is listed in Table 3.From the above tables, we see that this game theoretic problem reaches the equilibrium after 4 rounds of optimization. Whenk=1, the strategy of server 1 is optimized and the average payoff of server 1 is improved. However, the average payoffs of server 2 and 3 are degraded since there exist competitions among the servers. Similarly, whenk=2, the average payoff of server 2 is improved. Whenk=3, the current strategy of server 3 is already optimal and no improvement happens. Whenk=4, the strategy of server 1 is optimized and its average payoff is slightly improved. Afterk=4, neither server can improve its average payoff by only changing its own strategy. Thus, this game reaches the Nash equilibrium. The individual optimal strategy at the equilibrium point is listed in the last row of Table 2, which isμ1∗=μ2∗=(50,50,50,50,50,10)andμ3∗=(10,10,10,10,10,10), respectively. The corresponding average payoffs of severs areη1∗=-10.0775,η2∗=-10.3666, andη3∗=-17.5956, respectively. The total average payoff of the entire system isη∗=η1∗+η2∗+η3∗=-38.0398.With Theorem 3, we know that the initial strategy of servers is actually the social optimum of this service rate control problem. That is,μ1△=μ2△=μ3△=(10,10,10,10,10,10). The corresponding average payoff of the entire system isη△=-32.7327. The evolution ofηof this game is listed in the right column of Table 3 and the value ofηis decreasing with respect to the optimization iteration. Therefore, this experiment demonstrates that the social optimum is not an equilibrium of this game.The price of anarchy quantifies the inefficiency of the system performance caused by the competitive players in game theory. From the above simulation results, we observe thatPoA=-38.0398/-32.7327=1.1621. In general, the value of PoA of this problem satisfies (32). If we change the value ofCo, the corresponding PoA will also change. We chooseCo=0.001,0.01,0.04,0.06,0.08,0.1,1,5,10,100, respectively. All the other parameters are the same as those in the above experiment. The curve in Fig. 1illustrates the different values of PoA at differentCo’s. From the simulation results and Fig. 1, we see that whenCo≫Ch=1, the Nash equilibrium equals the social optimum andμ∗=μ△,PoA=1; whenCo≪Ch, the Nash equilibrium converges to the worst case of the system performance andμ∗=μ▿,PoA=η▿η△≈1. Therefore, the simulation results and Fig. 1 demonstrate the correctness of our analysis of PoA in Subsection 3.4.

@&#CONCLUSIONS@&#
