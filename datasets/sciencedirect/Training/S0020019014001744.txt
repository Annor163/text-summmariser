@&#MAIN-TITLE@&#
On the family of critical section problems

@&#HIGHLIGHTS@&#
A unified framework is proposed for mutual exclusion, mutual inclusion and such what we call critical section problem.Critical section problem is characterized by a pair of integers.The family of critical section problems is closed under complement operation.

@&#KEYPHRASES@&#
Concurrency,Concurrent system,Concurrent programming,Mutual exclusion,Mutual inclusion,Critical section,

@&#ABSTRACT@&#
Mutual exclusion is a fundamental process synchronization problem in concurrent systems. In this paper, we propose a unified framework for mutual exclusion, k-mutual exclusion, mutual inclusion, ℓ-mutual inclusion and such, what we call critical section problem. Then, we show that critical section problem is characterized by a pair of integers.

@&#INTRODUCTION@&#
Mutual exclusion is a fundamental process synchronization problem in concurrent systems [1], and it has been studied extensively in the last half century. Generalizations of mutual exclusion have been studied extensively as well. Such generalizations include k-mutual exclusion [4], mutual inclusion [2], and ℓ-mutual inclusion [3]. The number of processes that are in critical section simultaneously is at most k by k-mutual exclusion, while that is at least ℓ by ℓ-mutual inclusion. Unfortunately, these generalized problems have been studied individually. Recently, the relationship between k-mutual exclusion and ℓ-mutual inclusion is shown in [3].In this paper, we propose a unified framework, called the critical section problem, for k-mutual exclusion and ℓ-mutual inclusion and such problems. Then, we show that critical section problem is characterized by a pair of integers. In addition, we show that the family of critical section problems is closed under the operation called complement.Organization of this paper is as follows. In Section 2, we define critical section problem. In Section 3, we show characterization of critical section problem. In Section 4, we show a closure property of critical section problem under complement. In Section 5, we summarize this paper.Let n be any integer such thatn≥2, and a system consists of n processesP1,P2,...,Pn. In the following discussion, we fix the value of n. For eachPi(1≤i≤n), a binary state (0 or 1) is associated withPi, meaning thatPiis in critical section iff its state is 1. A configuration of a system is a vector(x1⋯xn)∈{0,1}n, wherexiis the state ofPi. For eachx∈{0,1}, we denote byx¯the inverse of x, namely,x¯=1−x. The universal set of configurations isUn={(x1⋯xn)|xi∈{0,1},1≤i≤n}.Definition 1For eachX=(x1⋯xn),X′=(x1′⋯xn′)∈Un,I11(X,X′)=def{i|1≤i≤n∧xi=1∧xi′=1},I01(X,X′)=def{i|1≤i≤n∧xi=0∧xi′=1},I10(X,X′)=def{i|1≤i≤n∧xi=1∧xi′=0},andd(X,X′)=def|I01(X,X′)|+|I10(X,X′)|.□Notice thatI11,I01andI10are mutually disjoint.Definition 2A set of configurationsX⊆Unis a critical section problem for n processes iff the following three conditions are satisfied.1.Non-emptiness condition:X≠∅.Symmetry condition: For each(x1⋯xn)∈Un, a (1≤a≤n) and b (1≤b≤n) such thata≠b,(x1⋯xn)∈Xiff(x1′⋯xn′)∈X, wherexi′={xbifi=axaifi=bxiotherwise.Reachability condition: For eachX,X′∈X, there exists a sequence of configurationsY0,Y1,...,Ymfor somem≥0such that•Y0=X,Ym=X′,Yt∈Xfor each0≤t≤m, andd(Yt,Yt+1)=1for each0≤t<m.  □Notice that the reachability condition assumes that processes are asynchronous in a sense that no two processes change their states simultaneously. It is assumed that the initial configuration is some configuration inX.It is often the case that the mutual exclusion problem imposes requirements such as deadlock-freeness and starvation-freeness, however, in this paper, we do not consider such requirements and focus only on possible sets of processes that are in critical section.Definition 3For eachX,X′∈Un,•X=X′iffI01(X,X′)=I10(X,X′)=∅,X≤X′iffI10(X,X′)=∅, and≠ and < are defined as usual.  □Definition 4For eachX=(x1⋯xn)∈Un,S(X)=def∑i=1nxi.□Definition 5For any pair of integers〈B,T〉such that0≤B≤nand0≤T≤n,XB,T=def{X∈Un|B≤S(X)≤T}.□Definition 6Wn=def{〈B,T〉|0≤B≤T≤n}\{〈B,T〉|0<B=T<n}□Notice thatWn={〈B,T〉|0≤B<T≤n}∪{〈0,0〉}∪{〈n,n〉}holds.Definition 7For eachX⊆Un,Co-X=def{(x1¯⋯xn¯)|(x1⋯xn)∈X}.Co-Xis called the complement ofX.  □In this section, we show characterization of critical section problem. First let us observe properties of S, d,I01,I10andI11.Lemma 1For eachX,X′∈Un,•S(X)=|I10(X,X′)|+|I11(X,X′)|, andS(X′)=|I01(X,X′)|+|I11(X,X′)|.Obvious from definitions.  □Lemma 2For eachX,X′∈Un,S(X)=S(X′)iff|I01(X,X′)|=|I10(X,X′)|.By Lemma 1, we haveS(X)=S(X′)iff|I01(X,X′)|+|I11(X,X′)|=|I10(X,X′)|+|I11(X,X′)|. Hence we haveS(X)=S(X′)iff|I01(X,X′)|=|I10(X,X′)|.  □Lemma 3For eachX,X′∈Unsuch thatS(X)=S(X′),d(X,X′)is even.By Lemma 2,S(X)=S(X′)implies thatd(X,X′)=|I01(X,X′)|+|I10(X,X′)|=2|I01(X,X′)|. Henced(X,X′)is even.  □Lemma 4For eachX,X′∈Un,S(X)=S(X′)∧X≠X′iff|I01(X,X′)|=|I10(X,X′)|>0.Suppose thatS(X)=S(X′)∧X≠X′holds. Then,|I11(X,X′)|<S(X′)holds. By Lemma 1,|I01(X,X′)|=S(X′)−|I11(X,X′)|>0holds. By Lemma 2,|I01(X,X′)|=|I10(X,X′)|holds. Hence|I01(X,X′)|=|I10(X,X′)|>0holds.Suppose that|I01(X,X′)|=|I10(X,X′)|>0holds. Then,X≠X′holds. By Lemma 2,S(X)=S(X′)holds. HenceS(X)=S(X′)∧X≠X′holds.  □Next, let us observe basic properties ofX.Lemma 5LetXbe any critical section problem for n processes. For eachX,X′∈Unsuch thatS(X)=S(X′),X∈XiffX′∈X.The proof is by induction on the value ofd(X,X′).Base step: Whend(X,X′)=0, we haveX=X′, andX∈XiffX′∈X.Induction step: Whend(X,X′)>0,d(X,X′)is even by Lemma 3. Let(x1⋯xn)=Xand(x1′⋯xn′)=X′. By Lemma 4, there exists a (1≤a≤n) and b (1≤b≤n) such thata∈I01(X,X′)andb∈I10(X,X′). LetX″=(x1″⋯xn″), wherexi″={xbifi=axaifi=bxiotherwise.Then,X∈XiffX″∈Xby the symmetry condition, andd(X″,X′)=d(X,X′)−2holds. The induction hypothesis applies by lettingX=X″.  □Lemma 6LetXbe any critical section problem for n processes. Suppose that there existsX∈Xsuch that0<S(X)<n. Then, there existsY∈Xsuch thatS(Y)=S(X)−1orS(Y)=S(X)+1.Suppose contrary that there exists no such Y inX. By Lemma 5, the number of configurationsX′∈Xsuch thatS(X′)=S(X)is(nS(X))including X itself. Because0<S(X)<nandn≥2by assumption, we have(nS(X))>1. By Lemma 3, there exists noX′∈Xsuch thatS(X′)=S(X)andd(X,X′)=1. HenceXdoes not satisfy the reachability condition; a contradiction.  □Now we are ready to show the main theorem.Theorem 1There exists a one-to-one mapping from the family of critical section problems toWn.For any given critical section problemX, we define B and T as follows.B=minX∈X⁡{S(X)}T=maxX∈X⁡{S(X)}BecauseX≠∅holds by the non-emptiness condition, B and T are well-defined. It is obvious that0≤B≤T≤n. When0<BandT<n,B=Tdoes not occur by Lemma 6. Hence〈B,T〉∈Wnholds.Next, conversely, for each〈B,T〉∈Wn, we show below thatXB,Tis a critical section problem.The non-emptiness condition is satisfied becauseXB,Tcontains at least one configuration, for example,XB∈Unsuch thatS(XB)=B.The process symmetry condition is satisfied by construction ofXB,TbecauseX∈XB,TiffX′∈XB,Tfor anyX,X′∈Unsuch thatS(X)=S(X′).The reachability condition is shown below. When|XB,T|=1, reachability is trivial. We consider the case|XB,T|>1below. LetX=(x1⋯xn)andX′=(x1′⋯xn′)be any configurations inXB,T. Because the relation of reachability is reflexive, we assumeS(X)≤S(X′)without loss of generality.•Case 1:S(X)=S(X′).Base Step: Whend(X,X′)=0, we haveX=X′, and we are done.Induction Step: Whend(X,X′)>0holds, i.e.,X≠X′. When this is the case,d(X,X′)≥2holds.Fig. 1(a) illustrates X, Y, Z andX′. (We will define Y and Z shortly.) A node represents a configuration inUn. Nodes are placed from bottom to top by the value of S, and nodes with the same S value are placed at the same horizontal level. An edge between two nodes represents the relation thatd=1. Only nodes on a white background are configurations inXB,T.Because|XB,T|>1and0≤B≤T≤n, excluding cases0<B=T<n, by assumption, the values of B and T take0≤B<T≤n. Hence there existsY′∈XB,Tsuch thatS(Y′)=S(X)−1orS(Y′)=S(X)+1. Below, we assume the caseS(Y′)=S(X)−1, however, a similar discussion applies for the caseS(Y′)=S(X)+1. By construction ofXB,T,Y″∈XB,Tholds for anyY″such thatS(Y″)=S(Y′), andX″∈XB,Tholds for anyX″such thatS(X″)=S(X).By Lemma 4, there exists a (1≤a≤n) such thata∈I10(X,X′). LetY=(y1⋯yn), whereyi={0ifi=axiotherwise.Then,S(Y)=S(X)−1,Y∈XB,Tandd(X,Y)=1hold.By Lemma 4, there exists b (1≤b≤n) such thatb∈I01(X,X′). LetZ=(z1⋯zn), wherezi={0ifi=a1ifi=bxiotherwise.Recall thatxa=1andxb=0. Thus,S(Z)=S(X),Z∈XB,T,d(Y,Z)=1andd(Z,X′)=d(X,X′)−2hold. The induction hypothesis applies by lettingX=Z.Case 2:S(X)<S(X′).LetX″=(x1″⋯xn″)be any configuration such thatX″≤X′andS(X″)=S(X). Then,X″∈XB,Tholds becauseB≤S(X″)≤Tholds. By the proof of Case 1,X″is reachable from X via configurations inXB,T. Hence we are left to show reachability fromX″toX′.Base Step: Whend(X″,X′)=0, we haveX″=X′, and we are done.Induction Step: Whend(X″,X′)>0, i.e.,X″<X′. Fig. 1(b) illustrates X,X″, Y andX′. (We will define Y shortly.)BecauseX″<X′holds by assumption, there exists c (1≤c≤n) such thatxc″=0∧xc′=1. LetY=(y1⋯yn), whereyi={1ifi=cxi″otherwise.Then,Y∈XB,Tholds becauseB≤S(Y)≤Tholds. Furthermore,Y≤X′,d(X″,Y)=1andd(Y,X′)=d(X″,X′)−1hold. The induction hypothesis applies by lettingX″=Y.XB,T(0≤B≤n,0≤T≤n) is categorized as follows.1.Trivial critical section problem•X0,0is trivial because each process definitely stays the same state 0, i.e., “out-of-critical-section”. We call this problem as the trivially out-bound critical section problem.Xn,nis trivial because each process definitely stays the same state 1, i.e., “in-critical-section”. We call this problem as the trivially in-bound critical section problem.X0,nis trivial because each process may change its state regardless of the states of other processes. We call this problem as the trivially free critical section problem.Nontrivial critical section problem•X0,kis the k-mutual exclusion problem, where1≤k<n. Whenk=1, the problem is the mutual exclusion problem.Xℓ,nis the ℓ-mutual inclusion problem, where1≤ℓ<n. Whenℓ=1, the problem is the mutual inclusion problem.Xℓ,kis a new problem discovered by this paper, where0<ℓ<k<n. We call this problem as the(ℓ,k)-mutual inclusion-exclusion problem.Non-critical section problem•XB,T, whereB>T, is not a critical section problem because it is an empty set, and hence it does not satisfy the non-emptiness condition.XB,T, where0<B=T<n, is not a critical section problem because, despite it is not an empty set, it does not satisfy the reachability condition by Lemma 6. Notice that|Xs,s|>1holds for each0<s<n, however,|X0,0|=|Xn,n|=1holds and hence the reachability condition is trivially satisfied forX0,0andXn,n.The taxonomy of critical section problem is illustrated in Fig. 2, in which each grid point(B,T)corresponds toXB,T. Each white grid point (there are six categories) is a critical section problem, however, each shaded grid point (there are two categories) is not a critical section problem.In this section, we show that the family of critical section problems is closed under the complement operation. It is shown in [3] that k-mutual exclusion algorithm and(n−k)-mutual inclusion algorithm are interchangeable by swapping “in-critical-section” state and “out-of-critical-section” state. This fact is rephrased in our framework below.Proposition 1(See[3].) For eachX⊆Un,X=Co-Co-Xholds. For each k (0≤k≤n),X0,k=Co-Xn−k,nholds. For each ℓ (0≤ℓ≤n),Xℓ,n=Co-X0,n−ℓholds.  □Generalized result is shown below.Theorem 2For each B (0≤B≤n) and T (0≤T≤n),Co-XB,T=Xn−T,n−Bholds.Co-XB,T={(x1¯⋯xn¯)|B≤S(x1⋯xn)≤T}={(x1⋯xn)|n−B≥S(x1⋯xn)≥n−T}=Xn−T,n−B□Theorem 3The family of critical section problems is closed under the complement operation.By Theorem 1,XB,Tis a critical section problem iff〈B,T〉∈Wn. We show below that, for each〈B,T〉∈Wn,Co-XB,Tis a critical section problem. BecauseCo-XB,T=Xn−T,n−Bholds by Theorem 2, it is enough to show that〈n−T,n−B〉∈Wnholds.Because0≤B≤T≤nholds by assumption,n≥n−B≥n−T≥0holds. Because0<B=T<nnever holds by assumption,n>n−B=n−T>0never holds. Hence〈n−T,n−B〉∈Wnholds.  □

@&#CONCLUSIONS@&#
