@&#MAIN-TITLE@&#
Equilibrium arrival times to a queue with order penalties

@&#HIGHLIGHTS@&#
Analysis of the arrival process to a queue with order penalties.Equilibrium arrival distribution has an infinite support.Explicit solutions for a two customer game.General model for both index and tardiness costs.Computational technique for finding the equilibrium profile.

@&#KEYPHRASES@&#
Queueing,Strategic arrival times to a queue,Queueing games,

@&#ABSTRACT@&#
Suppose customers need to choose when to arrive to a congested queue with some desired service at the end, provided by a single server that operates only during a certain time interval. We study a model where the customers incur not only congestion (waiting) costs but also penalties for their index of arrival. Arriving before other customers is desirable when the value of service decreases with every admitted customer. This may be the case for example when arriving at a concert or a bus with unmarked seats or going to lunch in a busy cafeteria. We provide game theoretic analysis of such queueing systems with a given number of customers, specifically we characterize the arrival process which constitutes a symmetric Nash equilibrium.

@&#INTRODUCTION@&#
When customers are faced with the decision of when to arrive to a queueing system with some desired service at the end, the first issue to consider is avoiding congestion. This disutility is typically modelled as a waiting time cost. Such a model was first considered by Glazer and Hassin (1983). They assumed that the number of customers arriving to the queue is a Poisson random variable, which as it turns out makes the analysis easier than the deterministic case, or any other distribution. However, customers may also be interested in being served at an early time. Such an example is driving home from work, where commuters wish to avoid traffic but are not willing to stay at work until midnight in order to achieve this. This type of disutility has been modelled as a tardiness cost that increases the later one is admitted into service. Some recent research has been carried out on this model by Haviv (2013) and by Juneja and Shimkin (2013). The first considered a Poisson number of customers and studied the equilibrium properties when limiting the allowed arrival period. The latter considered a general number of customers and focused on a rigorous characterization of the Nash equilibrium, and the proof of convergence to a fluid limit. Both also presented fluid approximation models which are technically less cumbersome, and often provide insight on the discrete stochastic case.In many queueing scenarios customers are not actually worried about tardiness, but rather about the number of customers who arrived ahead of them. This is the case in a concert or flight with unmarked seats, when there is no actual penalty for tardiness unless other customers have arrived and taken hold of the better seats. Equivalently, one can consider situations where the actual value of the service deteriorates with every service completion, for example a repair machine which depreciates with every use. Other examples can be found in Myrick Freeman and Haveman (1977) who find an optimal toll for the use of a facility in which the demand is a decreasing function of the aggregate level of facility use, and in Cicchetti and Kerry Smith (1973) who model the demand for wilderness recreation using a congestion model that users suffer disutility because of recreation of other users in the same area, and also provide empirical support for the model. This brings us to the focus of this work, which is to present a model where one’s cost is not necessarily time based, but rather dependent on the number of prior arrivals. If this is the only disutility assumed in the model, then obviously all customers arrive as early as possible. However, if there are also waiting costs, customers may improve their utility by not arriving in close proximity to others, which leads to a more interesting analysis of their strategic behaviour.In the remainder of this section we introduce the model and review some related literature. Our analysis commences in Section 2 by illustrating an example of a two customer game, and comparing it to the known results for the tardiness model. We show that the support of the symmetric equilibrium arrival distribution is infinite if there is no closing time for the server, as opposed to the finite support obtained in the tardiness model. In particular, the equilibrium distribution is uniform prior to the opening time, and exponential after it. We further show how the equilibrium is adjusted if early birds are not allowed, and when the server has a closing time. All solutions for the two customer game are explicitly derived. In Section 3 we consider a general model with any number of customers. The explicit solution is not tractable for the general model, but we characterize the equilibrium properties and dynamics, accompanied by a numerical technique to compute it. We also provide an analysis of the tail behaviour of the arrival distribution, and prove that it is exponential. Numerical analysis also suggests that the tail of the arrival hazard rate equals exactly to the exponential rate found in the two customer case, regardless of the population size. We then examine how an immediate generalization can be made to a model with both order and tardiness costs. We further provide bounds on the cost incurred by any single customer in equilibrium, in the general setting. In Section 4 we present the symmetric equilibrium for a random number of customers, which follows a Poisson distribution. In Section 5 we briefly discuss the social optimization problem and explain how the existing literature relates to the model we have presented. Finally, in Section 6 we summarize the results and discuss possible extensions and future work.RemarkMuch of the “essence” of the model is captured in the two-customer analysis of Section 2. Section 3 is a more technical generalization. The main results are stated in Theorems 3.1, 3.2 and 3.3, and numerical examples for the general model are presented in subSection 3.4.Suppose thatN+1customers wish to obtain service. We assume that a single server provides the service according to a First Come First Served regime, and that service times are independent and exponentially distributed with rateμ. If multiple customers arrive at exactly the same time, then they are admitted in a uniformly randomized order. The customers incur a delay cost ofαper unit of time, a tardiness cost ofβper unit of time until their admittance into service and an index of arrival costγfor every customer that has arrived before them. We denote the closing time byT>0, whereT=∞means there is no closing time. For most of this work we assume thatβ=0, and analyse the model with only waiting and order costs. Where possible, we also considerβ>0for the sake of comparison and generalization.In Juneja and Shimkin (2013), the equilibrium for a general N customer was characterized under the assumption that customers are limited to arrival distributions F such that: ”For each F, the corresponding support can locally (i.e., on any finite interval) be represented as a finite union of closed intervals and points”. They proved that under this assumption, the equilibrium arrival profile is unique and symmetric. We focus here only on distributions that satisfy this assumption.The symmetric equilibrium mixed strategy is defined by a cdf denoted byF(t)for allt∈R. We also denote the density functionf(t)=F′(t)for all t such thatF(t)is continuous and differentiable. We seek a cdf F such that if the other N customers arrive according to F, then the last customer is indifferent between arriving at all points of the support of F, and does not prefer any point outside of the support. The expected cost of arriving at timet∈Ris:(1.1)cF(t)=-αt1{t<0}+α+βμEQF(t)+βt1{t⩾0}+γEAF(t),whereQF(t)andAF(t)are the queue size and the arrival process at time t, respectively, when N customers are arriving independently according to F. The value of the arrival process at time t,AF(t), is in fact the index of arrival of the last customer to arrive up until time t. In the following sections we will simply denote these processes byQ(t)andA(t), although their distribution is always determined by F. Note thatEAF(t)=NF(t), but the expected queue size depends on both arrivals and departures, and typically does not have an explicit form as a function of F.RemarkThe majority of our analysis assumes that the size of N is common knowledge. It is important to note however, that all results may be generalized to any prior distribution on N in a fairly straightforward manner. The special case of the Poisson distribution has simplifying properties which we shall elaborate on in Section 4.Supposeβ=0andα,γ>0, i.e. customers only incur waiting and index costs. This special case of the model has several unique equilibrium properties which will be used throughout our analysis. We state these properties in the following two lemmata and their subsequent corollary.The cost function in (1.1) can now be rewritten:(1.2)c(t)=-αt1{t<0}+αμEQ(t)+γEA(t).Lemma 1.1There exists no symmetric equilibrium arrival profile such that for some finite timetb, all customers have arrived with probability one;F(tb)=1. Furthermore, the expected cost in equilibrium is at mostγ.We assume that there exists such an equilibrium arrival profile, and show that this leads to a contradiction. Any customer can achieve the costγ+∊for any∊>0by arriving at a very larget>tb. This is because the probability that the server is still busy approaches zero whent→∞. Therefore, the expected cost, denoted byce, in this equilibrium is at mostγ. This cost is constant on all of the support, specifically at timetb:(1.3)ce=c(tb)=αμEQ(t)+γ>γ,thus contradicting the previous argument, thatce⩽γ. □There can be no holes in a symmetric equilibrium arrival profile. In other words, there exists no time t such thatF(t)>F(t-), whereF(t-)=lims↑tF(s)is the limit from the left of the cdf at point t (the point of upward discontinuity).Assume there exists a time t such thatF(t)>F(t-). The left limit from the left of the cost function (1.2) at t is:c(t-)=-αt1{t<0}+αμEQ(t-)+γF(t-).The expected queue size can only have upward jumps, i.e.EQ(s-)⩽EQ(s)for any time s (see for example Lemma 2 in Juneja & Shimkin (2013)). Therefore, we can conclude thatc(t-)<c(t), which contradicts the equilibrium assumption. □The support of the equilibrium distribution F can be represented as an interval[ta,∞), for some finite and negativeta.Note thatta>-∞becauselimt→-∞c(t)=∞for any F, and in Lemma 1.1 we established that the equilibrium cost is at mostγ.In 1969 Vickrey published his seminal paper “Congestion Theory and Transport Investment” (Vickrey, 1969), which presented a fluid model for congestion dynamics. In particular, equilibrium arrival dynamics where characterized for a bottleneck model. This model was studied and developed in various directions in the following decades, among many others by Arnott, Palma, and Lindsey (1993), Verhoef (2003) and Otsubo and Rapoport (2008). The latter is the most closely related to this work because they assume a discrete (non-fluid) number of customers. However, they also assume a discrete action space, i.e. the arrivals take place at predefined unit intervals.Most of the research on the strategic behaviour in queues, deals primarily with models with a discrete action space, such as whether to join a queue or not or choosing between several queues. Furthermore, the analysis is often focused on the steady state equilibrium properties. The book by Hassin and Haviv (2003) presents many results in this field and surveys the existing literature. As mentioned above, the first to examine a model where customers choose their arrival time to a queue were Glazer and Hassin (1983). In Glazer and Hassin (1987) they extended this analysis to a server with bulk service, for example a bus that can carry many customers at once. The main technical differences in this kind of model are the continuous action space, and the transient analysis of the queueing process, rather than stationary. In recent years there have been several developments in the research of these models. Among them are the above mentioned works by Haviv (2013) and Juneja and Shimkin (2013). In the fluid setting, models with non-homogeneous customer types were studied by Jain, Juneja, and Shimkin (2011) and Honnappa and Jain (2010) for a queueing network. An additional fluid model with a random volume of arrivals was analysed in Juneja, Raheja, and Shimkin (2012). Hassin and Kleiner (2011) studied a model with opening and closing times, and no tardiness cost. In Haviv and Ravner (2013) examine a multi-server system with no queue buffer, where customers are interested in maximizing the probability of obtaining service. Honnappa, Jain and Ward characterize the general properties of a single server queue with individual customer arrivals in Ward Harsha Honnappa and Jain (2012), along with finding the transient fluid and diffusion limits of the process. Haviv, Kella, and Kerner (2010) analyse a model where customers observe their order of arrival, but the decision variable is still binary: join or balk. Rapoport, Stein, Parco, and Seale (2004) conducted an experimental study of the queueing arrival game and compared the behaviour of the subjects to that predicted by the equilibrium of a discrete time queueing arrival game with waiting costs, but no tardiness or index costs. Our aim is to add to this body of work by introducing a new cost structure which takes into account the order of the arrivals.LetN=1, which means each customer knows there is only one other customer. We will present explicit equilibrium solutions for several scenarios and compare them to the known result of the tardiness cost model.Suppose thatγ=0andβ>0. In Juneja and Shimkin (2013) the two customer case was explicitly solved. They showed that the symmetric equilibrium arrival distribution F has a density f which is uniform before time zero and linearly decreasing after:(2.1)f(t)=μαα+β,t∈[ta,0)-μβα+β-μ2α+β(βt+αta),t∈[0,tb]0,o.w.,where(2.2)-ta=1μβα2+βαand(2.3)tb=1μ1+2αβ-1define the support of F. Note that the density f has a downwards discontinuity at time zero. Finally, the expected cost for each customer in equilibrium equals-αta(see Fig. 1).Now we consider the case where the waiting cost is the same as above, but instead of the tardiness cost a customer incurs a cost ofγif the other customer has arrived before him. From Corollary 1.3 we know that any equilibrium arrival distribution in this case is given by a continuous cdf F defined on a support interval[ta,∞), where-∞<ta<0. We next show that the equilibrium arrival density is again uniform before time zero, but after time zero it is exponential.Theorem 2.1The following density defines a unique symmetric equilibrium arrival distribution:(2.4)f(t)=αγ+αμ,t∈-γα,0μ1+αγμ1+γμαe-μ1+αγμt,t∈(0,∞)0,o.w..The expected cost for each customer in this equilibrium isce=γ(see Fig. 2).Suppose, without loss of generality, that the first customer arrives according to some distribution with cdf G and density g. The following analysis establishes conditions such that playing G is a best response for the second customer, i.e. that there exists some constantcesuch that this is her expected cost on the support of G, and at leastceoutside of the support. We will show that the distribution defined by the density f in(2.4)is the unique solution that satisfies these conditions.No service is given before the opening, so all customers who have arrived are still in the queue:EQ(t)=EA(t)=G(t),∀t<0. Therefore, the cost of arriving before the opening, at some timet<0is:(2.5)c(t)=-αt+αμG(t)+γG(t).The equilibrium condition fort<0is now:(2.6)ce=-αt+αμG(t)+γG(t).By taking derivative we obtain the first part of (2.4), which means that any equilibrium density g satisfiesg(t)=f(t),∀t<0.After time zero, the server commences operation and the system can be presented as a non-homogeneous in time Markov process with the following three states:(0,0),(0,1),(1,1), where(i,j)is the state that there are i customers in the system and j have already arrived. We denote the probability of state(i,j)bypij(t)≔P(Q(t)=i,A(t)=j). The dynamics of this process satisfy the following set of differential equations:(2.7)p0,0′(t)=-g(t)1-G(t)p0,0(t)(2.8)p0,1′(t)=μp1,1(t)(2.9)p1,1′(t)=g(t)1-G(t)p0,0(t)-μp1,1(t).Note that the expected queue size is exactlyp1,1(t)in this case, and so the equilibrium condition can be written as follows:(2.10)ce=αμp1,1(t)+γG(t),and by taking derivatives:(2.11)p1,1′(t)=-γμαg(t).From (2.9) we also have:(2.12)p1,1′(t)=g(t)1-G(t)p0,0(t)-μp1,1(t)=g(t)-μp1,1(t).The second equation is due to the fact that the probability of the state(0,0)is the probability that the other customer has not arrived yet, namely1-G(t). And by combining the last two equations we get:(2.13)p1,1(t)=g(t)1μ+γα.We have thus far established that G is the solution to the following differential equation:(2.14)ce=αμg(t)1μ+γα+γG(t),t⩾0.In order to solve this equation explicitly we need to obtainceandG(0). We argue that if G is a solution to (2.14) on a support of[0,∞)thence=γ. This is because if we take a limit to infinity, theng(t)approaches zero andG(t)approaches one, and so the cost approachesγ. But for this to be equilibrium the cost throughout the support must equalγ. This implies that the beginning of the negative interval ista=-γαand thatG(0)=γγ+αμ. We complete the proof by stating that the density function f in the positive part of (2.4) is the unique solution to the linear differential equation defined by all of the above:(2.15)g(t)αγμ2+1μ=(1-G(t)),G(0)=11+αγμ.□Note that also in this case, f has a downward discontinuity at zero. This can be argued by a few algebraic steps showing that the following two inequalities are equivalent:(2.16)αγ+αμ>μ1+αγμ1+γμα,and(2.17)αγμ>0.The hazard rate of the equilibrium arrival distribution fort>0ish(t)=μ1+αγμ. This constant will appear again in the numerical analysis part of Section 3, where we will show that although the general equilibrium arrival distribution for any number of customers is not exponential, the hazard rate approaches this very same rate (which is independent of the number of customers).Suppose now that there is no option to queue before the server commences operation. We assume the same index cost function as in the previous subsection. First we argue that in a symmetric equilibrium, customers arrive at time zero with some positive probability, denoted byp0>0. For if this was not the case, then any customer could reduce her own cost to zero by arriving at time zero with probability 1. Recall that if both customers arrive at the same time then they are admitted into service in a random order. Given the equilibrium probabilityp0, the cost of arriving at time zero is:(2.18)c(0)=p02αμ+γ.As in the previous subsection, any customer can guarantee a cost as close as she desires toγby arriving late enough. Therefore, ifp0<1then we havec(0)=γ. This is the outcome when the cost of waiting for the service completion of the other customer is higher than the cost of arriving last:αμ>γ. Otherwise, both customers can ensure a cost that is lower thanγ(but higher thanγ2) by arriving at time zero with probability 1. The conclusion from the above is that in equilibrium the probability to arrive at time zero is:(2.19)p0=2γγ+αμ,αμ>γ1,αμ⩽γ.The corresponding equilibrium costs areγand12αμ+γ, respectively.Next we seek the arrival distribution after time zero for the case whereαμ>γ. If the other customer has arrived at time zero, then the probability that he is still in service at time t ise-μt. Therefore, if the arrival probability at zero isp0and 0 on the interval(0,t], then the expected cost at time t is:(2.20)c(t)=2γγ+αμγ+e-μtαμ.This is a decreasing function of t that initiates atc(0)=2γ. Therefore, there exists sometesuch that arriving anywhere in(0,te)costs more than the equilibrium cost ofγ, and exactlyγatte. Thus, in equilibriumf(t)=0for allt∈(0,te). By comparing (2.20) toγwe conclude thatte=-1μlog121-γμα. Finally, we are left with computingf(t)for allt⩾te. The system dynamics and the equilibrium conditions are identical to the ones presented in the early bird case with the initial conditionF(te)=p0.1It makes no difference for the analysis if the customers have all arrived at an atom or uniformly on an interval, as long as the initial conditions are the same.1Therefore, the density fort>teis:f(t)=(1-p0)μ2p0e-μ2p0(t-te). The following theorem summarizes the results of this subsection.Theorem 2.2For the two customer game with no early birds the symmetric equilibrium arrival distribution is given by:1.Ifαμ⩽γthenp0=1, i.e. both customers arrive at time zero and are admitted into service in random order. The expected cost for each customer is12αμ+γ.Ifαμ>γthenp0=2γγ+αμand:(2.21)f(t)=(1-p0)μ2p0e-μ2p0(t-te)1{t⩾te},wherete=-1μlog121-γμα. The expected cost for each customer isγ(seeFig. 3).Ifαμ<γthen12αμ+γ<γ, which means that the equilibrium cost of both customers decreased when the opportunity to arrive early was taken away. Overall, we have shown that not allowing early birds increases social welfare.We overlook the possible existence of non-symmetric equilibria of the form: customer 1 arrives at zero and customer 2 arrives at some time T such that her cost is lower than12αμ+γ. If such an equilibrium exists, then by swapping the customer’s roles we get an additional equilibrium, and generally there may be multiple equilibria of this form.Suppose again that early birds are allowed, but entry to the system is only possible up until some timeT<∞. Service is provided to all who arrived prior to time T even if it is completed after the closing time. The arrival density prior to time zero is as in the no closing time case:f(t)=αγ+αμ. Customers can no longer ensure a cost of no more thanγby arriving very late. Moreover, the equilibrium cost is strictly higher thanγ, because the cost at closing time isc(T)=γ+P(Q(t)=1)αμ. Thus, we can conclude that arrivals start at an earlier time than in the previous case:ta<-γα(as before, the equilibrium cost is still-taα). Giventawe can computeF(0)=-taαγ+αμ, and the dynamics after time zero are as before. From (2.14) we derive the equilibrium equation:(2.22)-taα=αμf(t)1μ+γα+γF(t),0⩽t<T.Coupled with the initial conditionF(0), the solution of this equation is:(2.23)F(t)=-taαγ1-e-μt1+αγμ1+γμα.By takingF(T)=1we can explicitly derive:ta=-γα1-e-μT1+αγμ1+γμα-1. Recall that the equilibrium cost is-taα, thus the cost is a decreasing function of T that approachesγ, i.e. the cost with no closing time. We can now plugtainF(0)andF(t), for0⩽t⩽T:(2.24)F(t)=1-e-μt1+αγμ1+γμα1-e-μT1+αγμ1+γμα,0⩽t<T,F(0)=1-e-μT1+αγμ1+γμα1+αγμ.We summarize the above analysis in the next theorem.Theorem 2.3The equilibrium arrival distribution for the two customer game with closing time T is defined by the following density:(2.25)f(t)=αγ+αμ,t∈-γα1-e-μT1+αγμ1+γμα-1,0μ1+αγμ1+γμα-e-μT1+αγμe-μt1+αγμ,t∈[0,T]0,o.w.,and the equilibrium cost of every customer isγ1-e-μT1+αγμ1+γμα-1(seeFig. 4).We now wish to combine the two previous scenarios and consider an arrival game where arrivals are only allowed during a finite interval[0,T]. We first seek a condition for the strategy of arriving at time zero with probability one to be an equilibrium. This is the case if when the other customer arrives at time zero, the cost of arriving at zero too is lower than arriving at the closing time:(2.26)12αμ+γ⩽γ+αμe-μT⇔αμ(1-2e-μT)⩽γ.Hence, when the parameters satisfy this condition then using the notation of the previous subsections we havep0=1. The equilibrium cost here is the expression on the left of (2.26). Otherwise, we havep0<1and an equilibrium cost ofp02γ+αμ. As before, there is a gap after time zero in the support of the distribution, because for anyp0the cost of arriving at any time t in such a gap is:(2.27)c(t)=p0γ+αμe-μt.Denote bytethe first time that this cost equals the equilibrium cost, and we can compute this value by comparing to the equilibrium cost:(2.28)p0γ+αμe-μte=p02γ+αμ.Clearly, the solution is the same as in the case without a closing time:te=-1μlog121-γμα. The dynamics after timeteare as in the previous section withF(te)=p0. Thus, we can computeF(t)by solving the equation:(2.29)p02γ+αμ=αμf(t)1μ+γα+γF(t),t∈[te,T].Finally, together with the equationF(T)=1we obtain:(2.30)p0=21+αγμ-αγμ-1e-μ1+αγμ(T-te)and(2.31)F(t)=1+αγμ-αγμ-1e-μ1+αγμ(t-te)1+αγμ-αγμ-1e-μ1+αγμ(T-te),t∈[te,T].We conclude this section by stating the resulting theorem:Theorem 2.4The equilibrium arrival distribution for the two customer game with arrivals allowed only in the interval[0,T], is given by:(1)Ifαμ(1-2e-μT)⩽γthenp0=1, i.e. both customers arrive at time zero and are admitted into service in random order. The expected cost for each customer is12αμ+γ.Ifαμ(1-2e-μT)>γthenp0=21+αγμ-αγμ-1e-μ1+αγμ(T-te)and:(2.32)f(t)=p0μ2αγμ-1αγμ+1e-μ1+αγμ(t-te)1t∈[te,T].The expected cost isp02αμ+γfor each customer. (seeFig. 5)Ifαμ<γthen the equilibrium cost is lower thanγ. Otherwise, the equilibrium cost is lower than (or equal to)γifT⩽log(2)-log1-μγαμ, and at leastγifT>log(2)-log1-μγαμ.The conclusion from the above corollary is that limiting arrivals to an interval[0,T]may increase or decrease the social welfare, dependent on the parameters. And in caseαμ⩾γa lower cost can be achieved by setting an early enough closing time. This is an interesting observation in light of the previous case, without early birds, where enforcing a closing time always leads to a higher cost.Suppose now thatN+1>2customers require service, and that there are no tardiness costs. In this section we characterize the symmetric equilibrium arrival distribution and discuss its properties. As it turns out, many of the observations made for the two customer game are true for any population size. In particular, we remind the reader that according to Lemma 1.2 there can be no ”holes” in the distribution, except for the case with no early birds, where there is one such ”hole” that we have fully described. In Theorems 3.1 and 3.2 we summarize the equilibrium properties forT=∞andT<∞, respectively, for both the case where early birds are allowed and for the case where they are not. In Theorem 3.3 we state the symmetric equilibrium cdf, explicitly fort<0and as a functional differential equation fort⩾0. This is followed by a generalization to a model with both tardiness and order costs. We will also provide methods for the computation of the equilibria and present some numerical examples.Suppose the server has no closing time and customers are allowed to arrive as late as they wish. In the following Theorem we present the properties of the equilibrium under this assumption. Specifically, we show that the support of the equilibrium arrival distribution is either infinite or a single atom at time zero, which should not come as surprise in light of the two customer game analysis. We also show that if there is no closing time, then the customer’s individual equilibrium cost isNγin the case where early birds are allowed, and at mostNγif they are not allowed.Theorem 3.1IfT=∞, then a symmetric equilibrium strategy profile satisfies the following properties. If arriving before time zero is allowed, then:(1)The support of the equilibrium arrival distribution is an infinite interval[ta,∞), whereta<0.The expected cost for all customers in equilibrium isNγ.First possible arrival is atta=-Nγα.If arriving before time zero is not allowed, then:there is a positive probability to arrive at time zero, given by:(3.1)p0=γγ+αμ,αμ>γ1,αμ⩽γ.The equilibrium cost is tightly upper bounded byNγ.Ifp0<1, the remaining support is defined on an interval[te,∞), wherete>0.The proof of properties (1) and (2) relies on the same continuity argument used in Lemma 1.1: any customer can ensure a cost almost as low asNγby arriving late enough, and this is lower than the equilibrium cost for any finite support. Property (3) is a direct result of property (2): at timetathe cost is-taα, but this must also equal the equilibrium cost along the support, hence we obtain:ta=-Nγα. Property (4) is derived by considering the cost of arriving at time zero if all other customers arrive at time zero with probability one:(3.2)N2αμ+γ.The(N+1)th customer also arrives at time zero if this cost is lower than the cost of arriving at any timet>0, and this is indeed the case when the above cost is at mostNγ. Therefore, we deduce that ifαμ⩽γthenp0=1. The cost in this case is exactly (3.2) which is clearly smaller than or equal toNγ. Ifαμ>γ, then in equilibrium customers arrive at time zero with probabilityp0that satisfies:Np02γ+αμ=Nγ. This yields:p0=γγ+αμ. For anyt>0we denote byqp(t)the expected queue size at time t, if all other customers arrive with probability p at time zero and with probability zero along the interval(0,t]. The cost of arriving at timet>0is then:(3.3)Np0γ+αμqp0(t)→t↓0Np0γ+αμ.Note that this is a monotone decreasing function in t. Thus, we can conclude that in equilibrium there is an interval(0,te)with no arrivals. The length of this intervalte, satisfies uniquely:(3.4)Np02γ+αμ=Np0γ+αμqp0(te).We point out that ifp0=1, then the equilibrium cost is lower thanNγand ifp0<1, then it is exactlyNγ. □The value ofqp(t)which was defined in the above proof can be computed using the properties of the Poisson distribution:(3.5)qp(t)=∑j=0NNjpj(1-p)N-j∑i=0j(j-i)e-μt(μt)ii!.To complete this definition we define the limitqp(∞)≔limt→∞qp(t)=0. We shall make use of this notation throughout the remainder of this section.We now impose a finite closing time for the server, after which customers can no longer arrive. Customers who have arrived before this time will be served even if they are still in service or in the queue at closing time. The next Theorem presents the equilibrium properties of this scenario. Clearly the arrival distribution has a finite support in this case, and the individual equilibrium cost is higher thanNγ.Theorem 3.2IfT<∞, then a symmetric equilibrium strategy profile satisfies the following properties.If arriving before time zero is allowed, then:(1)The support of the equilibrium arrival distribution is a finite interval[ta,T], whereta<-Nγα.The expected cost for all customers in equilibrium is larger thanNγ.If arriving before time zero is not allowed, then:There is a positive probability to arrive at time zero. Denote this probability byp0. If the following condition is met thenp0=1:(3.6)N21-γμα⩽q1(T),otherwisep0<1.The conditionαμ⩽γis sufficient (but not necessary) forp0=1.Ifp0<1, then the remaining support is defined on an interval[te,T], wherete∈(0,T).We first consider the case where arrivals are allowed at any timet⩽T. Suppose the support of F is[ta,tb], such thatta⩽0andtb⩽T. The cost of arriving at timetbisNγ+αμEQ(tb), and this is also the equilibrium cost. Now assume thattb<Tthen the cost of arriving at any timet∈(tb,T]is lower than the equilibrium cost and this is obviously a contradiction. The above yields properties (1) and (2).Next we consider the case where arrivals are only allowed in the interval[0,T]. If all arrive at time zero with probability one, thenp0=1is the best response for the(N+1)th customer if the cost at zero is not higher than the cost of arriving at T2If this is an equality, then there areN+1pure and non-symmetric equilibria of the form: one customer arrives at time T and all others at time zero.2:N2αμ+γ⩽Nγ+αμq1(t).Simple algebra leads to property (3). Note that ifαμ⩽γ, then this condition is met trivially for anyT>0, hence properties (3) and (4) are obtained. Property (5) here follows the same argument leading to property (6) in the previous theorem. Note thatp0such thatte=Tcannot be an equilibrium because customers would have to arrive at T with probability1-p0, leading to a higher cost than that incurred by arriving at time zero (a strictly positive mass will be added to the cost). The value ofteis given by Eq. (3.4). □We have thus far characterized the equilibrium arrival distribution up until time zero. In Lemma 1.2 we showed that the distribution can have no holes or atoms in the interior of the support. Therefore, we seek a continuous distribution defined by a density functionf(t)such that∫teTf(t)dt=1-F(0). The equilibrium condition is that the cost is constant for all t such thatf(t)>0. To achieve this we now elaborate on the second relation3The first relation is the equilibrium condition of a constant cost on all of the support.3between the arrival distribution and the queueing process. The processQ(t):t⩾0itself is not Markovian because the number of arrivals after time t is not independent of the number of arrival up to it. However,Q(t),A(t):t⩾0is a non-homogeneous in time, two dimensional Markov process satisfying:(3.7)p0,j′(t)=μp1,j(t)-(N-j)h(t)p0,j(t),0⩽j⩽Npi,j′(t)=μpi+1,j(t)+(N-j+1)h(t)pi-1,j-1(t)-(μ+(N-j)h(t))pi,j(t),1⩽i⩽j⩽N,wherepi,j(t)=P(Q(t)=i,A(t)=j)for0⩽i⩽j⩽N, andpi,j(t)=0otherwise. We denote the hazard rate of F by:h(t)≔f(t)1-F(t). If early birds are allowed, then the initial conditions for these equations are given by:(3.8)pi,j(0)=NiF(0)i(1-F(0))N-i1{i=j}.If early birds are not allowed, then these conditions can be modified to:(3.9)pi,j(te)=Njp0j(1-p0)N-je-μte(μte)j-i(j-i)!1j⩾i.Clearly,P(Q(t)=0)=∑j=0Np0,j(t). We have already shown that if there is no closing time, then the support of the equilibrium distribution is infinite. In this case, if early birds are allowed thenta=-NγαandF(0)=-taαμN(α+γμ). Otherwise,F(0)=p0which was derived in Theorem 3.1. If there is a closing time, thentaorp0need to be determined according to the conditions described in Theorem 3.2.The following Theorem presents the equilibrium arrival distribution using the above defined process.Theorem 3.3If early birds are allowed, then the equilibrium arrival distribution before time zero is uniform with density:(3.10)f(t)=αμN(α+γμ),t∈[ta,0].In both cases, after time zero the equilibrium arrival distribution is characterized by the following functional differential equation:(3.11)f(t)=α1-P(Q(t)=0)N(αμ+γ),t∈[te,T),wherete=0if early birds are allowed.At any timet<0the number of arrivals equals the queue size. Therefore, given that all of the other N customers arrive according to F, the cost of arriving att<0for the(N+1)th customer is:(3.12)c(t)=-αt+αμ+γNF(t).By taking derivative of (3.12) we obtain (3.10).Utilizing standard queueing dynamics we can state the cost function in the following form:(3.13)c(t)=αμNF(t)-μt+μ∫0tP(Q(s)=0)ds+γNF(t),and by taking derivative we get (3.11).□In Section 2 we showed that the equilibrium arrival distribution is exponential in the two customer game. For a general number of customers this is not the case, but we can show that the arrival distribution is still light tailed. Specifically, that there exists someη>0such that:(3.14)limt→∞eηt(1-F(t))<∞.Moreover, we show that there exists someη<μsuch thateηt(1-F(t))has a finite and non-zero limit. Numerical analysis suggestsη=F(0)μ, but we were unable to explicitly prove this limit. We will provide an outline of how more accurate analysis of the tail behaviour can be conducted in the future.We first prove a supporting lemma that states that if the tail of the hazard rate is increasing, then the distribution is light tailed. We then proceed to show that the equilibrium arrival distribution characterized in Theorem 3.3 satisfies this condition.Lemma 3.4Let X be a non-negative and continuous random variable with cdf F and density f. If there exists aτsuch that for allt>τthe hazard rate is non-decreasing:h(t+s)-h(t)⩾0,∀s>0, then X is light tailed in the sense of(3.14).Denote the tail probability of X byF‾(t)=1-F(t). Recall that an equivalent definition of the hazard function for continuous random variables isH(T)=∫0th(u)du=-logF‾(t). So the tail probability can be represented using the hazard rate:(3.15)F‾(t)=e-∫0th(u)du.If there exists someτ>0after which the hazard rate is non-decreasing, then for anyt>τ:∫0th(u)du⩾Kτ+(t-τ)h(τ),whereKτ=∫0τh(u)du. Thus, we can bound the tail probability:F‾(t)⩽e-Kτ-(t-τ)h(τ)=e-h(τ)teh(τ)τ-Kτ.Finally, if we denoteη=h(τ)then we can conclude that the distribution is indeed light tailed:limt→∞eηtF‾(t)⩽eητ-Kτ<∞.□The equilibrium arrival distribution characterized inTheorem 3.3satisfies the condition ofLemma 3.4, and is therefore light tailed. Moreover, there exists someη<μsuch that:(3.16)limt→∞eηt(1-F(t))=C,where0<C<∞.We prove this lemma by using the properties of the equilibrium and the underlying queueing process to show that the tail of the hazard function is bounded and non-decreasing, and therefore both satisfies the condition of Lemma 3.4 and has a non-zero limit.If we denotepi(t)≔P(Q(t)=i), then according to Theorem 3.3 the density fort>0isf(t)=1-p0(t)N1μ+γα, hence the hazard rate is:(3.17)h(t)=f(t)∫t∞f(u)du=1-p0(t)∫t∞1-p0(u)du.Consider the dynamics of the process{Q(t),A(t)}as defined in (3.7). By taking a sum on the number of arrivals we have:(3.18)p0′(t)=∑j=0Np0,j(t)=μ∑j=0Np1,j(t)-∑j=0N(N-j)h(t)p0,j(t)=μp1(t)-h(t)∑j=0N-1(N-j)p0,j(t).The state(0,N)is clearly an absorbing one, as after all customers have arrived and have been served, there will be no more arrivals or departures. This implies the following when t goes to infinity:1.p0,N(t)→1andpi,j(t)→0,∀(i,j)≠(0,N)p0(t)→1andpi(t)→0,∀i⩾1p0′(t)→0.We characterize the tail behaviour, i.e. for large values of t, of the hazard rate by applying L’Hopital’s Rule:(3.19)h(t)∼p0′(t)1-p0(t)=μp1(t)-h(t)∑j=0N-1(N-j)p0,j(t)∑i=1Npi(t).We first note that the RHS is upper bounded byμ:(3.20)h(t)<μp1(t)p1(t)=μ.We further show that the tail of the hazard rate is strictly increasing. We define the function:(3.21)gx(t)≔F(t+x)-F(t)1-F(t).Ifgx(t)is increasing in t, for anyx>0, then the hazard rate is increasing too (this is easily verified by (3.15)). We observe the tail behaviour ofgx(t):(3.22)gx(t)=∫tt+x1-p0(u)du∫t∞1-p0(u)du=∫t∞1-p0(u)du-∫t+x∞1-p0(u)du∫t∞1-p0(u)du.The denominator is decreasing to zero at rate1-p0(t), while the numerator is decreasing at a slower rate of1-p0(t)-(1-p0(t+x)). Therefore the functiongx(t)is increasing w.r.t. t, and so ish(t). □More accurate analysis of the tail behaviour may perhaps be achieved by applying the tools of Quasi-Stationary finite state Markov chains (see van Doorn & Pollett, 2013). Consider the approximation of the tail given in (3.19):h(t)∼μp1(t)1-p0(t)-h(t)1-p0(t)∑j=0N-1(N-j)p0,j(t)∼μp1(t)1-p0(t)-p0′(t)∑j=0N-1(N-j)p0,j(t)∼μp1(t)1-p0(t).The last approximation is given by the fact that both terms in the negative product go to zero, by the properties of the process as described above. We are left with showing thatp1(t)1-p0(t)has a non-zero limit when t goes to infinity. This is in fact a conditional distribution of being in state{Q(t)=1}given that the queue is not empty. The limit of this term can then be seen, after slight modification, as a quasi-stationary distribution (see van Doorn & Pollett, 2013). In other words, as the limit probability of being in a transient state conditioned on the fact that the absorbing state has not been reached. Another point of interest in this context is characterizing the time until absorption, which in our setting is the time until all customers have arrived and have been served. The reason that the standard results which are surveyed by van Doorn and Pollett (2013) cannot be applied here, is that the process at hand is not homogeneous in time. There are methods for dealing with stationary distributions of non-homogeneous Markov chains, such as the ones presented by Abramov and Liptser (2004), which may yield more accurate analysis of the tail behaviour of the process of interest in this work. We leave these avenues for future research.Suppose now that customers may incur both tardiness and index costs;β⩾0andγ⩾0. If early birds are allowed and there is no closing time, then analysis similar to the above yields the following theorem.Theorem 3.6The equilibrium arrival distribution is given by:(3.23)f(t)=αμN(α+β+γμ),t∈[ta,0)and:(3.24)f(t)=μ(α+β)1-P(Q(t)=0)-βμN(α+β+γμ),t∈[0,tb],wheretb<∞is the upper bound of the arrival support.The positive part of the density in Theorem 3.6 is equivalent to:(3.25)f(t)Nμ=αα+β+γμ-α+βα+β+γμP(Q(t)=0),t∈[0,tb],and in caseγ=0we get:(3.26)f(t)Nμ=αα+β-P(Q(t)=0),t∈[0,tb],which coincides with the result obtained in Juneja and Shimkin (2013).In the following lemma we provide equilibrium conditions fortband argue that the support of the equilibrium distribution is indeed finite.Lemma 3.7Ifβ>0then there exists some finite timetb>0such thatF(tb)=1,f(tb)=0andF(t)<1,∀t<tb.Let us denote the equilibrium expected cost byce. This cost is clearly finite sincep0⩽1and|ta|<∞(the latter stems from the fact thatF(0)<14IfF(0)=1then there would be a downward discontinuity of the cost at time zero, contradicting the equilibrium assumption.4). Ifβ>0, then the cost functionc(t)is clearly unbounded because the termβtis not bounded and all the other terms are positive. Therefore, there must exist some timetbsuch thatF(tb)=1andF(t)<1,∀t<tb. To complete the proof we assume thatf(tb)>0and verify that this leads to a contradiction of the equilibrium assumption. Consider the cost at any timet>tb:(3.27)c(t)=Nγ+α+βμEQ(t)+βt.Recall also that for anyt⩽tb:(3.28)c′(t)=f(t)α+βμ+γ-(α+β)(1-P(Q(t)=0))+β,and by taking derivative of (3.27) fort>tbwe have:(3.29)c′(t)=α+βμddtEQ(t)+β=-(α+β)(1-P(Q(t)=0))+β.The last equation comes from the fact that when there are no arrivals the expected queue size is decreasing at rate-μfor as long as the server is busy. Iff(tb)>0, then from (3.28) coupled with the equilibrium conditionc′(t)=0we can obtain:(3.30)(α+β)(1-P(Q(tb)=0))=f(tb)α+βμ+γ+β>β.IfF(t)is continuous then so isP(Q(t)=0)(see for example Juneja & Shimkin, 2013). So we can conclude that(3.31)c′(tb+)=-f(tb)α+βμ+γ<0,which is a contradiction to the equilibrium assumption. □We can therefore conclude that the equilibrium solution is of the same functional form for both the tardiness cost model and the tardiness and index costs model. The key differences are that the index only model has an infinite support, and the boundary condition is known (i.e.ta=-Nγα). The equilibrium cost in the general case is larger than the cost in the index only case:Nγ, since a customer that arrives attbis last with probability one and there is a strictly positive probability that there are still customers in the system. We will derive a lower bound for both the individual equilibrium cost and for-ta, which will be useful in the numerical computation and in the social utility analysis.Lemma 3.8If we denote the individual equilibrium cost byce, then:(3.32)Nβμ+γ<ce<Nα+βμ+γ,and consequently:(3.33)-N(α+β+γμ)αμ<ta<-Nβ+γμαμ.The RHS of (3.32) (and the LHS of (3.33)) is trivially true for it is the cost of a customer arriving last and facing a full queue. Further the inequality is strict because assuming an equality will lead to an immediate contradiction to the equilibrium assumption. This is clearly a coarse bound, which we only use in order to bound the search range in the numerical procedure presented in the next section.The LHS of (3.32) is of more interest and requires a more technical proof, which follows similar steps as the proof of Lemma 10 in Juneja and Shimkin (2013), where a respective bound is established for the model with no index costs.We will assume thatce⩽Nβμ+γ(orta⩾-Nβ+γμαμ), and show that this leads to a contradiction. We first show that this assumption leads to the conclusion thattb>Nμ. The characterization of the equilibrium arrival distribution in (3.23) and (3.24) yields:FNμ=F(0)+∫0Nμf(t)dt=-taαμN(α+β+γμ)+∫0Nμμ(α+β)1-P(Q(t)=0)-βμN(α+β+γμ)dt<β+γμα+β+γμ+∫0NμαμN(α+β+γμ)dt=1.Hence,FNμ<1which implies thattb>Nμ. Recall that the equilibrium cost needs to be constant on all of the support, and in particularc(tb)=ce⩽Nβμ+γ. But iftb>Nμ, then according to (1.1) this is not satisfied:c(tb)=α+βμEQ(tb)+βtb+γN>βNμ+γN⩾ce,and thus we have reached a contradiction. □We can now present a numerical method to compute the equilibrium distribution in the general setting, with no closing time or early birds (both will be addressed later):(1)Choose an arbitraryta∈[-N(α+β+γμ)αμ,-Nβ+γμαμ](Lemma 3.8)Sequentially computeF(t)fort⩾tadiscretely according to the dynamics given by (3.23), (3.24):f(t)=αμN(α+β+γμ),t∈[ta,0)μ(α+β)1-P(Q(t)=0)-βμN(α+β+γμ),t∈[0,tb].The approximation step ofP(Q(t)=0)from t tot+Δis given by the Kolmogorov equations in (3.7):p0,j(t+Δ)=p0,j(t)+Δμp1,j(t)-Δ(N-j)h(t)p0,j(t),1⩽j⩽Npi,j(t+Δ)=pi,j(t)+Δμpi+1,j(t)+Δ(N-j+1)h(t)pi-1,j-1(t)=-Δ(μ+(N-j)h(t))pi,j(t),1⩽i⩽j⩽N,whereΔ>0is the discretization parameter. The initial conditions are given by (3.8):pi,j(0)=NiF(0)i(1-F(0))N-i1i=j,andF(0)=-taαμN(α+β+γμ).Stop at the first t such that either of these two conditions (Lemma 3.7) is met, for some tolerance parameter∊>0:(a)∣F(t)-1∣⩽∊∣f(t)-0∣⩽∊If both are met simultaneously, stop and settb=t.If (a), then chose a smallertaand go back to (2).If (b), then chose a largertaand go back to (2).The solutionf(t)of (3.11) was proven to be monotonic with respect to the initial conditiontain Juneja and Shimkin (2013). This is sufficient for the above procedure to converge when a simple bisection procedure is used.If early birds are not allowed the procedure can be adjusted by running the search procedure onp0. The discrete computation will now start atte(computed using Eq. (3.4)) with initial conditions:(3.34)pi,j(te)=Njp0j(1-p0)N-je-μte(μte)j-i(j-i)!1j⩾i.An additional adjustment can be made if we assume closing timeT<∞, such that no arrivals are admitted into the queue after this time. Iftb⩽T, then no adjustment is required. Otherwise, the conditions in (3) can be replaced byF(T)=1.Suppose that there is no tardiness cost and no closing time, thenF(t)<1for anyt<∞. This can be addressed by adding a tolerance parameter∊>0, and adjusting the stopping rule in (3) toF(t)=1-∊. We denote this time byt∊≔{t:F(t)=1-∊}. We next derive the computational complexity for this case and explain why it is lower than in the general model.Lemma 3.9Ifβ=0andT=∞, then the computational complexity of the procedure for N customers, with parametersΔand∊isO-log(∊)N22Δ.Ifβ=0andT=∞, then the initial conditions are known: if early birds are allowed thenta=-Nγα, and if they are not then:p0=γγ+αμ,αμ>γ1,αμ⩽γ.Hence, no bisection is needed and there is only one iteration of the algorithm.We now compute the number of approximation steps required in one iteration. The number of partitions the interval[0,t∊]in the discretization ist∊+1Δ. In each step the probability of all states of the process{Q(t),A(t)}is approximated. The size of the state space is(3.35){(i,j):0⩽i⩽N,i⩽j⩽N}=(N+1)(N+2)2.We can conclude that the total number of approximations in the procedure is(t∊+1)(N+1)(N+2)2Δ. Finally, in Lemma 3.5 we showed that the F has an exponentially decreasing tail, with a rate of0<η<μ. Thus for small∊we can approximatet∊by solving the equation:(3.36)1-F(t∊)=e-ηt,yieldingt∊∼-log(∊). □If we assume tardiness costsβ>0or a closing timeT<∞(or both), then the initial conditions are not known and there is a need for a bisection search forta(or equivalently, forp0). The complexity of each iteration in the search is given by Lemma 3.9:OtbN22Δifβ>0andOTN22Δifβ=0. Note that the number of required iterations for the bisection to converge is a function the tolerance parameter∊, and so is the approximated value oftbin caseβ>0. In both cases the computational resources required in each iteration is of similar magnitude as in the index only case, but multiple (possibly many) iterations are required.We applied the numerical procedure presented above in order to compute the equilibrium arrival distribution for several examples. First of all for the case with no tardiness cost (β=0), in Fig. 6we see four arrival densities, for different population sizes. In all four examples the service rate isμ=20and the waiting cost isα=0.1. By keeping the productNγconstant at a value of one, in all of the examples, we also keep the individual equilibrium cost constant (and equal to one). This also implies that the lower bound of the support remains constant atta=-Nγα=10. The only change is the shape of the distribution which becomes more “spread out” as the population size increases. It is evident that for a larger number of customers the decrease in the arrival rate is not exponential at first, but rather starts moderately and is only exponential in the tail.In Fig. 7we show the tail behaviour of the hazard rate for increasing population sizes when all other parameters are kept constant. ForN>1the hazard rate is not constant, but as we have shown in Lemma 3.5 it approaches a constant rate. The numerical examples suggest that this constant rate is the same as in the case ofN=1, which equalsμF(0)=μ1+αγμ. In other words, the tail behaviour of the arrival distribution is dependent on the cost parameters, but not on the population size.The next examples were computed for the same sets of parameters as in Fig. 6, with an addition of a tardiness cost:β=0.1. These computations are shown in Fig. 8. In this case, the support is finite:[ta,tb]. Increasing the population now makes the support ”spread out” in both directions, with customers starting to arrive earlier, and with a more moderate decrease after time zero.A common model assumption in queueing arrival games is that the number of customers arriving to the system follows a Poisson distribution with some parameterλ. Although this assumption might seem to make the model more complicated, it actually simplifies quite a few of the calculations. Namely, if each customer believes that the number of other customers isN∼Poisson(λ)5It turns out this is consistent with assuming the overall number of customersN+1is of the same distribution. Moreover, this phenomenon only holds for Poisson random variables. See for example Preston McAfee and McMillan (1987) or Haviv and Milchtaich (2012).5and that they all arrive according to the same distribution F, then the arrival processA(t)is a non-homogeneous in time Poisson process with rateλf(t). The independent increments then imply that the number of customers yet to arrive at any given time does not depend on the number of customers that have already arrived. We assume a linear cost function withα>0andβ,γ⩾0, no closing time and that early birds are allowed. Analysis very similar to Section 3, leads to the following equilibrium arrival distribution:(4.1)f(t)=αμλ(α+β+γμ),t∈[ta,0)μ(α+β)1-p0(t)-βμλ(α+β+γμ),t∈[0,tb]0,o.w.,such that∫tatbf(t)dt=1,f(tb)=0, andpi(t)=P(Q(t)=i)satisfy:(4.2)pi′(t)=μp1(t)-λf(t)p0(t),i=0μpi+1(t)+λf(t)pi-1(t)-(μ+λf(t))pi(t),i>0.Unsurprisingly, the equilibrium solution is of the same functional form as in Glazer and Hassin (1983) and Haviv (2013). Ifβ=0, the arguments of Lemma 1.1 still hold. To be specific, any customer can ensure an expected cost of no more than the expected number of customers times the order penalty. Therefore, the equilibrium cost isλγand the arrival support is[-λγα,∞). This means that the computational advantages discussed in the precious section are still valid in the Poisson case.When considering the goal of minimizing the total cost inured by the customers, thus maximizing social welfare, then the inclusion of index costs has no impact on the optimization problem. The order of admittances does not matter because there is always a first customer, last customer and so on. If there areN+1customers, then the total cost of the order penalties isγN(N+1)2, regardless of the actual order. Including this cost in the definition of the price of anarchy yields:(5.1)PoA≔(N+1)ceγN(N+1)2+copt,wherecoptis the total socially optimal expected waiting and tardiness cost. We will review two examples of social optimization for this model, the first a scheduling policy when there are no tardiness costs and the second a dynamic policy for the general model.If there are no tardiness costs, then the socially optimal schedule is one that minimizes the expected queue size at arrival times. This problem is only relevant when there is a closing time T, for otherwise a central planner could ”spread out” the customers as much he wants and achieve a cost of zero.IfN=3andT=1it can be verified that scheduling one arrival at zero, another at T and a third at(5.2)t∗=1μlog1+1+4eμ2,1μlog1+1+4eμ2⩽11,o.w.,is the socially optimal schedule. And the total socially optimal waiting cost is:(5.3)copt=αe-μt∗+e-μ(1+μ-μt∗+eμt∗)+3γ.Table 1shows exact computations of the PoA for several model parameters. When the index cost parameter is large, relative to the waiting cost parameter then the price of anarchy is lower, as expected since the central planner has less impact on the total cost. Moreover, the PoA can be very close to one when the index parameter is the dominant factor in the cost function.For a general number of customers, finding an optimal schedule for this problem is a hard global optimization problem, and typically can only be solved using heuristic or approximation algorithms. Examples of such algorithms can be found in Pegden and Rosenshine (1990) or Stein and Côté (1994). More recently Hassin and Mendel (2008) presented an optimization procedure in the context of patient scheduling, when some proportion of the customers do not show up. An alternative formulation of the social optimization problem is suggested in Hassin and Kleiner (2011): The central planner may not specify individual arrival times to the customers, but rather a distribution for all customers to randomly draw their arrivals from. They provide an approximation algorithm for finding the socially optimal distribution, using time discretization, which indicates that the optimal solution is a uniform distribution.A strict lower bound of 2 for the PoA was established in Juneja and Shimkin (2013), along with convergence to the bound when the number of customers increases. They do this by comparing the equilibrium cost to an optimal schedule where the central planner observes the system and can send a new customer each time a service is completed. This dynamic policy is still optimal when index costs are included and then by definition (5.1) we get:(5.4)PoA=(N+1)ceγN(N+1)2+βN(N+1)2μ.In Lemma 3.8 we showed thatce>Nβμ+γ. This leads directly to the following lemma:Lemma 5.1In the general cost model, if the central planner can schedule arrivals dynamically, thenPoA>2.We can conclude that even though the central planner cannot reduce the total index costs, the price of anarchy is still always greater than two, as in the model without them. This is another property that holds when generalizing the standard model to include index costs.We have introduced a new cost model for the queueing arrival game, which penalizes late arrivals for their order of admittance, instead (or in addition) to the previously modelled tardiness costs. We have shown that there are several differences between these two models. In particular, if just order costs are assumed, than the arrival rate decreases exponentially, but does not reach zero at any finite time. Furthermore, we have shown that the equilibrium cost, in this case, depends solely on the order penalty parameter. We have also shown how the equilibrium behaviour changes when limiting the customer arrival interval, by not allowing to queue before opening time or by setting a closing time. The equilibrium arrival process characterized here is qualitatively similar to the standard tardiness model (Juneja & Shimkin, 2013; Haviv, 2013), i.e. a uniform arrival distribution before the server opens and a decreasing arrival density (with the same functional form) afterwards. However, the index model is easier to compute numerically because the initial conditions of the distribution are derived directly from the model assumptions. The role of the tardiness cost assumption has been motivated in the literature as an indirect proxy for an index cost, for example in the concert example. We have shown here how to take this cost into account directly. This new model assumption of order penalties, or equivalently deteriorating service value, has many applications in varied economic scenarios, from seating in a plane or concert hall to the demand for wilderness recreation during a summer vacation.There are a few avenues for further research on this model: considering non-linear cost functions, populations with non-homogeneous cost parameters or a general service distribution. In the case of non-linear waiting and order costs, necessary equilibrium conditions may be developed using the techniques presented here. However, it is hard to provide general sufficient conditions for the uniqueness or even existence of a Nash equilibrium. This analysis may be carried out for special cases, such as a quadratic cost function. It is reasonable to assume that customers differ in their utility functions, and so the analysis of non-homogeneous customer types is very much called for. This has been considered lately in a queueing context by Guo and Hassin (2012), and in the closely related queueing arrival game in Jain et al. (2011). The latter studies the equilibrium arrival pattern in the fluid setting, and extending this analysis to discrete customer models like the one presented in this paper is an interesting research challenge. An additional question that stems directly from this work is that of characterizing the quasi-stationary distribution of the queueing process, as defined in van Doorn and Pollett (2013), for the infinite support equilibrium arrival distribution of the index only model. The results presented here may also be used for empirical research, such as the previously mentioned work of Rapoport et al. (2004). We have presented a general framework for comparison between models, which may include index and/or tardiness costs along with restrictions on the opening and closing times of the server. The index model also has computational advantages, while maintaining the equilibrium properties of the more general model, and this may be useful for conducting a simple experiment and comparison. Considering a discrete time version of our model may also be necessary in order to compare to experimental results. The author believes that the analysis of the discrete time model should be straightforward using the tools presented here, and that the main properties of the index model will remain the same; an equilibrium arrival distribution with a cost determined by the order penalty parameter and population size, and the solution will require a discrete version of the numerical procedure we have presented in Section 3.3 using the known initial conditions given by the order parameter.

@&#CONCLUSIONS@&#
