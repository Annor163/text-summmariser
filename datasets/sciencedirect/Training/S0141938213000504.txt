@&#MAIN-TITLE@&#
A model for qualitative colour comparison using interval distances

@&#HIGHLIGHTS@&#
Colours are named by intervals on reference systems on the HSL colour space.Rainbow colours, pale/light/dark colours and colours in the grey scale appear.A similarity measure based on interval distances (SimQCDInt) is defined.The SimQCDInt is used for comparing the qualitative colours (QCs) defined.The QC system and the SimQCDInt are tested proving their effectiveness.

@&#KEYPHRASES@&#
Qualitative colour,HSL colour space,Discretization,Similarity measure,Complementary colour,

@&#ABSTRACT@&#
In this paper qualitative colours are named by defining intervals on reference systems built on the Hue Saturation and Lightness (HSL) colour space. The new model for Qualitative Colour Description (QCD) distinguishes rainbow colours, pale, light, dark colours and colours in the grey scale. For comparing the qualitative colours described, a similarity measure based on interval distances (SimQCDInt) is introduced. HSL intervals for each colour label have been defined experimentally using data obtained in a user survey. Preliminary experiments have also been conducted in order to check that the proposed approach is consistent with human appreciations of colour similarity and complementarity.

@&#INTRODUCTION@&#
People usually classify things as members of categories and attach linguistic labels to them, and colour is no exception. For example, fresh blood and ripe tomatoes are both classified as red, even though they produce their own particular colour wavelengths [1]. Humans also attach colours to objects and think about them qualitatively and as a constant: white wine, blue sea, etc. even though they know that white wine is in fact yellowish or golden and that the sea is sometimes grey or turquoise. Furthermore, Conway [2] demonstrated that the basic colours that can be named by human beings are only about 10–20.A qualitative colour description can be easily understood and interpreted by human users. Therefore, by employing it, user-machine communication could be enhanced in many applications. For example, a qualitative colour description can be used as part of a key search in image retrieval from databases, and it can also be included in a user interface both written and read aloud by a speech synthesizer application to help all kind of users (even blind and deaf users) to understand. Also, a qualitative colour description can be assigned a meaning by relating it to an ontology and, in this way, it could be interpretable by intelligent web agents and also by robotic agents. The challenge of describing semantically the shape and colour of the objects within digital images has been approached by Falomir [3] and Falomir et al. [4] by applying the colour region-based segmentation method by Felzenszwalb and Huttenlocher [5], for extracting the closed boundary of the relevant objects in the images. The qualitative colour description provided for those objects was designed specifically for the robotic application. In this paper, a Qualitative Colour Description (QCD) model is defined in a general way and it is parameterized according to a cognitive study.However, for interpretation and recognition, a qualitative description is not enough, a matching or correspondence of descriptions is needed. Comparing colours described qualitatively allows intelligent agents to simplify colour similarity calculus because different Hue Saturation and Lightness (HSL) values are assigned the same name, and two equal colour names are always considered to be similar. The challenge appears when trying to compare two different colour names. In this paper, a similarity measure based on interval distances is defined and applied to qualitative colour comparison, with the aim of analysing the efficiency of the proposed model for human–computer interaction. In comparison to previous works, it is worth noting that the similarity presented has the formal properties of a distance, and a complementarity operator of a colour has been defined.The rest of the paper is organized as follows. Section 2 presents related work on colour naming and comparing. The model for Qualitative Colour Description (QCD) is presented in Section 3. Then, Section 4 defines a similarity measure between qualitative colours using interval distances (SimQCDInt) and the complementary colour for the QCD model. In Section 5 the QCD is parameterized and the SimQCDInt and the complementary colours are evaluated in order to prove its suitability for colour description and comparison. Finally, conclusions are drawn and some directions for future work are given.In the literature, colour-naming models have been defined using different colour spaces. Menegaz et al. [6] presented a model for computational colour categorization and naming based on the CIE Lab colour space and fuzzy partitioning. Van De Weijer and Schmid [7] presented a colour name descriptor based on the CIE Lab colour space. Mojsilovic [8] presented a computational model for colour categorization and naming and extraction of colour composition based on the CIE Lab and HSL colour spaces. Seaborn et al. [9] defined fuzzy colour categories based on the Musell colour space (L*C*H). Liu et al. [11] converted the dominant colour of a region (in HSV space) into a set of 35 semantic colour names, some of them being related to natural scene images like sky blue or grass green. Stanchev et al. [12] defined 12 fundamental colours based on the CIELUV colour space and used Johannes Itten’s theory of colour to define the contrasts light–dark, warm–cold, etc. Corridoni et al. [13] presented a model for colour-naming based on the HSL colour space and also introduced some semantic connotations, such as warm/cold or light/dark colours. Lammens [14] presented a computational model for colour perception and colour-naming based on the CIE XYZ, CIE Lab and NPP colour spaces. Berk et al. [15] defined the well-known Colour Naming System (CNS), which quantizes the HSL space into 627 distinct colours: the hue (H) value is quantized into 10 basic colours, and saturation (S) and lightness (L) are adjectives representing the richness and brightness of the colour.In this paper, the qualitative colour model defined is based on the HSL colour space, which was demonstrated to be the most suitable one to be divided into intervals of values corresponding to colour names [10]. In addition to this, it provides a way to add intuitive semantic labels to these names [16]. Furthermore, in contrast to the work by Berk et al. [15], Corridoni et al. [13] and Mojsilovic [8], the model presented is held as simple as possible since Conway [2] demonstrated that human beings can only identify a reduced number of colour names. Furthermore, the qualitative description of colours defined may be understandable by non-experts in colour.Different colour similarity measures have been defined, each related to a different colour space. Euclidean distance is frequently used in cubic representation spaces such as RGB or CIE Lab and occasionally in cylindrical spaces like L*C*H [16]. Another Euclidean-like distance was proposed for L*C*H in the work by Vik [17]. Plataniotis and Venetsanopoulos [18] used a cylindrical distance to obtain colour similarity for cylindrical and conical spaces like HSL, HSV and L*C*H. Another formula for computing colour difference in colour spaces such as L*C*H and CIECAM02 was also proposed by Luo et al. [19]. Similarity and dissimilarity values based on the Fuzzy C-Means were defined to compare fuzzy colour categories based on the Musell colour space in the work by Seaborn et al. [9]. All these similarity measures are applied to compare the colour numerical values of the pixels.The model for colour comparison presented in this paper calculates the similarity between qualitative colour names (instead of between their exact colour coordinates) by applying a distance between intervals, which to the best of our knowledge is a novelty in the literature.The QCD Model translates the RGB colour channels into coordinates of the HSL colour space in order to give a name to the colour displayed. Inspired by the Gärdenfors colour spindle [10], our model will associate to each qualitative label an interval in the HSL space.From the HSL colour coordinates a reference system for qualitative colour description is defined asQCRS={UH, US, UL, QCLAB1…M,QCINT1…M}, where UH is the Unit of Hue; US is the Unit of Saturation; UL is the Unit of Lightness;QCLAB1…Mrefers to the qualitative labels related to colour distributed in M colour sets; andQCINT1…Mrefers to the family of sets (expressed in term of intervals) of Hue Saturation and Lightness colour coordinates associated with each colour label of the M colour sets.The number of intervals M (i.e, the granularity), and the maximum and minimum values of the intervals are parameters that should be experimentally defined to match the settings of particular applications.The HSL colour space distributes colours in the following way (see Fig. 1). The rainbow colours are located in the horizontal central circle. The colour lightness changes in the vertical direction, therefore light rainbow colours are located above, while dark rainbow colours are located below. The colour saturation changes from the boundary of the two cone bases to the axis of the cone bases and, therefore, pale rainbow colours are located inside the horizontal central circle. As a consequence of the changing colour saturation and lightness, the vertical axis locates the qualitative colours corresponding to the grey scale.Let us consider in this paper that M=5: (1) grey colours, (2) rainbow colours, (3) pale rainbow colours, (4) light rainbow colours and, (5) dark rainbow colours, where theQCLABiandQCINTifor i=1,…,5 are:QCLAB1={G1,G2,G3,…,GKG}QCINT1={[0,gul1],(gul1,gul2],(gul2,gul3],…,(gulKG-1,100]∈UL/∀UH∈[0,360]∧∀US∈[0,gusMAX]}where KG colour names are defined for the grey scale inQCLAB1whose corresponding intervals of values in HSL are determined byQCINT1. All the colours in this set can take any value of hue, values of saturation between 0 andgusMAXand values of lightness(gulKG)between 0 and 100, which determine the different colour names defined. Note that the saturation coordinate of the HSL colour space (US) determines if the colour corresponds to the gray scale or to the rainbow scale.QCLAB2={R1,R2,R3,…,RKR}QCINT2={(ruhKR-1,360]∧[0,ruh1],(ruh1,ruh2],(ruh2,ruh3],…,(ruhKR-2,ruhKR-1]∈UH/∀UL∈(rulMIN,rulMAX]∧∀US∈(rusMIN,100]}where KR colour names are defined for the rainbow scale inQCLAB2and considered the more saturated or stronger ones. InQCINT2, their saturation can take values betweenrusMINand 100, whereas their lightness can take values betweenrulMINandrulMAX. Here, the different values of hue(ruhKR)can take values between 0 and 360 and determine the colour names defined for this set.QCLAB3={pale_+QCLAB2}QCINT3={∀UH∈QCINT2/∀UL∈(rulMIN,rulMAX]∧∀US∈(gusMAX,rusMIN]}where KR pale colour names are defined inQCLAB3by adding the prefix pale_ to the colours defined for the rainbow scale(QCLAB2). The colour names defined inQCINT3have the same interval values of hue as rainbow colours(QCINT2). The lightness intervals also coincide, but they differ from rainbow colours in their saturation, which can take values betweengusMAXandrusMIN.QCLAB4={light_+QCLAB2}QCINT4={∀UH∈QCINT2/∀UL∈(rulMAX,100]∧∀US∈(rusMIN,100]}QCLAB5={dark_+QCLAB2}QCINT5={∀UH∈QCINT2/∀UL∈(rdul,rulMIN]∧∀US∈(rusMIN,100]}where KR light and dark colour names are defined inQCLAB4andQCLAB5, respectively, by adding the prefixes dark_ and light_ to the colour names in the rainbow scale(QCLAB2). The intervals of values for dark and light colour sets(QCINT4andQCINT5, respectively) take the same values of hue as rainbow colours(QCINT2). The saturation intervals also coincide, but the lightness coordinate (UL) differs and determines the luminosity of the colour (dark or light) taking values betweenrulMAXand 100 for light colours and between rulandrulMINfor dark colours.Defining a similarity measure between colours is a prerequisite for building a useful model for colour description, since such a measure corresponds to the way in which an agent may judge whether the stimuli (in this case, a colour) are the same or not.Let us introduce the concept of interval distance. Given an open interval (analogously for another kind of interval) of finite dimension, there are two main ways to represent it: from the extreme points as (a,b) (classical notation) or as an open ball Br(c) (Borelian notation) where c=(a+b)/2 (centre) and r= (b−a)/2 (radius).Given two intervals, I1=(a1,b1)=Br1(c1) and I2=(a2,b2)=Br2(c2), a family of distances between them was defined in Gonzalez-Abril et al. [20], which depends on three positive parameters, w1, w2 and w3, as follows:d2(I1,I2)=(ΔcΔr)AΔcΔrwhere Δc=c2−c1, Δr=r2−r1 andA=w1w2w2w3is a symmetrical 2×2 matrix of weights, which must be a positive definite matrix, that is,w1w3-w22>0and w1+w3>0. From the A matrix, the weights given to the position of the intervals and to the radius can be controlled.A choice for the A matrix is to consider a diagonal matrix, that is,A=w100w3which provides the next distance:(1)d(w1,w3)(I1,I2)=w1Δ2c+w3Δ2rHence, the qualitative colour names (QC) are defined in HSL from three intervals IH×IS×IL, as follows: QC=[h0,h1]×[s0,s1]×[l0,l1]. Note that the HSL colour space is formed by two inverted cones joined at their bases (spindle) in which the distance between their vertices is 100 (UL axis). However, the diameter length in this cone equator (US axis) is 200 (Note that taking US=100 and two angles 0 and 180, it is given that 100·cos (0)−100·cos (180)=100+100=200). Therefore, in order to normalize the units in the calculus, the values in the UL axis must be doubled, which corresponds to multiplying the corresponding terms by four in the distance formulae.Considering the previous statement, let us calculate some reference values:hc=h0+h12,hr=h1-h02,sr=s02+s122,lc=l0+l12,lr=l1-l02From this, it is obtained that:•InQCLAB1, the interval values obtained in HSL coordinates correspond to cylinders in the Cartesian coordinate system, described as:QC=[0,360]×[0,100/M]×[l0,l1]=B20(0,0)×Blr(lc)In all other cases, the interval values in HSL correspond to wedges in the Cartesian axis. Note that, as it is not possible to represent them as precise interval balls, the largest interval ball within the wedge corresponding to the UH and US coordinates will be selected, that is, the largest cylinder within the wedge:QC=[h0,h1]×[s0,s1]×[l0,l1]≡Br(x,y)×Blr(lc)where r=min{s1−sr,sr·sin (hr)}, x=sr·cos (hc) and y=sr·sin (hc).Hence, given two colour namesQCA≡Br1(x1,y1)×Blr1(lc1)andQCB≡Br2(x2,y2)×Blr2(lc2), the interval distance between them is calculated from (1) as:dQCInt(QCA,QCB)=(x1-x2)2+(y1-y2)2+(r1-r2)2+4(lr1-lr2)2+4(lc1-lc2)2that is,dQCInt2(QCA,QCB)=d(1,0.5)2(Br1(x1),Br2(x2))+d(1,0.5)2(Br1(y1),Br2(y2))+d(2,2)2(Blr1(lc1),Blr2(lc2))Clearly, dQCInt is a distance since it is defined from an addition of distances.Hence, given two colour names QCAand QCB, a normalized similarity SimQCDInt between them is defined as:(2)SimQCDInt(QCA,QCB)=1-dQCInt(QCA,QCB)max(dQCInt)where max(dQCInt) denotes the maximum distance for all colours defined by QCLAB1…5.The main properties of this normalized similarity (2) are:1.Symmetry: SimQCDInt(QCA,QCB)=SimQCDInt(QCB,QCA).Upper and lower bounds: 0⩽SimQCDInt(QCA,QCB)⩽1.SimQCDInt(QCA,QCB)=1 if and only if QCA=QCB.SimQCDInt(QCA,QCB)=0 if and only if dQCInt(QCA,QCB)=max(dQCInt).Complementary colours are pairs of colours that are of opposite hue in a colour model and were defined first by Goethe in his Theory of Colours[21]. The exact hue complementary to a given hue depends on the model in question, and perceptually uniform, additive, and subtractive colour models, for example, have differing complements for any given colour. In colour theory, two colours are called complementary if, when mixed in the proper proportion, they produce a neutral colour (grey, white, or black). In roughly-perceptual colour models, the neutral colours (white, greys, and black) lie along a central axis, as in HSL colour space.For the colours in the rainbow scale in the QCD model, the addition of two complementary colours produces the colour white. The colour coordinates selected for calculating the complementary of those colours were those corresponding to the centre of each wedge since Berlin and Kay [22] demonstrated that humans determined prototypical colours as the centre of colour categories. In HSL colour space, the colour white is determined by the coordinates (0,0,100)HSL.Therefore, given a qualitative colour defined by the centre of its wedge (centroid) in the QCD model, QCA=(H,S,L)HSL, whose Cartesian coordinates are (S cos (H),S sin (H),L), its complementary colour(QCA¯)is defined by the Cartesian coordinates.(−S cos (H),−S sin (H),100−L)= (S cos (180+H),S sin (180+H),100−L) that is,QCA¯=(180+H,S,100-L)HSL.Furthermore, as the H coordinate is defined in an angular scale, if 180+H>360, then the real value for H in the QCD model is defined as: 180+H−360=H−180. Summarizing, the complementary colour of a general colour defined by the HSL coordinates of its centroid, QCA=(H,S,L)HSL, is calculated as:QCA¯=(180+H,S,100-L)HSLif 0⩽H⩽180, otherwiseQCA¯=(H-180,S,100-L)HSL.It is worth noting that the complementary of a complementary colour is the original colour, i.e.QCA¯¯=QCA.The parameters selected for the Qualitative Colour Reference System (QCRS) are shown in Section 5.1 and analysis of the results of testing the SimQCDInt calculus and the complementary colour calculus are shown in Sections 5.2 and 5.3, respectively.In order to determine the interval of values associated to the Qualitative Colour Reference System orQCRS={UH, US, UL, QCLAB1…5,QCINT1…5}, 534 participants (students and teachers) at the Universitat Jaume I and Universidad de Sevilla both located in Spain were asked using a test. An application was implemented which showed 10 different colours selected randomly using their HSL coordinates. For each colour selected, participants were asked if they considered the colour to be in the grey or rainbow scale. For those colours classified in the grey scale, participants were asked if the colour was white, light-grey, grey, dark-grey or black, that is, the chosen granularity was 5. For those colours classified in the rainbow scale, participants were asked if the colour was red, yellow, green, turquoise, blue, purple or pink, that is, the chosen granularity was 7 and if it was pure, light, pale or dark. As a result, 5340 colour names and its corresponding HSL coordinates were obtained and the AMEVA algorithm [23] was used to obtain the classes of the intervals. Hence, the values extracted for parameterizing the QCD model were the following:QCLAB1={black,dark_grey,grey,light_grey,white}QCINT1={[0,20),[20,30),[30,40),[40,80),[80,100)∈UL/∀UH∈[0,360]∧∀US∈[0,20]}QCLAB2={red,yellow,green,turquoise,blue,purple,pink}QCINT2={(335,360]∧[0,40],(40,80],(80,160],(160,200],(200,260],(260,297],(297,335]∈UH/∀US∈(50,100]∧∀UL∈(40,55]}QCLAB3={pale_+QCLAB2}QCINT3={(335,360]∧[0,40],(40,80],(80,160],(160,200],(200,260],(260,297],(297,335]∈UH/∀US∈(20,50]∧∀UL∈(40,100]}QCLAB4={light_+QCLAB2}QCINT4={(335,360]∧[0,40],(40,80],(80,160],(160,200],(200,260],(260,297],(297,335]∈UH/∀US∈(50,100]∧∀UL∈(55,100]}QCLAB5={dark_+QCLAB2}QCINT5={(335,360]∧[0,40],(40,80],(80,160],(160,200],(200,260],(260,297],(297,335]∈UH/∀US∈(20,100]∧∀UL∈(0,40]}Therefore, in the final QCRS, 10 basic colours are defined (black, grey, white, red, yellow, green, turquoise, blue, purple, pink) and by adding the semantic descriptors pale_, light_ and dark_, a total of 5+7×4=33 colour names are obtained. Figs. 2 and 3show the colour values assigned to each colour name corresponding to the central value of each interval in HSL.The experimentation developed to prove the effectiveness of the SimQCDInt measure was carried out in two parts: (1) comparing the different HSL coordinates (Test 1) which were assigned the same colour name in order to prove its adequacy; and (2) calculating the similarity values obtained between all the qualitative colours defined (Test 2) with the aim of testing if the arrangements of the most similar colours provided were suitable from the point of view of human perception.Figs. 4 and 5show the results obtained from Test 1. The structure of these tables is the following: (i) the representative colour (the class of the interval) is given in the left upper corner; and (ii) 20 different colours with different HSL values but corresponding to the same colour name are arranged. Note that, under the same colour category, the QCD model defines different colour intensities which are given the same name by human beings. It is also easy to see that people may agree to name any of the colours in each grid with the name given by the QCD model.Figs. 6 and 7show the results obtained from Test 2. The structure of these tables is the following: (i) the representative colour and the colour name are given first; and (ii) the most similar 12 colours according to SimQCDInt are arranged showing: the representative colour display, the colour name and the similarity value obtained. The gradation of colours built according to the similarity values obtained by SimQCDInt has been categorized by colour experts as coherent with human colour perception.The experimentation developed to test the calculus of the complementary colours in the QCD model provided the results shown in Fig. 8. This experiment was carried out in order to prove the coherence of the QCD model by demonstrating that the complementary colour(QCA¯)of a given colour name (QCA) is the same as the colour with the lowest similaritySimQCDInt(QCA¯,QCA)inside the same colour scale(QCINTi). As Fig. 8 shows, this goal has been achieved.

@&#CONCLUSIONS@&#
A model for Qualitative Colour Description (QCD) based on the Hue Saturation and Lightness (HSL) colour space has been presented and a measure of similarity for qualitative colour comparison has been defined using interval distances (SimQCDInt).The QCD model has been parameterized according to a survey carried out by around 500 participants at Universitat Jaume I and Universidad de Sevilla, Spain. However, the granularity of the QCD model and its parameterization are adaptable to different studies and applications.The SimQCDInt calculus has proved to: (i) provide the highest similarity to those colour intensities given the same name by human beings; and (ii) provide colour gradations coherent to human colour perception. It also states that: (i) the complementary colour of a given colour name is also the less similar colour or the most distant inside its colour scale; and (ii) the complementary of the complementary colour is the original colour name.As future work, we intend to design and elaborate a psychological study in order to test this model on people with the aim of analysing its suitability for human machine communication. This should take into account how context (such a cultural differences) affects the names given to colours, as Gärdenfors [10] emphasized.