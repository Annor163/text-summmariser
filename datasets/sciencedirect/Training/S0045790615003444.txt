@&#MAIN-TITLE@&#
A novel power efficient adaptive RED-based flow control mechanism for networks-on-chip

@&#HIGHLIGHTS@&#
We suggest a new flow control mechanism for improving power and latency.We present a novel methodology to improve the buffer space utilization.Our method reduces queue blockages to determine a proper size for virtual channels.We apply queue length considerations of a modified version of RED algorithm.We utilize learning automata to adapt the threshold values of RED algorithm.

@&#KEYPHRASES@&#
Network-on-chip (NoC),Random Early Detection (RED) algorithm,Stochastic learning automata,Performance evaluation,Congestion control management,Power consumption,

@&#ABSTRACT@&#
Graphical abstractImage, graphical abstract

@&#INTRODUCTION@&#
According to ITRS [1], with the advances in integrated circuit fabrication technology, the number of processing cores in on-chip multiprocessors will increase to 1000 by 2020. In addition, the number of processing and storage elements in on-chip systems has increased to 300 units by 2015. On the other hand, the rapid increase in functionality and complexity of the applications has increased the volume and complexity of the communication patterns within the chips. Therefore, a proper communication infrastructure is required to effectively deal with this inter-chip traffic. Applying packet switching mechanism has become inevitable due to lack of scalability and bandwidth constraints of the traditional crossings, along with the area overhead and the time-consuming design of specific point-to-point connections [2].On-chip networks have been suggested as a viable solution to the chip-level communication problem. They include a set of functional units, which are connected to each other via a network switch. In many of these systems, the connection network is responsible for a significant portion of the consumed power, which makes power consumption a major constraint of designing such systems. With the increase in processing power and the emergence of large-scale applications, the challenging aspect of communication overheads in single-chip and on-chip systems has attracted much attention [3].The issues of traditional communicating methods in addition to the benefits and great potential of the on-chip networks have made this communicational mechanism a promising and viable solution to the communication management on chips. Still, these networks suffer from some problems and issues that need to be addressed.In late 2006, the OCIN meeting was held at Stanford University, with the audience comprising active researchers in the fields of communication networks, network-on-chip, and on-chip system design. The meeting was to review and identify challenges and to provide proper orientations of future researches to solve them. The outcomes of this debate have been published as an article [2]. The meeting identified three major deterrents to the industrial usage of on-chip networks as follows: high power consumption, considerable delay and the issues of adapting the existing CAD tools to the contemporary methods of designing on-chip systems.In order to reduce the power consumption and increase the performance, various optimizations in the area of on-chip network design have been proposed. They have been proposed for different on-chip network problems such as layout designs, router microarchitecture design, mapping methods, and switching and flow control mechanism issues. Considering the aforementioned optimizations, flow control and buffering issues play a crucial role in power reduction.Buffer management and the buffer size are key parameters in NoCs. The size of input channel buffers in each NoC router has a significant impact on the total chip area. For instance, increasing the buffer size in each input channel from two to three words in a 4 × 4 Mesh NoC, increases the router size by 30%. Meanwhile, according to the network workload, an increase in buffer size can defer the network transition to the saturation phase. In other words, buffer management is directly related to the flow control policies adopted by networks. The flow control, in turn, affects the network performance and resource usage. Hence, an appropriate flow control policy can make the network performance reach up to 80% of its theoretical value, while by adopting a weak policy, it may only reach 30% of this value [4]. Regarding the mentioned reasons, the method of dynamic buffer allocation has been proposed. In this method, there are buffers which are allocated to each router under special conditions and will be deallocated again. Some of such techniques will be studied in the next section.One of the major issues of interconnection networks is congestion. In fact, congestion is considered to play a key role in achieving high efficiency and performance. Network congestion occurs when the bandwidth demand exceeds the available bandwidth. In lossless networks, congestion results in more delay and less efficiency. Therefore, not having a suitable congestion management leads to a significant decline in the overall network performance or a part of it. There are two general solutions to this problem: the proactive technique and the reactive technique. The proactive technique prevents the occurrence of congestion by increasing the available resources, whilst the reactive technique attempts to efficiently use the available resources. To this end, some algorithms must be used to analyze the network status in order to eliminate the congestion when the network enters saturation.Virtual channels (VCs) were initially suggested as a solution to the deadlock problem [5]. The header blocking may occur in all flow control mechanisms, in which there exists a queue for each input. Blocked packets at their head become a bottleneck for other packets behind them, even if there exist sufficient resources for the blocked packets [6].Basically, VCs divide the queue inside the router. Multiple VCs share physical links between routers. Header blockings are reduced by unifying several separate queues of each input. The arbitration policy of VCs multiplexes the bandwidth of each physical link in a round robin fashion. When a VC packet is blocked, other packets can pass the physical link through another VC. Therefore, VCs increase the functionality of the physical channels and improve the overall network performance. A physical channel and its corresponding VCs are illustrated in Fig. 1. Technically, VCs can be applied to any flow control mechanism in order to reduce the blocking probability of the headers [7].Artificial intelligence (AI) and adaptive approaches, especially machine learning techniques have an effective role in optimization algorithms. The goal of machine learning is to make the computer (in its most general concept) gradually achieve higher efficiency for an intended task. Machine learning has attracted much attention in recent years making the researchers apply machine learning techniques to a broad range of new problems.Random Early Detection (RED) algorithm was initially applied to the congestion control problem in Transmission Control Protocol (TCP) based networks [8]. The algorithm either accepts or rejects the packets before entering the queue based on calculating the probability of queue occupancy (proportional to the queue length). This technique prevents hasty filling of the queue and strikes a balance between applications with a high input rate and the ones with a low input rate. The algorithm postpones the filing of the queue.Discarding packets when the buffers are full is the easiest way to overcome congestion. This method, on which the RED is based upon too, is acceptable in lossy networks such as the Internet. In these networks, the latency of re-sending the packets is usually acceptable. On the other hand, in NoCs and High Performance Computing (HPC), the system cannot usually bear this delay. Hence, other techniques must be employed in such systems [9].The approach proposed in this paper applies queue length considerations of RED algorithm to improve the performance and power consumption of NoCs. Moreover, a stochastic learning-automata-based algorithm has been used to optimize the threshold values required in the RED algorithm. In this method, RED algorithm has been modified for NoCs. Considering the fact that the system cannot bear discarding the packets, we abandon discarding in NoCs and only address the threshold values. Furthermore, a new router microarchitecture is provided, in which dynamic buffer size is used in the flow control of VCs. In addition to improving the buffer space utilization, this alteration can also enhance the network performance.The remainder of the paper is organized as follows: Section 2 reviews the previous work relevant to this paper. Setting the buffer size and its implementation are also discussed in this section as pervious work. The necessary preliminaries and backgrounds such as the structure of NoCs, RED algorithm, stochastic learning automata and router microarchitecture are provided in Section 3. The proposed approach to reducing queue blockages, power consumption and average latency is explained in detail in Section 4. In Section 5, the proposed approach is evaluated and the experimental results are given under various synthetic traffic patterns for different injection rates and trace-driven SPLASH-2 benchmark suite. Finally, in Section 6, conclusions are provided.

@&#CONCLUSIONS@&#
In this article, a new flow control mechanism was suggested for improving power consumption, latency and the efficiency of networks-on-chip (NoCs). Once a flit arrives, its priority is initially checked and an appropriate virtual channel (VC) is subsequently prepared to be assigned to it. Preparation of VCs is done by means of a modified RED algorithm. In the procedure, upon the arrival of a flit, assigning some other flits with the same priority to that VC is feasible. Therefore, adjusting the VC after the arrival of each flit is a reasonable and preventive method. For the sake of this adjustment, we used learning automata algorithm alongside the modified RED. By getting feedback from the network, the algorithm accurately adjusts the thresholds of RED algorithm. Due to the dynamic adjustment of the VC size, the buffer space is optimally utilized; which decreases the amount of the packet loss. Consequently, it reduces the number of retransmissions or waiting time of packets due to the lack of sufficient space, which contributes to a considerable decrease in the delay and power consumption. The results showed that an accurate buffer control could decrease the power consumption. On the other hand, due to the lack of sufficient buffer space there are some occasions in which data retransmission is likely to occur, leading to additional power consumption by the network. This extra power consumption was considered in all simulation experiments of the article. The suggested method may be considered a suitable technique for the applications that are prone to the errors occurred due to the lack of sufficient buffer space. The results revealed that the offered mechanism outperforms the conventional NoC with 23% and 52% enhancement in delay and power consumption, respectively. Further, 13% and 36% improvement in the same parameters were achieved in comparison with EVC.