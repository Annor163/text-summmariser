@&#MAIN-TITLE@&#
Customer acceptance mechanisms for home deliveries in metropolitan areas

@&#HIGHLIGHTS@&#
Integration of time window management and vehicle routing.Time-dependent travel times improve decisions on acceptance of customer requests.Improvement of delivery efficiency while avoiding lateness.Alleviate lateness and lateness propagation in metropolitan areas.

@&#KEYPHRASES@&#
Routing,Home delivery,Feasibility check,Congestion,City logistics,

@&#ABSTRACT@&#
Efficient and reliable home delivery is crucial for the economic success of online retailers. This is especially challenging for attended home deliveries in metropolitan areas where logistics service providers face congested traffic networks and customers expect deliveries in tight delivery time windows. Our goal is to develop and compare strategies that maximize the profits of a logistics service provider by accepting as many delivery requests as possible, while assessing the potential impact of a request on the service quality of a delivery tour. Several acceptance mechanisms are introduced, differing in the amount of travel time information that is considered in the decision of whether a delivery request can be accommodated or not. A real-world inspired simulation framework is used for comparison of acceptance mechanisms with regard to profits and service quality. Computational experiments utilizing this simulation framework investigate the effectiveness of acceptance mechanisms and help identify when more advanced travel time information may be worth the additional data collection and computational efforts.

@&#INTRODUCTION@&#
Online retailing is the fastest growing retail sector in the US, with an overall growth of about 15% in the past year (US Census Bureau, 2012). Sales from online retailers are expected to increase from $155billion in 2009 to $250billion in 2014. In Western Europe, an even higher yearly compound growth rate of 11% from €68billion to €114.5billion over the same years has been predicted (Schonfeld, 2010). Efficient and reliable delivery of orders is crucial for the lasting economic success of online retailers. The particular challenge of planning and executing attended home deliveries, where customers must be home to receive the delivery, has been demonstrated by the failures of Webvan (bankruptcy in 2001) and Publix Direct (shut down in 2003).Attended home deliveries require customers and logistics service providers to agree on a service time window in order to avoid failure of delivery. For logistics service providers, accepting more deliveries can yield more revenues, but it can make it harder to reliably make deliveries within the service time windows. The same challenge also holds for service technicians, such as plumbers and appliance repairmen, where the attendance of the customer is required in order to conduct a service. We will focus our discussion in this paper on deliveries, but all of the ideas presented here can be translated to the service technician context, where even more complex constraints such as varying service times and the skill level of technicians must be considered.Satisfying the tight service time windows for attended home deliveries in metropolitan areas can be especially difficult due to congested traffic networks. Logistics service providers need to consider expected traffic conditions in deciding which deliveries they can reliably complete on time. Many currently use fairly simple ways to account for congestion. They may assign fewer customers per vehicle in high traffic areas, or they may incorporate a standard amount of buffer time before arrivals in order to increase the likelihood of on-time delivery. However, unnecessary buffer times may lead to increased driver and equipment idle time, increased costs, as well as a decreased number of kilometers traveled per hour (Kim, Lewis, & White, 2005). At the same time, too many delivery commitments may be accepted during rush hours, leading to lateness and violation of service time windows. An approach to time window management that incorporates both detailed information on expected congestion and time-dependent vehicle routing has the potential to create better solutions. To the best of our knowledge, this idea has not been explored in the literature and is thus the motivation for our paper.In this paper, we investigate the interaction of commitment to a service time window and the reliability of actual deliveries. We develop and compare strategies for deciding which requests to accept, building on ideas introduced in Campbell and Savelsbergh (2005). To this end, we introduce several acceptance mechanisms that differ in the amount of travel time information that is incorporated. We consider both time-dependent and stochastic travel time information in the decision of whether to accept a delivery request. A time-dependent, real-world inspired simulation framework allows for evaluation of the resulting tour plans. The simulation framework enables the comparison of the acceptance mechanisms with regard to maximization of profits and service quality. This enables us to evaluate the extent that time-dependent and stochastic travel time information may be worth the additional data collection and computational efforts. In Section 2, we sketch recent work on the management of service time windows as well as on time-dependent vehicle routing. The Home Delivery Problem in Metropolitan Areas (HDPMA) is presented in Section 3. Acceptance mechanisms for the solution of the HDPMA are introduced in Section 4. Experimental design and computational experiments are discussed in Sections 5 and 6. We present managerial insights and conclude the paper in Section 7.The fulfillment process for online retailers as described by Campbell and Savelsbergh (2005) is initiated by a customer who places an order and selects a time window for delivery. When the service provider accepts the request, the order is assembled. After a certain “cut-off date”, delivery tours are scheduled. The following overview summarizes literature on the management of service time windows for order placement (Section 2.1) as well as literature on the routing and scheduling of delivery tours (Section 2.2). Order assembly is beyond the scope of this paper and therefore not discussed.Literature on the management of service time windows is either on a tactical or an operational level. The tactical level is about the design of service time windows, including decisions on the overall number, length and possible overlap as well as the general concept of delivery fees. The design of service time windows aims at the maximization of the captured demand while limiting expected operational costs. Punakivi and Saranen (2001) report that completely flexible, unattended delivery services reduce costs by up to a third relative to attended deliveries with two-hour service time windows. Campbell and Savelsbergh (2005) found that the expansion of 1-hour service time windows to two hours may increase profits by more than 6%. Agatz, Campbell, Fleischmann, and Savelsbergh (2011) introduce an approach that anticipates routing costs in time window design. Given service requirements and average weekly demands for each zip code area of a delivery region, time windows for each zip code area are determined which minimize the expected costs of delivery.The operational level refers to the actual selection of a service time window by a customer and the commitment of the service provider. Service providers need to decide when to open and when to close service time windows for selection. Campbell and Savelsbergh (2005) introduce several acceptance mechanisms for determining whether a request can be feasibly accommodated in any of the predefined service time windows. Service providers may offer incentives for the selection of certain service time windows that limit expected costs of delivery based on the profitability of a new request with respect to already accepted and still expected requests. Campbell and Savelsbergh (2006) show that incentive schemes can substantially reduce delivery costs, since customers may accept wider service time windows supporting a more efficient combination of requests in vehicle routing and scheduling operations. Azi, Gendreau, and Potvin (2012) examine a sample of future demand scenarios in order to assess the profitability of dynamically arising requests. The aforementioned papers do not consider time-dependent and stochastic travel time information in the assessment of routing costs and feasibility.Once orders have been placed and have a service time window, delivery tours are planned by vehicle routing and scheduling procedures. The corresponding Vehicle Routing Problem with Time Windows (VRPTW) aims at the determination of the optimal tour plan, where (1) every tour departs and terminates at the depot, (2) every customer is visited exactly once by one vehicle, (3) the number of tours is minimal, and (4) every customer is served within its service time window. A secondary objective is to either minimize the total distance traveled or the total travel times of the particular tours. Service time windows can be soft or hard. Soft service time windows may be violated, but violation induces penalty costs in the objective function. Hard service time windows are strictly enforced in order to keep a solution feasible. For the latter, even just finding a feasible schedule with a given number of vehicles is known to be a complex problem (Hashimoto, Yagiura, & Ibaraki, 2008).The VRPTW has been extensively studied in the last 25years. Exact algorithms and model formulations are reviewed by Baldacci, Mingozzi, and Roberti (2012). Metaheuristics provide high-quality solutions with reduced run time; see Bräysy and Gendreau (2005b) for a review paper. Lau, Sim, and Teo (2003) discuss heuristic solution approaches for the VRPTW with a limited number of vehicles. Pisinger and Ropke (2007) elaborate on a general heuristic for vehicle routing problems including the VRPTW. Pillac, Gendreau, Guéret, and Medaglia (2013) provide a review on dynamic variants of the vehicle routing problem, distinguishing formulations and solution approaches based on the degree of dynamism of considered information.For vehicle routing and scheduling in metropolitan areas, literature on the time-dependent extension of the VRPTW is relevant. The TDVRPTW captures costs and travel times between depot and customer locations based on the time of the day. Thanks to the availability of more accurate travel time information, there has been an increasing number of papers in the last 10years that consider information on congestion, e.g., Ando and Taniguchi (2006), Donati, Montemanni, Casagrande, Rizzoli, and Gambardella (2008), Fleischmann, Gietz, and Gnutzmann (2004), Haghani and Jung (2005), Hashimoto et al. (2008), and Ichoua, Gendreau, and Potvin (2003). Maden, Eglese, and Black (2010) present a metaheuristic solution approach (“LANTIME”). Ehmke, Steinert, and Mattfeld (2012a) adapt the LANTIME heuristic for usage with taxi speed data for time-dependent routing in metropolitan areas. Kok, Hans, and Schutten (2012) investigate the impact of time-dependent travel times on the reliability of tour plans. Their experiments underline the necessity of time-dependent vehicle routing in metropolitan areas in order to provide efficient and reliable delivery tours.In this section, we define the integrated routing and scheduling problem that is studied in this paper. The idea is to maximize the number of requests accepted for delivery by enhanced feasibility checks that provide immediate feedback to a customer during the order process. In particular, we investigate how different levels of travel time information may improve the evaluation of whether a new delivery request is feasible in a potential tour plan. From a fulfillment process perspective, this corresponds to the operational management of service time windows.Let T be a set of time slots the logistics service provider offers for delivery on a particular day. Time slots and their lengths have been predefined through tactical management of service time windows. They are non-overlapping and cover an entire driver’s shift, e.g., 12:00–12:30, 12:30–13:00, …, 19:30–20:00. Let C be a set of customers that demand delivery on a day. Each customer i selects a customer time window wifrom T, generating a request riwith [earlyi,latei] denoting the earliest possible start of service and lateithe latest possible start of service. Requests arrive in real time and are considered up to a certain cut-off time, which precedes the actual execution of delivery tours. Each request riis accepted or rejected the moment it arrives in order to enable immediate customer feedback. If accepted, riwould be included in the set of accepted requests A. The logistics service provider is then committed to the request, and the request cannot be canceled in order to accept another request instead. In practice, a service provider would offer an alternative time slot if a request for the selected time slot was rejected. We imitate that by allowing the customer to define an alternative requestrialtfor the same day with an alternative customer time windowwialtand corresponding earliest and latest start of service[earlyialt,lateialt], which will be checked for feasibility if riis rejected. If one of these windows is feasible, wiorwialtwill transform into a hard constraint for the subsequent vehicle routing and scheduling problem and will thus play an important role for the feasibility and efficiency of actual delivery tours.The HDPMA aims at the maximization of the number of accepted requests |A| while considering feasibility of tour plans. LetOdefine an oracle that evaluates the feasibility of each request ri. Whenever a new request rnewis posed,Odetermines the feasibility of rnewbased on the set A∪{rnew}. We investigate static and dynamic manifestations ofOthat differ in the level of travel time information considered. While static approaches refer to a rough estimate on feasibility, dynamic approaches consider an actual solution of the TDVRPTW in the decision whether rnewshould be accepted or not. For the solution of the TDVRPTW, we assume that capacity constraints are not binding. For attended home deliveries, service technicians, and logistics service providers delivering standardized, small-sized parcels, time constraints are typically more limiting than vehicle capacity. Removing capacity restrictions also allows us to focus on the sole impact of more detailed travel time information on advanced acceptance mechanisms.The decision on whether to accept a request or not is made by an acceptance mechanism. We present two different types of acceptance mechanisms to solve the HDPMA. Both provide a quick decision on whether a new request may be accommodated based on the already accepted set of requests. They differ with respect to the extent that travel time and routing information is considered. Static acceptance mechanisms refer to a very rough estimation of expected routing efforts. They imitate simple policies that are often used in practice in order to keep the number of accepted requests in accordance with logistics constraints. Dynamic acceptance mechanisms consider either time-dependent or both time-dependent and stochastic travel time information. Based on expected travel times, they involve finding an actual solution of the TDVRPTW in order to evaluate the feasibility of a request.For static approaches, the general idea is to accept a fixed limit of potentially feasible requests max for each time slot t. This value max expresses a conservative estimate of what the service provider believes they could manage in the most resource demanding time slot of the day, considering best practices and constraints such as the length of time slots, the average duration of service, the maximum number of service vehicles, and the size of the service area. The SLOT mechanism would accept a request for a time slot t whenever the number of already accepted requests for this time slot |At| plus rnewis below or the same as max (as in Campbell and Savelsbergh (2005)). If wnewcannot be accommodated,wnewaltis checked. If all potential time slots are “full”, rnewis rejected.To account for time-varying congestion in metropolitan areas, we also let the value max vary for different time slots t, since a logistics service provider may likely be able to manage a larger number of requests in non-peak hours than in rush-hour conditions (TD-SLOT). To this end, we allow the number of potentially feasible requests to be time-dependent, i.e., maxtvaries depending on the expected evolution of travel times for particular time slots. A congested road network can be represented by a smaller maxtfor time slots close to rush hours, whereas in non-peak conditions, a higher maxtmay reflect increased service capabilities.TD-SLOT requires general knowledge on the evolution of travel times in a metropolitan area. This information may be provided by a local traffic control center or by digital roadmap vendors like TomTom, who offer time-dependent travel times (“speed profiles”) for major roads in 45 countries (TomTom, 2012). While max and maxtare set in a conservative way for SLOT and TD-SLOT, note that both still do not guarantee the provision of a feasible tour plan, since there is no control in the assignment of customer requests beyond the number of already accepted requests. Thus, it is possible that a tour plan for a particular set of customer requests turns out to be infeasible in practice. On the other hand, actual utilization of service vehicles may be far from being efficient, since max and maxtreflect only rough estimates of service capabilities, which might lead to preventive rejection of actually feasible requests.Dynamic approaches alleviate the disadvantages of static approaches through dynamic feasibility checks. Based on the combined set A∪{rnew}, an actual TDVRPTW solution is computed and checked for feasibility. If there is a feasible solution, rnewis accepted; otherwise, it is rejected. Note that unlike static approaches, detailed information on expected travel and arrival times is exploited. Due to the large amount of additional information that is considered, one would expect a better utilization of logistics resources, while service quality and feasibility are maintained.To conduct dynamic feasibility checks, we implement a time-dependent variant of the well-known I1 insertion heuristic (Solomon, 1987), which is at the heart of many complex vehicle routing heuristics (Bräysy & Gendreau, 2005a). We chose this heuristic because it was shown to work well in a time-dependent setting (Ehmke et al., 2012a). We note that any off-the-shelf routing solver could be embedded if modified to incorporate dynamic feasibility checks. The following three variants of dynamic acceptance mechanisms are applied:•DYN considers the combined set A∪{rnew} in the decision on whether to accept rnewor not. The decision is made based on expected, time-dependent travel times and the resulting feasibility of the TDVRPTW solution provided by I1. This is a significant extension of the DYN variant proposed in Campbell and Savelsbergh (2005). If the number of required vehicles exceeds the maximum number of vehicles, rnewis rejected. Note that this dynamic feasibility check may lead to a very efficient utilization of logistics resources and dense tour plans, contrasting potential underutilization occurring in static approaches.In practice, travel times are subject to a variety of environmental and traffic flow inherent influences that may not be captured by a deterministic TDVRPTW solution. To reduce the likelihood of lateness that might arise in tour execution, we introduce DYN-SBF which extends DYN so that it includes a fixed buffer time bt at each customer i. Considering the scheduled arrival time arri, DYN-SBF ensures thatarri+bt⩽lateifor any request i. Thus, scheduled start of service for each corresponding customer i is at least bt minutes before its latest start of service. Note that the use of a buffer in DYN-SBF is not dependent on the location of the request or the position of the request in a tour. The same buffer is used for all requests.DYN-BUF aims at alleviating lateness in tour plans by considering both time-dependent and stochastic travel time information. The idea is to reject requests that might lead to a tour plan being prone to lateness and thus provide poor customer service. For instance, DYN-BUF would avoid dense tour plans where scheduled arrival times are close to the end of service time windows, especially after a long distance was driven or when customers are serviced at the end of a long tour. Details of this enhanced feasibility check are given in Section 4.3. In addition to previous approaches, DYN-BUF requires also information on the variation of time-dependent travel times. These can be derived from GPS equipped service vehicles, for example. Corresponding data collection and processing technology is described in Ehmke, Meisel, and Mattfeld (2010).DYN-BUF aims at avoiding lateness in the execution of delivery tours by considering time-dependent travel times and their variation in the maximization of the number of requests. For each customer i, an individual buffer time btiis computed, contrasting the fixed buffer time bt incorporated by DYN-SBF. The use of btiaccounts for the impact of travel time variation on the feasibility of visiting customer i within its service time window. It also includes information on travel time variation due to previous customers on the tour. The latter is referred to as lateness propagation. The idea is that in a tour with no or little idle time, travel time variation cumulates in the course of a tour, affecting the variation of arrival times at later customers. In a tour featuring a sufficient proportion of idle time, though, the variation of travel times in an earlier part of the tour might have a negligible impact on arrival times at subsequent parts of the tour.The computation of btirequires (1) a way to propagate arrival time variation in the course of a tour and (2) the modeling of the impact of arrival time variation on the feasibility of visiting a customer within its service time window. Chang, Nozick, and Turnquist (2005) and Chang, Wan, and OOI (2009) approximate the distribution of arrival times in the course of a tour by adding means and variations of travel times according to the convolution of the normal distribution. They highlight that this approach provides a sufficient approximation of arrival time variations, even if travel time distributions for individual paths do not follow a particular type of distribution. Following this idea, we can formulate the cumulated standard deviation of arrival timeγˆiat customer i asγˆi=γˆi-12+σi-1,i2,γˆ0=0,withσi-1,i2reflecting the standard deviation of travel times for the path from the previous customer i−1 to the current customer i. The valueγˆi-1denotes the cumulated standard deviation that arises from more previous paths (from the depot to i−1). Whenever a request is checked for feasibility, the buffered arrival timebtˆican then be computed asbtˆi=αγˆiwith α as a user specific service level reflecting the extent that the variation of travel times is considered. Note that this simple computation ofbtˆidoes not consider the proximity of the mean arrival time arrito earlyior if idle time will be likely at i. This is included as follows.A TDVRPTW solution provides information on the mean arrival time arrifor each customer i. Let βidenote the proportion of the distribution of arrival times around arrithat overlaps with the service time window of customer i:βi=1-Φ(z)withz=∣arri-earlyi∣/γˆiIf arriis significantly before earlyi, we assume that there is enough idle time to compensate for cumulated variation of arrival times (cf. Fig. 1(a)). Then, the cumulated variation of arrival times should not be propagated, which is reflected through βi=0. If arriis closer to earlyi, a proportion of the distribution of arrival times arrioverlaps with the service time window, being reflected by βi∊(0;1) (cf. Fig. 1(b)). If arriis within the service time window, βi=1 ensures that the cumulated variation of arrival times is fully propagated.Considering the cumulated standard deviation of arrival time and its impact on the feasibility of visiting customer i in its service time window, btican be written asbti=αβiγiwithγi=βi-1γi-12+σi-1,i2andγ0,β0=0.The multiplier βi−1 accounts for the proximity of arri−1 to earlyi−1 and adjusts the cumulated standard deviationγi-12accordingly. If arri+bti>lateifor some customer i within a potential tour plan, the tour plan would be handled as infeasible, and rnewwould be rejected.

@&#CONCLUSIONS@&#
