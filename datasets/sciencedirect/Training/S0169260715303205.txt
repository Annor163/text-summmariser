@&#MAIN-TITLE@&#
UltraTrack: Software for semi-automated tracking of muscle fascicles in sequences of B-mode ultrasound images

@&#HIGHLIGHTS@&#
We have developed a freely available software package for semi-automated tracking of muscle fascicles in B-mode ultrasound image sequences.Includes features to track multiple fascicles in multiple regions of the image and to correct for measurement drift with time.The software is available for Windows and MacOS as a standalone program or source code.

@&#KEYPHRASES@&#
Fascicle,Tracking,Ultrasound,Automated,Affine optic flow,Matlab,

@&#ABSTRACT@&#
BackgroundDynamic measurements of human muscle fascicle length from sequences of B-mode ultrasound images have become increasingly prevalent in biomedical research. Manual digitisation of these images is time consuming and algorithms for automating the process have been developed. Here we present a freely available software implementation of a previously validated algorithm for semi-automated tracking of muscle fascicle length in dynamic ultrasound image recordings, “UltraTrack”.MethodsUltraTrack implements an affine extension to an optic flow algorithm to track movement of the muscle fascicle end-points throughout dynamically recorded sequences of images. The underlying algorithm has been previously described and its reliability tested, but here we present the software implementation with features for: tracking multiple fascicles in multiple muscles simultaneously; correcting temporal drift in measurements; manually adjusting tracking results; saving and re-loading of tracking results and loading a range of file formats.ResultsTwo example runs of the software are presented detailing the tracking of fascicles from several lower limb muscles during a squatting and walking activity.ConclusionWe have presented a software implementation of a validated fascicle-tracking algorithm and made the source code and standalone versions freely available for download.

@&#INTRODUCTION@&#
The in vivo measurement of human skeletal muscle function has long been of interest to scientists and engineers from a variety of backgrounds including: physiology, anatomy, evolutionary biology, ergonomics, biomedical engineering and human movement science. Of fundamental importance in this area is the measurement of muscle architecture and how it dynamically changes with muscle contraction. A key feature of muscle architecture is muscle contractile element length and many important research questions can be answered with knowledge of how contractile elements change length during muscle contraction. The basic contractile element of muscle is the sarcomere and many sarcomeres in series make up muscle fibres, which in turn are bundled into fascicles. Sarcomeres are microscopic in size and so it is common to measure fibre or fascicle length changes as a proxy.In the last twenty years, B-mode ultrasound has risen in popularity as a means of imaging skeletal muscle in static and dynamic conditions. Cross-sectional ultrasound images of skeletal muscle allow identification of muscle fascicles [1]. By sampling images at a suitable rate, the length changes of muscle fascicles during dynamic contractions have been characterised through digitisation of image sequences [2,3]. Initially, the digitisation process was manual, making it extremely time consuming and somewhat subjective. More recently, image processing algorithms to partially or fully automate the digitisation process have been developed [4–6]. These employ a variety of methods including Kanade–Lucas–Tomasi feature tracking and affine transformation extensions to optic flow. The validity and reliability of the affine optic flow algorithm of Cronin et al. [4] was published some time ago [4,7]. The algorithm and the software implementation have since been substantially expanded and in this paper we present the refined algorithm and freely available software package, UltraTrack version 4.1, the source code for which is written in Matlab (The MathWorks Inc., USA). A new ‘key-frame correction’ algorithm has been added to help remove temporal drift (accumulation of error with time) in the tracking that had previously limited the length of image sequences that could be tracked. A manual correction is also added as an alternative for making adjustments to tracking results. New features of the software include: compatibility with more image file formats, faster implementation of the affine flow algorithm, tracking of multiple fascicles and regions of interest, image auto-cropping function, saving and re-loading of tracking data and a choice of moving or fixed region of interest for the affine flow calculations.

@&#CONCLUSIONS@&#
