@&#MAIN-TITLE@&#
Real time disruption management for a two-stage batch production–inventory system with reliability considerations

@&#HIGHLIGHTS@&#
A real time disruption recovery model is developed in a two-stage production–inventory system.A nonlinear constraints mathematical model is developed to suggest a recovery plan.A new approach is proposed that deals with a series of disruptions over a period of time.The model is implemented in a real world case from a pharmaceutical company.Process reliability is also considered because imperfect production processes are common.

@&#KEYPHRASES@&#
Production inventory,Batch production system,Real time disruption management,Process reliability,Genetic algorithm,Pattern search,

@&#ABSTRACT@&#
In this research, a two-stage batch production–inventory system is introduced. In this system, the production may be disrupted, for a given period of time, either at one or both stages. In this paper, firstly, a mathematical model has been developed to suggest a recovery plan for a single occurrence of disruption at either stage. Secondly, multiple disruptions have been considered, for which a new disruption may or may not affect the recovery plan of earlier disruptions. We propose a new approach that deals with a series of disruptions over a period of time, which can be implemented for disruption recovery on a real time basis. In this approach, the model formulated for single disruption has been integrated to generate initial solutions for individual disruptions and the solutions have been revised for multiple dependent disruptions with changed parameters. With the proposed approach, an optimal recovery plan can be obtained in real time, whenever the production system experiences either a sudden disruption or a series of disruptions, at different points in time. Some numerical examples and a real-world case study are presented to explain the benefits of our proposed approach.

@&#INTRODUCTION@&#
Batch production systems are very common in manufacturing industries. In those industries, depending on the type of products, both single and multiple products may be produced using the same production facility. When a system produced multiple products, it is a popular practice to produce them in a cyclic order, although it may not be the optimum arrangement for all scenarios. In some industries, the production system may contain one or more stages where the batches of semi-processed products flow from one stage to the next. There are numerous industries, such as pharmaceutical, textile, and manufacturing, that produce either single or multiple products using one or more production stages.Over the last half a century, one of the most widely studied research topics in Operations Research and Industrial Engineering, is the production inventory system. A few examples of such studies in single stage production inventory systems, include a single-item inventory system with non-stationary demand process (Graves, 1999), determination of lot size and order level for a single-item inventory model with a deterministic time-dependent demand (Dave, 2006), a single-item periodic review stochastic inventory system (Chan & Song, 2003) and a single-item single-stage inventory system with stochastic demand with periodic review where the system must order either none or at least as much as a minimum order quantity (Kiesmüller, De Kok, & Dabia, 2011). The studies in two-stage production systems include optimal lot sizing to minimize the sum of all costs (Goyal, 1977), steady-state average inventory and backorder levels for each product (Shiue & Altiok, 1993), an effective production ordering policy in a capacity-constrained production and inventory system (Ishii & Imori, 1996) and a direct and intuitive way of deriving the lot sizes (Hill, 2000).The above studies, with many others, are conducted under ideal conditions. However, production disruption is a very familiar event in the production environment. This is a concern because companies face financial, as well as reputation losses, due to production disruption. Due to disruption, the entire plan of the organization can be distorted causing shortage of goods and unfulfilled customer demand. The development of an appropriate recovery policy can help to minimize losses and maintain the goodwill of a company. As of the literature, there exist limited studies that considered disruptions in the production system and that also develop approaches to obtain a recovery plan. Production disruption is defined as any form of interruption that may be caused due to shortage of material, machine breakdown and unavailability, or any other form of disturbance (either accidental or man-made). If a production system is disrupted for a given period of time (known as disruption period), it is necessary to revise the production schedule (known as recovery plan) for some periods in the future (known as recovery time window) until the system returns to normal schedule (Hishamuddin, Sarker, & Essam, 2012). In some studies, it is assumed that the recovery time window must be specified by the management of the production system. Lin and Gong (2006) analyzed the impact of machine breakdown on an EPQ (Economic Production Quantity) model for deteriorating items in a single stage production system. They considered a fixed period of repair time. They minimized an expected total cost per unit time, that consisting of setup, corrective maintenance, inventory carrying, deterioration, and lost sales costs. Widyadana and Wee (2011) extended the model of Lin and Gong (2006) for deteriorating items with random machine breakdown and stochastic repair time with uniform and exponential distribution. An EPQ model with a Poisson distributed machine breakdown was considered by Chiu, Wang, and Chiu (2007) to determine an optimal production run time. They developed a total inventory cost function, under EPQ situations, with and without breakdown in a single stage production system. They assumed some portion of the products produced was defective, which meant that it had to be scraped or reworked. Moinzadeh and Aggarwal (1997) considered a (s,S) production inventory policy with random disruptions and exponential time between breakdowns in an unreliable bottleneck system. A two-stage supply chain, consisting of retailer and supplier, was considered by Zeynep Sargut and Qi (2012), where random disruption may occur at both retailer and supplier, and where unfulfilled customer demand is lost. The proposed model minimizes an expected annual cost in finding the order quantity of the retailer. Schmitt and Snyder (2012) developed an inventory model that considered two options: (i) an unreliable supplier and (ii) a reliable but expensive supplier. For both cases, they considered disruption and recovery probability with yield uncertainty to find the optimal order and reserve quantities. A disruption recovery model, for a single disruption within a single stage and single item production system, has been developed by Hishamuddin et al. (2012), for obtaining a recovery plan within a user defined time window. The study considered back order, as well as the lost sales option. Recently, they have extended the concept to transportation disruption in a two-stage production and inventory system (Hishamuddin, Sarker, & Essam, 2013). Some other disruption recovery models in the production–inventory system can be found in Qi, Bard, and Yu (2004), Xia et al. (2004), Yang, Qi, and Yu (2005), Gallego (1994), and Eisenstein (2005).Supply disruption is another important consideration in production and inventory modelling. Parlar and Berkin (1991) and Parlar and Perry (1996) developed inventory models that considered supplier availability with deterministic product demand under a continuous review framework. Özekici and Parlar (1999) considered back orders to analyse a production–inventory model under random supply disruptions. Some other models of supply disruptions that considered deterministic or probabilistic product demand in their inventory models, can be found in Mohebbi (2003, 2004), Li, Xu, and Hayya (2004), Tomlin (2006), Mohebbi and Hao (2006),Chopra, Reinhardt, and Mohan (2007), Qi, Shen, and Snyder (2009) and Schmitt, Snyder, and Shen (2010). There are a few studies that considered both supply and demand disruptions with deterministic product demand, such as Xiao and Yu (2006) and Ross, Rong, and Snyder (2008).Process reliability is an important factor in imperfect production environments, and has significant impacts on costs and profits. There are a few studies, where the reliability of the production process has been considered. At first, process reliability was considered by Cheng (1989) in a single period inventory system where it was formulated as an unconstrained geometric programming problem. Later it was extended by Bag, Chakraborty, and Roy (2009) to consider product demand as a fuzzy random variable. Recently, process reliability was incorporated to determine the optimal production rate (Sana, 2010), to study the unreliable suppliers in a single-item stochastic inventory system (Mohebbi & Hao, 2008) and to analyze an EPQ model with price and advertising demand patterns under the effect of inflation (Sarker, 2012).From the literature review, it is clear that the existing studies considered either process reliability or production disruption, mainly in a single stage production inventory system. This paper considers a two-stage batch production system that incorporates both production disruption and process reliability. The disruption can occur in either one stage or both stages. In this study, we have developed methodologies for (i) a single occurrence of disruption at any stage and (ii) a series of disruptions on a real time basis. The most closely related paper, to our current study, is the one published by Hishamuddin et al. (2012) in EJOR where a single stage production system with only one practical issue (i.e., production disruption) is considered. The objective of their study was to minimize the total cost of recovery in a single occurrence of disruption. The problem presented in this paper is much more complex because we have considered a two stage production system with two practical issues (production disruption and process reliability). First, we developed a mathematical model for a single occurrence of disruption and solved the mathematical model to obtain an optimal recovery plan. We then develop a solution approach for dealing with a series of disruption with real time basis. In multiple disruptions case, the new disruptions may or may not affect the recovery plans of the previous disruptions. If a new disruption occurs during the recovery time of another disruption, a revised recovery plan incorporating the effect of both disruptions must be derived which makes the algorithm complex. It is a continuous process that must be dealt with on a real-time basis. The problem is analyzed under different scenarios such as single independent disruption at either stage or mix of multiple dependent and independent disruptions at both stages. To demonstrate the usefulness of the proposed approach, a case study is also presented. With the proposed approach, the manufacturers can determine the optimal recovery plan in real time, whenever the production system experiences either a single independent disruption or a series of a mix of dependent and independent disruptions.This paper is organized as follows. After the introduction, the problem description and model formulation are presented in Sections 2 and 3 respectively. The solution approaches and experimental result analysis are provided in Sections 4 and 5 respectively. Section 6 discusses the sensitivity analysis. Finally, conclusions are drawn and future research directions are presented.In this section, we discuss a two-stage production system that produces one type of product (also known as a single product). The product is produced in batches, and once a batch is completed at the first stage, the whole batch is then transported to the second stage for final processing. A typical two-stage single-item batch production system is presented in Fig. 1, where the inventory built up in each stage is shown for batch processing. The production of non-defective items in any batch is dependent on the process reliability. As we assume the production capacity is higher than the demand, there is an idle timeslot between the consecutive production batches. If the production system is disrupted for a given period of time, the utilization of the idle timeslots for production, may help to recover from the disruption. However, it may result in costly backorder and/or lost sales due to delayed delivery.Fig. 2shows a typical recovery plan where the system is recovered using the idle production time with a revision of the production quantity in each cycle. In this figure, the dashed line represents the revised production–inventory plan for the recovery of disruptions that occurred at the first and second stages. After the first disruption at the first stage, the production quantities, Xi,1 and Yi,1 (i=1,2,…,M), are revised to generate the recovery plan, which is shown as a black dashed line. Again, for the disruption at the second stage, which is during the recovery period of an earlier disruption, the production quantities Xi,2 and Yi,2(i=1,2,…,M) are revised to consider the effect of both of the disruptions, which is shown as a red dashed line. These disruptions may occur at any time, and the duration of disruption may vary from one occurrence to the next. After each disruption, the production quantity in each cycle must be revised, within the allowed recovery time window, as a plan for recovery. The shaded area in Fig. 2 represents the disruption period in a production cycle. The system can also limit the recovery time window to a pre-specified number of production cycles.If a disruption occurs after the recovery time window of another disruption, then the later one can be considered as an independent disruption and the recovery plan can be made similar to the previous one. However, a disruption occurs within the recovery time window of another disruption occurred earlier, it makes the case more complex for recovery planning. In practice, to minimize the effect of disruptions, they must be dealt with on a real time basis, whether this is single occurrence of disruption or a series of disruptions. In this paper, we consider the disruption recovery problems as follows: (i) single occurrence of disruption, (ii) a series of independent disruptions, and (iii) a series of mix of a independent and dependent disruptions.In this research, we have made the following assumptions:i.The production rate of the item is greater than its demand rate.The original production line is perfectly balanced, that means the production rates for the item are equal for the both stages.The recovery cycle will start just after the disruption occurs. The disruption can occur in either single or both stages at any point in time.There are equal numbers of cycles in the disruption recovery windows of both stages.All products are inspected and defective products are rejected.The total cost of interest and depreciation per production cycle C(A,r) is inversely related to set-up cost (A) and is directly related to process reliability (r) according to the following general power function (Cheng, 1989):A real life production system may produce some defective items that would reduce the effective production rate. To fulfill the demand on time, it is assumed that the production rate higher than its demand rate. However, if the production rate lower than demand rate, it is not difficult to revise the model with alternative sources. It is expected that the production system must be balanced in terms of its capacity in different sections. As there are two stages in the current system, equal numbers of cycles in the disruption recovery windows are considered for balancing the system. Considering the customer satisfaction point of view, no defective item will be delivered to the customers. As the costs of inspection and depreciation are of considerable amount, we have included them in our cost equation. We have chosen the process reliability cost function from the literature (Cheng, 1989).In this section, we develop a mathematical model for a single occurrence of disruption at either stage of the production inventory system. In the following few subsections, first, we present the equation for the economic production quantity for a perfect system under an ideal situation, and derive the equations for relevant costs and revenue for the imperfect production system under disruption. Finally, we formulate the disruption recovery problem as a nonlinear constrained optimization problem that maximizes the total profit subject to capacity, demand, and stage linking constraints. The decision variables are the production quantities in each cycle during the recovery time window. Note that the total profit function is derived from the revenue from acceptable items and the relevant costs.To formulate the mathematical model, we have used the following notations.St1set-up time for a cycle at the first stageSt2set-up time for a cycle at the second stageδ1i,nidle time for a cycle i before the nth disruption at the first stageδ2i,nidle time for a cycle i before the nth disruption at the second stageDdemand per year (units per year)H1holding cost per unit per year at the first stage ($/unit/year)H2holding cost per unit per year at the second stage ($/unit/year)rreliability of the production process – which is known from the historical data of the production systemQcombined production lot size per normal cycle with reliability rA1set-up cost per cycle at the first stage ($ per set-up)A2set-up cost per cycle at the second stage ($ per set-up)Pproduction rate (units per year) in 100% reliable systemlnew disrupted cycle number from previous disruptionXi,0production quantity for a normal cycle i at the first stageYi,0production quantity for a normal cycle i at the second stageXi,nproduction quantity for cycle i of the recovery window at the first stage after the nth disruption– which is a decision variable; i=1,2,3,…,MYi,nproduction quantity for cycle i of the recovery window at the second stage after the nth disruption– which is a decision variable; i=1,2,3,…,Mu1i,nproduction down time for cycle i before the nth disruption at the first stage(set-up time+idle time)=St1+δ1i,n=Xl+i-1,n-1D-Xl+i,n-1rPu2i,nproduction down time for cycle i before the nth disruption at the second stage(set-up time+idle time)=St2+δ2i,n=Yl+i-1,n-1D-Yl+i,n-1rPMnumber of cycles to recovery the disruption – which is given by the managementTd1,ndisruption period in the nth disruption at the first stageTd2,ndisruption period in the nth disruption at the second stageq1,npre-disruption production quantity in the nth disruption at the first stageq2,npre-disruption production quantity in the nth disruption at the second stageT01,nproduction time forq1,n=q1,nrPT02,nproduction time forq2,n=q2,nrPT1i,0production up time for a normal cycle i at the first stage=Xi,0PrT2i,0production up time for a normal cycle i at the second stage=Yi,0PrT1i,nproduction up time for a cycle i in the recovery window at the first stage after the nth disruption=Xi,nPrT2i,nproduction up time for a cycle i in the recovery window at the second stage after the nth disruption=Yi,nPrTidle,nidle time of production at the stage 2 due to the nth disruption at the first stage=T01,n+Td1,n+T1,n-Tl,n-1=q1,nrP+Td1,n+X1,nrP-Xl,n-1rPBunit back order cost per unit time ($/unit/time)Lunit lost sales cost ($ per unit)CP1per unit production cost at the first stage ($ per unit)CP2per unit production cost at the second stage ($ per unit)CR1rejection cost per unit at the first stageCI1inspection cost as a percentage of the production cost at the first stageCI2inspection cost as a percentage of the production cost at the second stagem1mark-up of the unit selling price [m1(CP1+CP2)] of the acceptable items (must be greater than 1)For a two-stage single item perfect production system, with lot-for-lot condition under an ideal situation as considered by Sarker and Khan (1999, 2001), the combined economic production quantity (as shown in Fig. 1) can be formulated asQ=2rP(A1+A2)H1+H2.Where,(1)Annual set-up cost at the first stage=DQA1Annual holding cost at the first stage=Q2H1DrPAnnual set-up cost at the second stage=DQA2Annual holding cost at the second stage=Q2H2DrPTotal cost=DQA1+Q2H1DrP+DQA2+Q2H2DrP(2)To minimize the total cost,ddQDQA1+Q2H1DrP+DQA2+Q2H2DrP=0After simplifying,Q=2rP(A1+A2)H1+H2In this section, we derive the different cost equations for the first stage of an imperfect production process with a single occurrence of disruption. In Hishamuddin et al. (2012), it is assumed that Q is the regular lot size in every cycle and that when a disruption is experienced the revised lot sizes (decision variables) are represented as X1,X2,…,XM, for the next M cycles. In their study, the cycle experiencing disruption is numbered as the first cycle in their study and the system allows M number of cycles to recover from disruption. To generalize the model under multiple disruptions, in this paper, the revised lot quantities in a cycle i of the recovery window after nth disruption are defined as Xi,nand Yi,nand the original lot quantities in a cycle i are represented as Xi,0 and Yi,0 in the first and second stage respectively.The costs considered in this study are the holding, set-up, production, rejection, inspection, and depreciation costs. The total holding cost is computed as the unit holding cost multiplied by the total inventory during the recovery period, which is equivalent to the area under the curve of recovery window of Fig. 2. The total set-up cost is equal to the cost per set-up multiplied by the number of set-ups in the recovery period. The total production cost is obtained by multiplying the unit production cost by the total quantity produced during the recovery period. As the production reliability is assumed to be r, the rejection rate is (1−r). The rejection cost is determined as the unit rejection cost multiplied by the total number of rejected items (Paul, Azeem, Sarker, & Essam, in press). The inspection cost is considered as a certain percentage of the production cost. The cost for interest and depreciation is considered as a general power function as suggested by Cheng (1989). The cost formulation for the first stage is presented in Appendix A.In this section, we determine the different costs involved at the second stage due to disruption in an imperfect production process. For a single disruption, the costs considered are: holding, set-up, back order, lost sales, production, inspection and depreciation costs. As the second stage is considered as the finishing or packaging stage, it is assumed that there is no rejection cost in this stage. The holding, set-up, production, inspection and depreciation costs are determined in the same way as for the first stage. Back order is the portion of an order that cannot be delivered at the scheduled time, but will be delivered at a later date when available. This back order cost is determined as unit back order cost multiplied by back order units and it’s time delay (Hishamuddin et al., 2012). When there is demand, but the item is out of stock and the customer will not wait for the item, the result is a lost sale. Lost sales cost is determined as unit lost sales cost multiplied by lost sales units (Hishamuddin et al., 2012). The cost formulation for the second stage is presented in Appendix B.The selling price of the sold item during the recovery period is determined as the unit selling price multiplied by the demand during the recovery period.If the system faces disruption at the first stage, then the revenue from the selling price in the recovery window is determined as follows:(3)TR1=m1(CP1+CP2)D∑i=1MT2i,n+MSt2=m1(CP1+CP2)D∑i=1MYi,nrP+MSt2If the system faces disruption at the second stage, then the revenue from the selling price in the recovery window is determined as follows:(4)TR2=m1(CP1+CP2)DT02,n+∑i=1MT2i,n+MSt2=m1(CP1+CP2)Dq2,nrP+∑i=1MYi,nrP+MSt2The total profit function, that is the objective function, is determined for a particular disruption recovery period as follows:Total Profit(TF)=Revenues from selling price-Total costs at the first stage-Total costs at the second stageSubject to the constraints presented in Appendix C.Back order and lost sales play an important role in determining the optimal recovery plan. In fact, the optimal recovery plan is sensitive to the relative magnitude of back order and lost sales costs. A Lemma and a few propositions help to understand the relationships between these two cost parameters and the other parameters. Lemma 1 and Proposition 1 are derived to prove the condition of the existence of back order and lost sales respectively in the solution. Proposition 2 proves the effect of the disruption period and Proposition 3 confirms the effect of process reliability on the solution.Lemma 1For a given A1, A2, H1, H2, B, L, if Xi,n−1=Xn−1, Xi,n=Xnand Yi,n−1=Yn−1, Yi,n=Ynthen back orders are more attractive than lost sales, if the number of recovery cycles is equal or more than⌈M⌉. Where,M=PrTd1,nrPXn-1D-St1-Xn-1for disruption at the first stage andM=PrTd1,nrPYn-1D-St2-Yn-1for disruption at the second stage.See Appendix D. □For a given A1, A2, H1, H2, B, L, if Xi,n−1=Xn−1, Xi,n=Xnand Yi,n−1=Yn−1, Yi,n=Ynand B≫L then lost sales will exist in the recovery plan if the number of recovery cycles is less thanrPTd1,nrPXn-1D-St1-Xn-1for disruption at the first stage andrPTd2,nrPYn-1D-St2-Yn-1for disruption at the second stage.ProofThis is the opposite consequence ofLemma 1.The recovery period will be longer with a longer disruption period.ProofFrom the (D5) and (D6),⌈M⌉=rPTd1,nrPXn-1D-St1-Xn-1[For disruption at the first stage]⌈M⌉=rPTd2,nrPYn-1D-St2-Yn-1[For disruption at the second stage]So, the recovery period will be longer with a longer disruption period.The recovery period will be shorter with higher process reliability.ProofAfter reorganizing the (D5) and (D6),⌈M⌉=Td1,nXn-1D-St1-Xn-1rP[For disruption at the first stage]⌈M⌉=Td2,nYn-1D-St2-Yn-1rP[For disruption at the second stage]It can be said that, with higher process reliability, the recovery period will be shorter.In this section, firstly, the model for the single occurrence of disruption at either the first or second stage is solved. Then a solution approach is developed for managing the production system with a series of multiple disruptions on a real time basis.The mathematical model developed in the previous section, for a single disruption, is a constrained nonlinear programming model which can be solved using a standard search algorithm. As there is no standard test set available, for the problem considered in this research, to validate the results, we have chosen two different search approaches: genetic algorithm (GA) and pattern search (PS), to solve the generated test problems. GAs are general purpose optimization algorithms which apply the rules of natural genetics to explore a given search space (Homaifar, Qi, & Lai, 1994). GA is a very popular technique to solve complex nonlinear constrained optimization problems. Pattern search is a well accepted optimization technique that can be applied to solve nonlinear constrained optimization problems (Lewis & Torczon, 2002).The above mentioned solution approaches are coded in MATLAB R2012a with the help of its optimization toolbox, and were executed on an Intel core i7 processor with 8.00gigabyte RAM and a 3.40gigahertz CPU.This section proposes a solution approach to generate a recovery plan for a series of disruptions on a real time basis. When a disruption occurs, a recovery plan can be generated by solving the corresponding mathematical model as discussed in the preceding sub-section. After finalizing the recovery plan, if another disruption occurs within the recovery time window, the recovery plan needs to be revised. Note that the revised plan may need to be updated again, if any further disruption is experienced, and so on. Every time a disruption occurs, the optimization model developed earlier remains the same; however, some of the parameters must be updated to represent the changed situation. For example, the length of new disrupted period, the number of cycles for recovery, the pre-disruption quantity, and the new limit on production in each cycle must be updated to re-optimize the current disruption scenario. These changes are reflected in the objective function and constraints for re-optimization. So a search technique, such as the pattern search or genetic algorithm, can still be used, but instead repeatedly with the changed parameters and constraints. That means, the algorithm must run, every time a disruption takes place, to re-optimize the recovery plan. If there is no disruption, the system should follow the original production plan. The main steps of the proposed solution approach for a series of disruptions can be presented as follows.Step 1:Determine Q.Assign Xi,0=Yi,0=Q.Set n=1, for the first disrupted cycle.Set the start time of the recovery window to be the beginning of the disrupted cycle.Update the parameters (such as disrupted stage and cycle number, the number of cycles for recovery window, and pre-disruption stock).Solve the mathematical model using a search algorithm.Update the value of Xi,nand Yi,nas the revised lot quantities from Step 6.If there is any other disruption, go to Step 4.Stop.Parameters are used for PS and GA to design the heuristics is presented in Appendix E.For experimentation, we have considered the following range of data for the disruption problem.Pre-disruption quantity: q1,n=[0,Xl,n−1], q2,n=[0,Yl,n−1].Disruption period:Td1,n=0.00001,Xl,n-1rP,Td2,n=0.00001,Yl,n-1rP.Lost sales cost: L=[5,300].Back order cost: B=[5,500].Set-up cost: A1=[5,300], A2=[5,300].Holding cost: H1=[1,5], H2=[1,5].In this section, we have analyzed the results of single disruption, as well as multiple disruptions, at either one or both stages. To test the proposed approach, we have solved 100 test problems. The test problems are generated randomly by changing the parameters for the given intervals as presented in Section 4.3. We have compared the solutions with their upper and lower bounds. As the comparison shows consistent results, we have presented the result of few sample test problems in this section.The disruption recovery plan for a single disruption either at the first or second stage, has been generated, using both GA and PS, for two problem scenarios with the following data.St1=0.000057,St2=0.000045,A1=50,A2=30,H1=1.2,H2=1.3,D=400,000,r=0.90,P=500,000,M=5,B=10,L=15,CP1=30,CP2=10,CR1=12,CI1=0.01,CI2=0.01,a=1000,b=0.5,c=0.75,m1=2.5For the first scenario, a disruption is considered at the first stage with a pre-disruption quantity of 1200 units and a disruption period of 0.0080. This problem has been solved using both the pattern search and genetic algorithm, and the best results obtained, out of 30 independent runs, have been presented in Table 1. The results include the revised lot quantities in each of the five cycles of the recovery window and the total maximum profit.The second scenario considered a disruption at the second stage, with a pre-disruption quantity of 600 units and disruption period of 0.0076. The detailed results are presented in Table 2. From the results in Tables 1 and 2, it is clear that the solutions produced by both the techniques are very similar.To demonstrate the usefulness of our proposed algorithm in solving different scenarios with multiple disruptions, over a period of time, we use the basic data of the single disruption cases.For experimental purposes, a series of random production disruptions were generated at random point in time, either at the first or second stage. Table 3presents a case problem with different random combinations of disrupted stage, disrupted cycle number, pre-disruption quantity, and disruption duration. Although these disruptions happen continuously, we have presented a case problem with only seven disruptions as a sample representation. The production quantities are revised immediately after each disruption takes place in the system. For the first disruption (from Table 3), the production quantities (Xi,1 and Yi,1 for i=1–5) are revised for the next five cycles (recovery time window) as shown in Table 4. When the second disruption occurred within the recovery time window of the first disruption, the variables and constraints are updated for the changed environment. That means, the new variables Xi,2 and Yi,2 are now revised for the next five cycles (for new recovery time window for the second disruption) from the point of disruption. This process continues with the new disruption occurs. The problem is solved using the proposed algorithm where the search algorithm (either PS or GA) is run for 30 times for each disruption, and the best result is then recorded.For each disruption, the revised production quantity in each cycle and the maximum total profit are presented, in Table 4 for the search technique PS, and in Table 5for GA.The total profits obtained from the pattern search and genetic algorithm based solution approach have also been presented in Tables 4 and 5 respectively. It is observed that both techniques confirm very similar results, but PS based solution approach performs slightly better than GA in most cases. GA is a stochastic search process that may converge towards local optima, or even arbitrary points rather than the global optimum of the problem. On the other hand, PS is combined with the Latin hypercube search method and this helps it to provide better performance than other random search based algorithms (Davey, 2008). This may be the reason for PS’ slightly better solutions over GA in this paper.The problem considered in this paper is different from the existing literature in many different ways. So there is no algorithm or benchmark problem that can be used for comparison of our proposed algorithm. However, the upper bound and lower bound of the solutions can be derived and compared. For this purpose, we have derived two bounds and an alternative model as follows.•Upper bound that is based on the production inventory system without any disruption (that is under ideal condition).Lower bound that permits only lost sales to recover from disruption.An alternative model that considers recovery within the disrupted cycle.Upper bound: The total profit in a production inventory system, for a given number of cycles (nc), under ideal condition (that is without any disruption) should be the upper bound of total profit that can be expressed as follows.Total Profit=(Total Revenue)-(Total Cost)=nc{[m1(CP1+CP2)Yi,0]-12H1(Xi,0)2rP-A1-CP1r(Xi,0)-1r-1(Xi,n)-CI1CP1r(Xi,0)-a(A1)-b(r)c-12H2(Yi,0)2rP-A2-CP2(Yi,0)-CI2CP2(Yi,0)-a(A2)-b}Lower Bound: Suppose the disruption is recovered via lost sales only. That means the shortage due to disruption will not be fulfilled. For a given number of cycles, the total profit for this system should be the lower bound, because the shortages are not managed in an efficient manner. In this system, the production quantity in the disrupted cycles will be lower than the pre-assigned production quantity. For a given number of cycles, the lower bound can be calculated from {(Upper Bound)−(nc×L×rP×Disruption period)}.An Alternative Model: An alternative model can be developed where the recovery must be planned within the disrupted cycle using the idle time of the cycle and lost sales as well as back order options. If the disruption period is less than idle time of that cycle, then there will be no lost sales. This model uses the same principle of our disruption management model, but the only difference is that the system is recovered in one cycle. The total profit of this model will provide a tighter lower bound as discussed below.To calculate the bounds, we have generated 25 disruptions randomly within 52 production cycles. The total profit, as well as the lost sales and back orders, for the upper bound, lower bound, alternative model and our approach, are calculated and compared in Table 6.The upper and lower bounds are the best and worst case scenarios of the production system respectively. From Table 6, it is clear that the proposed disruption recovery plan provides a much better solution than the lower bound as well as the tighter bound, while the alternative model shows better results than the lower bound solution.The total profit for each production cycle, obtained from the above four alternative solutions, is presented in Fig. 3. When a production cycle faces a disruption, the total profit of that cycle goes to its lower bound if the system is recovered with only the lost sales option. However, for a disruption free cycle, the profit is the same as the original production system. For the lower bound scenario, it is observed that the profit goes down to negative in the 16th and 28th cycle because of the higher disruption duration in those cycles. In summary, the proposed disruption model clearly shows significantly better solutions in comparison to both lower bounds.A real world production problem has been discussed in this section. We have studied a specific manufacturing line of a pharmaceutical company. The company produces several types of products such as tablet, capsule, syrup, ointment and cream, and injection and drops. Some of their products have very high demand that need special attention such as a dedicated production line for each product or few of them. We have studied a dedicated production line that produces only one product (known as XPA-C tablet). This is basically a tablet of paracetamol group that is widely used as pain and fever reliever. The production process of the tablet is presented in Fig. 4. In the process, first, the raw materials (paracetamol power, caffeine and binders) are mixed properly in the form of granulation. Then the mixture is moved to a compression machine that compresses the powder into tablets of uniform size and weight. To form a tablet, the granulated material is metered into a cavity formed by two punches and a die, and then the punches are pressed together with appropriate force to fuse the material together. To ensure quality of the products, the tablets are inspected during and after the compression. After finishing the compression process, the tablets are moved to the packaging section for blistering and packing. In blistering, the tablets are filled in a blister pack, which is known as a tablet strip, is useful for protecting the product against external factors such as humidity and contamination for extended periods of time. There are ten tablets per tablet strip. Finally, the tablet strips are filled in a carton and shipped to the store.The tablets are produced in a batch in all processes of mixing, compression and packaging. After completing the processing of a batch in a stage, it is moved to the next stage for further processing. It was observed that the mixing stage has no record of disruption for a long period of time. For this reason, the mixing process is kept out of the disruption study. So the system is defined with compression and packaging processes, where the compression represents the first stage and the packaging as the second stage. Once a batch of tablets from compression is shipped to packaging area, the packaging is organized as a batch. Like any other manufacturing processes, the machine breakdown is a very common event in this production environment. After a breakdown, it takes some times to repair the machines and start the production again. Currently, the company is using only lost sales option, which is a substandard approach (as described in Section 5.3), to recover from the disruptions. It is also observed that, breakdown can occur at any stage at any time and compression stage has more machine breakdown than packaging stage. It is also common that, a new breakdown can occur within the recovery period of the previous breakdown.This disruption case problem can be solved by using our proposed approach as outlined in Section 5.3. To solve the disruption case problem, some data were collected directly from the production line and the historical record of the company. Some others are approximated by consulting with the plant manager.The annual forecasted demand is determined based on the historical record which is 4,928,400 strips and the production capacity of the line is approximately 5,916,000 strips per year. Some defective items are produced in the systems. The process reliability is calculated as an average of non-defective items over the last five years which is 92%.After processing of each batch, it is a standard process to clean and inspect the machines thoroughly before starting a new batch. The time involved in checking and cleaning is considered set-up time. The set-up time is calculated as 0.525hours for the compression stage and 0.438hours for the packaging stage with the help of time study. The set-up cost is considered as the costs for labour in preparing raw materials, and cleaning and inspecting machines. As suggested by the company, the set-up cost is 1725 Taka (21.5625 USD) for compression stage and 1075 Taka (13.4375 USD) for packaging stage. The annual holding cost per unit per year is approximated as 21 Taka (0.2625 USD) and 45 Taka (0.5625 USD) for the compression and packaging stage respectively. The backorder and lost sales costs are also approximated as 1600 Taka/strip/year (20 USD) and 40 Taka/strip (0.5 USD) respectively.Production, rejection and inspection costs are collected as follows.Production cost at compression stage=15.5 Taka/strip (0.19375 USD).Production cost at packaging stage=5.2 Taka/strip (0.065 USD).Cost for rejection=8 Taka/strip (0.1 USD).Inspection cost for both stages=1% of production cost.Cost of interest and depreciation is approximated as based on theory (Cheng, 1989) with the parameters, a=1000, b=0.5 and c=0.75.The breakdown scenarios are collected from the company register. Our proposed model has been implemented for a series of mix of ten dependent and independent disruptions for 73 production cycles. Seven of those disruptions were occurred in the compression stage and the rest three are at packaging stage. The recovery plan after each disruption is implemented immediately. The breakdown scenarios are presented in Table 7.This disruption case problem is solved by our proposed approach. The batch sizes are revised immediately after each breakdown takes place in the system. The problem is solved using the PS based proposed algorithm and the best results are recorded. For each disruption, the revised batch size in each cycle and the maximum total profit are presented in Table 8.Currently, the company is using only lost sales option to recover from production disruptions which is discussed in Section 5.3. The benefits of implementing of our disruption recovery model are summarized in Table 9. It is observed that, our proposed disruption technique clearly shows significantly better results in comparison to company’s current policy. Under an ideal condition, the company will have a total profit of 524691.50 USD from 73 production cycles. Under the disrupted environment, this profit reduces to 448782.98 USD, if the company uses the lost sales option to recover from the disruptions. In this case, the total lost sales is 44268.70 USD. If the proposed approach is applied, the total profit will be increased to 497165.20 USD with both back order and lost sales cost 11490.80 and 9358.48 USD respectively. In this case, the total profit is 10.78% more than the existing practice.There are some important variables that have a significant impact on the total profit. These variables are: process reliability, disruption period, pre-disruption quantity, back order cost and lost sales cost. In this section, the relationship of these variables with the total profit is analyzed. The pattern search based algorithm was applied to perform the sensitivity analysis.This section presents a number of studies, in each of them one variable is changed. The reminder always have default values of 0.9 for process reliability, 0.008 for first stage disruption period, 0.0085 for second stage disruption period, 0 for pre-disruption quantity for both stages, 10 for back order and 15 for lost sales.The relationship between process reliability and the total profit is shown in Fig. 5. It is observed from Fig. 5, that the total profit is highest when process reliability is 0.91.Fig. 6presents the changes to total profit as pre-disruption quantity changes when the process is disrupted at the first stage. It shows that, the total profit decreases very little with changes to pre-disruption quantity.The variation of total profit with disruption period for when a process is disrupted at the first stage is presented in Fig. 7. It is observed, that the total profit decreases very slowly when the disruption period is less than 0.007. However, after then the rate of decrement is very high. This is because of the existence of the lost sales cost. This is because when the disruption period is high, then lost sales exists in the optimal solution.Total profit decreases along with back order and lost sales cost for disruptions at either the first or second stage. Figs. 8 and 9show the changes of the total profit with the back order and lost sales cost respectively. From Figs. 8 and 9, it is observed, that both back order and lost sales exist in the optimal solution.Fig. 10presents the changes of total profit with pre-disruption quantity when the process is disrupted at the second stage. It is observed that the total profit decreases very little with increased pre-disruption quantity.Total profit decreases with disruption period when the process is disrupted at the second stage, as presented in Fig. 11. After the disruption period of 0.007, the rate of decrement is very high. This is because of existence of the lost sales in the optimal solution.

@&#CONCLUSIONS@&#
The objective of this research was to develop a real time recovery plan from production disruptions for a two-stage and single item batch production inventory system. The model is developed to recover from either single disruption or a series of production disruptions on a real time basis, while considering both back order and lost sales options. Process reliability was also considered because imperfect production processes are common and the total profit function was maximized to obtain optimal recovery plans. A pattern search and genetic algorithm based solution approaches were proposed to obtain the recovery plan either for a single or a series of disruptions. Both methods show similar results, but pattern search with the Latin hypercube search based solution approach performed better than the genetic algorithm based approach.We assumed that the lot size is fixed throughout the planning period under ideal conditions. But in real life situations, the lot is needed to be split to meet the transportation and warehouse capacity. In some situations, there may have more than two stages production systems but our model is applicable only for two-stage production system. The demand rate is assumed to be known and constant but practically, the demand can be fluctuated. There may have special orders outside of regular demand trend and sometimes a priority can be given to produce for special orders. For all these variations, the management must decide how to deal with them when the proposed approach is applied.The organization can be benefited in a number of ways with our proposed model. This model can be implemented easily to solve an industrial disruption problem on a real time basis. The organization can return to its normal production schedule as quickly as possible after a disruption with the help of this model. The organization can save significant loss and profit margin can be increased to a great extent. Finally, the customer satisfaction can be greatly increased. So, the reputation of the company can be enhanced.If a disruption occurs at the first stage of the system, at the lth cycle from the previous disruption, the different costs are calculated as follows.(A1)Holding cost=H112q1,nT01,n+q1,n(Td1,n+St1+T11,n)+12X1,nT11,n+12X2,nT12,n+⋯+12XM,nT1M,n=12H1q1,nq1,nrP+2q1,nTd1,n+St1+X1,nrP+X1,nX1,nrP+X2,nX2,nrP+⋯+XM,nXM,nrP=12H1(q1,n)2rP+2q1,nTd1,n+St1+2X1,nq1,nrP+X1,nX1,nrP+X2,nX2,nrP+⋯+XM,nXM,nrP=12H1(q1,n)2rP+2q1,nTd1,n+St1+2X1,nq1,nrP+∑i=1M(Xi,n)2rP(A2)Set-up cost=A1M(A3)Production cost=CP1P∑i=1MT1i,n+T01,n=CP1r∑i=1MXi,n+q1,n(A4)Rejection cost=CR1(1-r)P∑i=1MT1i,n+T01,n=CR11r-1∑i=1MXi,n+q1,n(A5)Inspection cost=CI1CP1r∑i=1MXi,n+q1,n(A6)Cost of interest and depreciation=Ma(A1)-b(r)cIf the disruption is at the second stage, at the lth cycle from the previous disruption, the different costs are calculated as follows.(A7)Holding cost=12H1∑i=1M(Xi,n)2rP(A8)Set-up cost=A1M(A9)Production cost=CP1P∑i=1MT1i,n=CP1r∑i=1MXi,n(A10)Rejectioncost=CR1(1-r)P∑i=1MT1i,n=CR11r-1∑i=1MXi,n(A11)Inspection cost=CI1CP1r∑i=1MXi,n(A12)Cost of interest and depreciation=Ma(A1)-b(r)cIf the production system has a disruption at the first stage at the lth cycle from the previous disruption, the following costs are calculated:(B1)Holding cost=H212Y1,nT21,n+12Y2,nT22,n+⋯+12YM,nT2M,n=H212Y1,nY1,nrP+12Y2,nY2,nrP+⋯+12YM,nYM,nrP=12H2∑i=1M(Yi,n)2rP(B2)Set-up cost=A2M(B3)Back-order cost=B(Y1,n)·delay1+∑i=2M(Y2,n)·delayi=B(Y1,n)Tilde,n+Y1,nrP-Yl,n-1rP+∑i=2MY2,n·Tilde,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1(u2j,n)=B(Y1,n)Tilde,n+Y1,nrP-Yl,n-1rP+∑i=2MY2,n·Tilde,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1Yl+j-1,n-1D-Yl+j,n-1rP(B4)Lost sales cost=L∑i=1MYl+i-1,n-1-LrP(T21,n+T22,n+⋯+T2M,n)=L∑i=1MYl+i-1,n-1-LPrY1,nrP+Y2,nrP+⋯+YM,nrP=L∑i=1MYl+i-1,n-1-∑i=1MYi,n(B5)Production cost=CP2rP∑i=1MT2i,n=CP2∑i=1MYi,n(B6)Inspection cost=CI2CP2∑i=1MYi,n(B7)Cost of interest and depreciation=Ma(A2)-bIf the production system has a disruption at the second stage at the lth cycle from the previous disruption, the following costs are calculated:(B8)Holding cost=H212q2,nT02,n+q2,n(Td2,n+St2+T21,n)+12Y1,nT21,n+12Y2,nT22,n+⋯+12YM,nT2M,n=H212q2,nq2,nrP+q2,nTd2,n+St2+Y1,nrP+12Y1,nY1,nrP+12Y2,nY2,nrP+⋯+12YM,nYM,nrP=12H2(q2,n)2rP+2q2,n(Td2,n+St2)+2q2,nY1,nrP+∑i=1M(Yi,n)2rP(B9)Set-up cost=A2M(B10)Back order cost=B(Y1,n+q2,n)·delay1+∑i=2MYi,n·delayi=B(Y1,n+q2,n)Td2,n+Y1,n+q2,nrP-Yl,n-1rP+∑i=2MYi,n·T02,n+Td2,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1(u2j,n)=B(Y1,n+q2,n)Td2,n+Y1,n+q2,nrP-Yl,n-1rP+∑i=2MYi,n·q2,nrP+Td2,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1Yl+j-1,n-1D-Yl+j,n-1rP(B11)Lost sales cost=L∑i=1MYl+j-1,n-1-LPr(T02,n+T21,n+T22,n+⋯+T2M,n)=L∑i=1MYl+j-1,n-1-LrPq2,nrP+Y1,nrP+Y2,nrP+⋯+YM,nrP=L∑i=1MYl+j-1,n-1-q2,n-∑i=1MYi,n(B12)Production cost=CP2rP∑i=1MT2i,n+T02,n=CP2∑i=1MYi,n+q2,n(B13)Inspection cost=CI2CP2∑i=1MYi,n+q2,n(B14)Cost of interest and depreciation=Ma(A2)-b(C1)Xi,0=Yi,0=Q[Normal cycle production quantity is equal toQ](C2)X1,n+q1,n⩽Xl,n-1[X1,nis less than or equal toXl,n-1for delivery and transportation requirements](C3)Xi,n⩽Xl+i-1,n-1;i=2,3,4,…,M[Xi,nis less than or equal toXl+i-1,n-1for delivery and transportation requirements](C4)Y1,n=X1,n+q1,n[Tobalancetheproductionsystem](C5)Yi,n=Xi,n;i=2,3,4,…,M[Tobalancetheproductionsystem](C6)Pr⩾D[Productionrateisgreaterthanthedemandrate](C7)r⩽1[Reliabilitymustbelessthanorequalto1](C8)∑i=1MXi,n+q1,n⩽rP∑i=1MXl+i-1,n-1D-MSt1-Td1,n[Productioncapacityconstraintatthefirststage](C9)∑i=1MYi,n⩽rP∑i=1MYl+i-1,n-1D-MSt2[Productioncapacityconstraintatthesecondstage](C10)∑i=1MYi,n⩾∑i=1MYi,nPr+MSt2D-∑i=1MYl+i-1,n-1-∑i=1MYi,n[Demandduringrecoverywindowisaccountedfor](C11)X1,n+q1,nD-X2,nrP-St1⩾0[Ensurenonnegativeidletimeatthestage1](C12)Xi,nD-Xi+1,nrP-St1⩾0;i=2,3,…,M[Ensurenonnegativeidletimeatthestage1](C13)Y1,nD-Y2,nrP-St2⩾0[Ensurenonnegativeidletimeatthestage2](C14)Yi,nD-Yi+1,nrP-St2⩾0;i=2,3,…,M[Ensurenonnegativeidletimeatthestage2](C15)Tidle,n+Y1,nrP-Yl,n-1rP⩾0[Ensurenon-negativedelay](C16)Tilde,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1Yl+j-1,n-1D-Yl+j,n-1rP⩾0[Ensurenon-negativedelay](C17)q1,nrP+Td1,n+X1,nrP-Xl,n-1rP⩾0[Ensurenon-negativeidletimeatthesecondstageduetodisruptionatthefirststage](C18)q1,nrP+Td1,n+∑j=1iXj,nrP+(i-1)St1⩽Yl,n-1rP+Tilde,n+∑j=1i-1Yj,nrP+(i-1)St2;i=2,3,4,…,M[Toensuresecondstageproductionhasbeenstartedaftercompletingatthefirststage](C19)Xi,n,Yi,n⩾0;i=1,2,3,…,M[Non-negativityconstraint](C20)Xi,0=Yi,0=Q[NormalcycleproductionquantityisequaltoQ](C21)X1,n=Xl,n-1[AsXl,n-1isalreadyinproducedatthefirststage](C22)X2,n=Xl+1,n-1[AsXl+1,n-1isalreadyinproductionatthefirststage](C23)Xi,n⩽Xl+i+1,n-1;i=3,4,…,M[Xi,nislessthanorequaltoXl+i-1,n-1fordeliveryandtransportationrequirements](C24)Y1,n=Xl,n-1-q2,n[Y1,nisequaltoXl,n-1-q2,nasitisalreadyproducedatthefirststage](C25)Y2,n=Xl+1,n-1[AsXl+1,n-1isalreadyinproductionatthefirststage](C26)Yi,n⩽Yl+i-1,n-1;i=3,4,…,M[Yi,nislessthanorequaltoYl+i-1,n-1fordeliveryandtransportationrequirements](C27)Yi,n=Xi,n;i=2,3,4,…,M[Tokeeptheproductionprocessbalanced](C28)Pr⩾D[Productionrateisgreaterthanthedemandrate](C29)r⩽1[Reliabilitymustbelessthanorequalto1](C30)∑i=1MXi,n⩽rP∑i=1MXl+i-1,n-1D-MSt1[Productioncapacityconstraintatthefirststage](C31)∑i=1MYi,n+q2,n⩽rP∑i=1MYl+i-1,n-1D-MSt2-Td2,n[Productioncapacityconstraintatthesecondstage](C32)∑i=1MYi,n+q2,n⩾∑i=1MYi,n+q2,nPr+MSt2D-∑i=1MYl+i-1,n-1-∑i=1MYi,n-q2,n[Demandduringrecoverywindowisaccountedfor](C33)Xi,nD-Xi+1,nrP-St1⩾0[Ensurenonnegativeidletimeatthestage1](C34)Y1,n+q2,nD-Y2,nrP-St2⩾0[Ensurenonnegativeidletimeatthestage2](C35)Yi,nD-Yi+1,nrP-St2⩾0[Ensurenonnegativeidletimeatthestage2](C36)Td2,n+Y1,n+q2,nrP-Yl,n-1rP⩾0[Ensurenon-negativedelay](C37)q2,nrP+Td2,n+(i-1)St2+∑j=1iYj,nrP-∑j=1iYl+j-1,n-1rP-∑j=1i-1Yl+j-1,n-1D-Yl+j,n-1rP⩾0[Ensurenon-negativedelay](C38)∑j=1i-1Xl+j-1,n-1D-Xl+j,n-1rP+∑j=2iXj,nrP⩽q2,nrP+Td2,n+∑j=1i-1Yj,nrP+(i-1)St2;i=2,3,4,…,M[Toensuresecondstageproductionhasbeenstartedaftercompletingatthefirststage](C39)Xi,n,Yi,n⩾0;i=1,2,3,…,M[Non-negativityconstraint]From the production capacity constraints (C8) and (C31),∑i=1MXi,n+q1,n⩽rP∑i=1MXl+i-1,n-1D-MSt1-Td1,n[Forfirststagedisruption]∑i=1MYi,n+q2,n⩽rP∑i=1MYl+i-1,n-1D-MSt2-Td2,n[Forsecondstagedisruption]From the Eqs. (C2) and (C3)X1,n+q1,n⩽Xl,n-1Xi,n⩽Xl+i-1,n-1;i=2,3,4,…,MFrom the Eqs. (C24)–(C26) and (C27)Y1,n=Xl,n-1-q2,nY2,n=Xl+1,n-1Yi,n⩽Yl+i-1,n-1;i=3,4,…,MYi,n=Xi,n;i=2,3,4,…,MUsing these upper bounds, we get∑i=1MXi,n+q1,n⩽rPMXn-1D-MSt1-Td1,n∑i=1MYi,n+q2,n⩽rPMYn-1D-MSt2-Td2,nAfter simplifying,(D1)M⩾∑i=1MXi,n+q1,n+rPTd1,nrPXn-1D-St1(D2)M⩾∑i=1MYi,n+q2,n+rPTd2,nrPYn-1D-St2Again from the constraints for disruption at the first stage,X1,n+q1,n⩽Xl,n-1Xi,n⩽Xl+i-1,n-1;i=2,3,4,…,MFrom the constraints for disruption at the second stage,Y1,n=Xl,n-1-q2,n=Yl,n-1-q2,nY2,n=Xl+1,n-1=Yl+1,n-1Yi,n⩽Yl+i-1,n-1;i=3,4,…,MLost sales exist in the optimal solution only if X1,n+q1,n<Xl,n−1,Xi,n<Xl+i−1,n−1 and Y1,n+q2,n<Yl,n−1,Yi,n<Yl+i−1,n−1.Using (D1) and (D2), back order will be more attractive compare to lost sales when,(D3)M⩾MXn-1+rPTd1,nrPXn-1D-St1(D4)M⩾MYn-1+rPTd2,nrPYn-1D-St2From the (D3) and (D4)(D5)M=rPTd1,nrPXn-1D-St1-Xn-1[Forthedisruptionatthefirststage](D6)M=rPTd2,nrPYn-1D-St2-Yn-1[Forthedisruptionatthesecondstage]From the (D5) and (D6), this implies that, back orders will be more attractive compare to lost sales if number of the recovery cycles isM=rPTd1,nrPXn-1D-St1-Xn-1for disruption at the first stage andM=rPTd2,nrPYn-1D-St2-Yn-1for disruption at the second stage. Since M must be an integer so we use⌈M⌉.In the proposed PS based solution approach, following PS parameters are used to solve the model:Maximum number of iterations: 100∗ Number of variables.Polling order: Success.X tolerance: 1e−6.Function tolerance: 1e−6.Nonlinear constraint tolerance: 1e−6.Cache tolerance: 1e−6.Search method: Latin hypercube.Other parameters are set as the default in the optimization toolbox.In the proposed GA based solution approach, following GA parameters are used to solve the model:Population Size: 100.Population type: Double vector.Hybrid function: Pattern search.Crossover Fraction: 0.8.Maximum number of generations: 5000.Function tolerance: 1e−8.Nonlinear constraint tolerance: 1e−8.Other parameters are set as the default in the optimization toolbox.