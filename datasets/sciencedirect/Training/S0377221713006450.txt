@&#MAIN-TITLE@&#
Proactive data envelopment analysis: Effective production and capacity expansion in stochastic environments

@&#HIGHLIGHTS@&#
Proposes a short-run capacity planning method termed proactive DEA.Uses stochastic programming methods to account for demand.Accounts for decreasing marginal benefits of inputs in short-run capacity planning.Quantifies the effectiveness of a firm’s production system under demand uncertainty.Demonstrate the proposed model through an empirical study of Japanese convenience stores.

@&#KEYPHRASES@&#
Data envelopment analysis,Stochastic programming,Short-run capacity expansion,Marginal product,Demand uncertainty,

@&#ABSTRACT@&#
Demand fluctuations that cause variations in output levels will affect a firm’s technical inefficiency. To assess this demand effect, a demand-truncated production function is developed and an “effectiveness” measure is proposed. Often a firm can adjust some input resources influencing the output level in an attempt to match demand. We propose a short-run capacity planning method, termed proactive data envelopment analysis, which quantifies the effectiveness of a firm’s production system under demand uncertainty. Using a stochastic programming DEA approach, we improve upon short-run capacity expansion planning models by accounting for the decreasing marginal benefit of inputs and estimating the expected value of effectiveness, given demand. The law of diminishing marginal returns is an important property of production function; however, constant marginal productivity is usually assumed for capacity expansion problems resulting in biased capacity estimates. Applying the proposed model in an empirical study of convenience stores in Japan demonstrates the actionable advice the model provides about the levels of variable inputs in uncertain demand environments. We conclude that the method is most suitable for characterizing production systems with perishable goods or service systems that cannot store inventories.

@&#INTRODUCTION@&#
Data envelopment analysis (DEA) is a deterministic mathematical programming approach to productive efficiency analysis. Given the same input resources, a production process is called efficient if its output levels are at least as high as other observed production processes. However, in practice, reduced actual output can be caused by insufficient demand biasing productivity measures. Noting that DEA studies typically do not model demand effects, this paper describes “proactive DEA” which measures “effectiveness” (Lee & Johnson, 2012a), which distinguishes demand effects in productive efficiency analyses and identifies capacity adjustment levels in a planning process using stochastic programming (SP).The literature on the demand effect in productivity and efficiency analysis is limited. Lee and Johnson (2011, 2012b) decompose a production process into capacity design, demand generation, operations, and demand consumption components, and measure the productivity change of each component. They distinguish the production process from the demand generation/consumption process. The results indicate that demand fluctuations rather than production capabilities can cause technical regress. Further, the capacity design component generally has a significant effect on long-term productivity. Therefore, Lee and Johnson (2012a) propose a “demand-truncated production function” and estimate “effectiveness” to distinguish from efficient production where customer demand does not limit the levels of output. Typical of most DEA studies, Lee and Johnson (2012a) study only supports ex-post analysis of the data after production and sales. Therefore, this paper describes a planning model using DEA-based techniques that accounts for demand variations and ex-ante resource allocation to improve a firm’s operational effectiveness. This model also supports planning functions by solving the short-run capacity expansion problem.The classic capacity expansion problem (Luss, 1982; Manne, 1961) includes the following variables; let decision variablex∈R+Jbe the vector of the input resource needed,y∈R+Qbe the vector of the products generated,D∈R+Qbe the demand vector with respect to each output,A∈R+J×Qbe the vector representing the required resource per unit product,C∈R+Jbe the vector of cost per unit resource, andP∈R+Qbe the vector of each product’s selling price. The solution indicates the resources required, x, and the product quantity, y, generated. The optimization formulation is as follows:(1)MaxPy-Cxs.t.Ay⩽xy=Dx⩾0,y⩾0The primary issues are determining the expansion sizes, expansion times, and expansion locations, and the objective is to minimize the discounted costs with respect to the expansion process (Luss, 1982). In general, all production factors are adjustable. The capacity expansion problem is a component of long-run production analyses. However, in the short run, the plant size, location, and capital stock for production are typically fixed, whereas the variable factors such as employment and material are adjustable (Marshall, 1920). Stigler (1939) argues that the variations in output can be described in terms of the law of diminishing returns and marginal productivity theory, holding all productive factors quantity constant, and adjusting the quantity of the remaining one. Wilson and Eckstein (1964) claim that long-run and short-run economic analyses represent different productivity behaviors and conclude that the long-run cost curve forms an envelope of the short-run cost. After distinguishing the characteristics of long-run and short-run production, our paper estimates the marginal product of variable inputs along the DEA frontier and identifies the adjustments in variable inputs that influence the output levels in response to the demand fluctuations. The relationship of marginal product between inputs and outputs is described in matrix A of problem (1) and the elements in matrix A are assumed constant in the typical capacity expansion literature. This assumption may violate the law of diminishing marginal returns and result in biased capacity estimates.Considering the stochastic nature of demand, the typical capacity expansion problem can be extended to uncertain demand and formulated as (2), using a SP technique (Birge & Louveaux, 2011). Assuming a firm desires to maximize expected profit, letD∼be a random variable of demand:(2)MaxE[f(x,D∼)]-Cxs.t.x⩾0where for a realizationd∈D∼f(x,d)=MaxPys.t.Ay⩽xy=dy⩾0This paper makes three contributions to the literature. First, we use DEA to estimate production performance incorporating short-run capacity expansion decisions, thus creating a proactive DEA model. Using a production function estimated from observed production processes assures the feasibility of the recommended short-run capacity adjustment. Second, our definition of effective production, or the product generated from the production system to be consumed by realized demand, complements current efficiency analysis. Third, the proposed method considers the diminishing marginal benefits of inputs and estimates the marginal product which the short-run capacity expansion problem generally ignores; ignoring the diminishing marginal return of inputs, traditional capacity expansion models may severely underestimate the resources necessary to meet demand, resulting in lost sales, costly outcomes, etc. In other words, in some cases, it may be too costly to fill demand, thus reducing resources to decrease output levels may be preferred.The remainder of this paper is organized as follows. Section 2 reviews the DEA literature on uncertainty. Section 3 introduces a demand-truncated production function and an effectiveness measure. Section 4 describes estimating marginal product to support capacity adjustment, considering the law of diminishing marginal returns. Section 5 discusses the SP models and performance indices assessing the solution quality. Section 6 gives a numerical example, and Section 7 describes an empirical study of Japanese convenience stores. Section 8 concludes.The literature has proposed a variety of DEA models under uncertainty primarily focusing on ex-post analysis. The Convex Nonparametric Least Squares (CNLS) and Stochastic semi-Nonparametric Envelopment of Data (StoNED) literature focuses on unifying the Stochastic Frontier Analysis (SFA) and DEA approaches to productivity analysis (Kuosmanen, 2008; Kuosmanen & Johnson, 2010; Kuosmanen & Kortelainen, 2012). These estimators impose axioms such as convexity and monotonicity while including a symmetric random component to capture the typical sources of noise: omitted variables, errors in measurement, differences between modeling variables and data. StoNED allows for inefficiency. Other models available in the DEA literature include chance-constrained DEA (Bruni, Conforti, Beraldi, & Tundis, 2009; Cooper, Huang, & Li, 1996; Land, Lovell, & Thore, 1993; Olesen & Petersen, 1995) which evaluates efficiency when uncertainty exists with respect to the constraints. It builds a production frontier that envelops all of the observations “most of the time”, and a few firms may perform above the frontier with an a priori set probability. Sengupta (1987, 2000) transforms DEA models into equivalent models incorporating stochastic variations and uses chance-constrained programming solves the equivalent models, which explore how the stochastic data affects the efficiency measurement. Imprecise DEA, or fuzzy DEA (Cooper, Park, & Yu, 1999; Kao & Liu, 2000), which states that certain variables or data are known to exist within a given range or an ordinal relationship estimates efficiency intervals to characterize the imprecision. However, the efficiency distribution or its characteristics, such as the mean, are still unknown. Simulated-based DEA (Kao & Liu, 2009; Premachandra, Powell, & Watson, 2000) addresses imprecise data with a known probability distribution. The results are used to support statistical inference regarding the efficiency distribution. Ruggiero (2004), who proposes using data averaged across a time horizon to estimate the average efficiency for the time horizon, argues that the estimates are less biased than estimating efficiency in each time period and averaging the cross-sectional efficiencies over the entire horizon. Kuosmanen (2004), Branda (2013), Lamb and Tee (2012), and Beraldi and Bruni (2012) discuss risk ratios, conditional value-at-risk (CVaR), stochastic dominance (SD), and SP with stochastic data in financial applications. For addition methods not discussed, see for example Dyson and Shale (2010).Typically, DEA methods under uncertainty focus on generating robust efficiency estimates considering variations in data. However, our proposed SPDEA also provides resource re-allocation recommendations for maximizing efficiency or effectiveness in uncertain environments. Table 1summarizes and compares several DEA approaches used to address uncertainty.Efficiency is commonly measured in the productivity literature to quantify the observed productivity level relative to the best possible productivity level. However, if products or services are produced but not consumed, resources are wasted in storage. Section 3.1 defines the concept of effective production and introduces the truncated production function combining a classic production function and demand information. Section 3.2 describes an effectiveness estimator and its implementation using DEA. Section 3.3 illustrates how the effectiveness estimator complements the efficiency measure and defines the strategic position with respect to efficiency and effectiveness.The production function f defines the maximum output that can be produced, given the quantities of input resources. LetxF∈R+Ibe a vector of the fixed input resources,xV∈R+Jbe a vector of the variable input resources, andyPF∈R+be the output level of a single-output production function. The standard production function with a single output shown in Eq. (3) satisfies the properties of nonegativity, weak essentiality, monotonicity, and concavity (Coelli, Rao, O’Donnell, & Battese, 2005).(3)yPF=f(xF,xV)We define the demand-truncated production function (DTPF) as the maximum demand for a product or service that can be fulfilled, given the input resource quantities. The DTPF incorporates demand and production function information. To maintain generality, demand is firm-specific. LetykDTPF∈R+be the output level of the production function truncated by the demand of firm k andDk∈R+be the potential realized demand of firm k. The DTPF with output levelykDTPFis the smaller of the two variables: the production function output yPFand realized demand Dkas Eq. (4).(4)ykDTPF=min(yPF,Dk)=min(f(xF,xV),Dk)LetYk∈R+be the output level of firm k. The effective outputYkE∈R+describes the product or service generated by the production system to be consumed via customer demand of firm k and we defineYkE=min(Yk,Dk). We say that a firm achieves effective production if the effective output level as identified by the DTPF is generated, i.e.,ykDTPF=YkE.In the short-run, the fixed input levels cannot be adjusted, so the production function is a function of variable input. Fig. 1defines the boundary of our analysis and illustrates the DTPF. Data is gathered regarding demand and the effective output level is calculated prior to our analysis and is thus data. Within our analysis, production output which is a function of variable input and fixed input variable vectors is estimated using observed production data. The DTPF is estimated as the minimum of the firm specific demand and the production function. Firm A presents a supply–demand equilibrium whereDA=YA=YAE=fXAF,XAV.1Capital letters refer to data and lower-case letter refers to variable.1That is, firm A can produce the optimal output level without unfulfilled demand or excessive inventory. Firm A achieves effective production. We also show that Firm B is efficient but not effective unit and Firm C is effective but not efficient unit in Fig. 1. In addition, it is straightforward to validate the properties – nonegativity, weak essentiality, monotonicity, and concavity of truncated production function – since the minimum function of a production function and a constant demand level is a convex polyhedral.Letx∈R+I+Jdenote the input vector andy∈R+Qdenote the output vector of the production system. Define the production possibility set as T={(x,y):xcan producey} and estimate it by a piece-wise linear concave function enveloping all observations shown in (5). Let i={1,2,…,I} be the indexed set of fixed inputs, j={1,2,…,J} be the indexed set of variable inputs, q={1,2,…,Q} be the indexed set of output, and k={1,2,…,K} be the indexed set of firms.XikFis the ith fixed input resource,XjkVis the jth variable input resource, Yqkis the amount of the qth production output, and λkis the multiplier of the kth firm. The model (5) defines the empirically estimated variable-return-to-scale (VRS) production possibility setT∼.(5)T∼=(x,y)∑k=1KλkYqk⩾yq,∀q;∑k=1KλkXikF⩽xiF,∀i;∑k=1KλkXjkV⩽xjV,∀j;∑k=1Kλk=1;λk⩾0,∀kMeasure the efficiency θ using the DEA estimator. Define the output-oriented technical efficiency (OTE) as θ, whereDy(x,y)=sup{θ|(x,θy)∈T∼}, where θ⩾1, and a firm is efficient if θ=1.Similarly, letyE∈R+Qdenote an effective output vector. Define the effective production possibility set as TE={(x,yE):xcan produceyEthat will be consumed in current period} and TE⊂T. TEillustrates the feasible region of the effective production possibility set which can be estimated by piece-wise linear concave envelopment truncated by demand level shown as model (6), whereT∼Eis an estimated set of TE.(6)T∼E=(x,yE)∑k=1KλkYqk⩾yqE,∀q;Dq⩾yqE,∀q;∑k=1KλkXikF⩽xiF,∀i;∑k=1KλkXjkV⩽xjV,∀j;∑k=1Kλk=1;λk⩾0,∀kHowever, a generalized effectiveness measure is needed, because capacity shortage or capacity surplus leads to the profit loss.YqkPis the amount of the qthpenalized output with respect to demand Dqk. Measure effectiveness, θE, with respect to the DTPF. If there is a capacity shortage Yqk⩽Dqk, then setYqkP=Yqk-αqk(Dqk-Yqk)⩾0, and the opportunity to sell Dqk−Yqkadditional units is lost; otherwiseYqkP=Dqk-δqk(Yqk-Dqk)⩾0, indicating a capacity surplus Yqk>Dqkand inventory Yqk−Dqkare generated, both of which are costly. Note that in calculatingYkjP, the penalty parameters αkj⩾0 and δkj⩾0 are used to quantify the effect of lost sales and inventories, respectively, on effectiveness. If the cost of lost sales or holding inventory is insignificant, then αqk=δqk=0. Thus, we state the following definitionDefinition 1Production Effectiveness θEis the largest possible expansion of the penalized output at the given input level within the effective production possibility set, or mathematically,Dy(x,yP)=sup{θE|(x,θEyP)∈T∼E}.2In the capacity surplus case, if demand is low, the penalty will lead toYqkPlocated outside of TE(outside of the positive orthant). In this case the penalty is truncated by the x-axis (orY=0). Alternatively, a super efficiency measure could be used (Lovell & Rousem, 2003).2In service industries, when a service is generated, it needs to be consumed immediately. Therefore, the surplus of services generated and not consumed represents a lost opportunity, δqk>0. In manufacturing industries, a surplus of capacity means lower utilization or machine idleness. However, if the product can be stored at a lower holding cost, the penalty for capacity surplus may be insignificant. On the other hand, if demand is not satisfied, both service and manufacturing firms reduce revenues by the size of the lost sales, and also lose market share, or damage their relationships with customers. When the total cost of missed sales is significant, αqk>0.This paper’s definition of an effectiveness measure implies some notable issues. Because inventory holding costs are typically much smaller than the cost of lost sales, in many cases excess production will not result in significantly worse effectiveness scores. However, when holding inventory is not possible, the effectiveness measure will significantly differ from the efficiency measure. These issues suggest that the method is most suitable for characterizing production systems with perishable goods, make-to-order production systems (pull systems), or service systems where services or inventories cannot be stored. In this paper, the proposed effectiveness measure is applied to Japanese convenience store. This industry is a business with high turn-over commodities and high product substitution. Each shop typically has a limited space for storing inventory, because of high rental costs, and the portion of daily-supplied foods is over 30% (Japan Franchise Association, 2010). The high ratio of perishable goods and inability to hold significant inventories justify the use of an effectiveness analysis.Although efficiency and effectiveness are related metrics, they have different managerial implications. Efficiency measures the relative return on inputs used, whereas effectiveness indicates the ability to match demand given an existing production technology. High effectiveness generates revenues by providing products and services to customers; low effectiveness implies either poor resource management or an inability to meet customers’ demands. Fig. 2illustrates two-dimensional strategic position between efficiency and effectiveness. If the firm’s efficiency and effectiveness are low, we use the term, “Laggard”, since the firm tries to adopt its competitor’s superior strategy to avoid being driven out of the industry. If the firm performs well in terms of efficiency and poorly in terms of effectiveness, we use the term, “Production Focus”, since the firm tries to make the best use of its input resources and technology. If the firm performs poorly in terms of efficiency and well in terms of effectiveness, we use the term, “Demand Focus”, since the firm tries to employ a market-oriented strategy to generate demand and maintain or expand market share. Finally, if the firm is both efficient and effective, we use the term, “Leader”.Assuming αqk=δqk=0, a significant gap between efficiency and effectiveness exists if demand is low, whereas efficiency and effectiveness are identical measures if demand is high. These observations show the measure of effectiveness is particularly important during economic downturns and lead to the following proposition.Proposition 1If there is no penalty for ineffective production, i.e. αqk=0, then the effectiveness estimate converges to an efficiency as demand increases.Based on the definition of effectiveness and model (6), for all output q we haveYqP=Yq, and if Dj→∞, then the constraintDq⩾YqPin model (6) is redundant. Thus,limDq→∞θE=θ.□Capacity is the maximal output level of a production process. The output is a result of the total productive capability of a firm’s resources including workforce, machinery, and utilities. Capacity adjustment is the ability to adjust output levels to handle uncertainty by controlling variable resources in the short run (Alp & Tan, 2008). In production theory, capacity adjustment can be interpreted as the marginal product of the production function, i.e. the extra output generated by one more unit of an input. Fig. 3shows the marginal product and production frontier with a single output. The production function’s output level is defined as yPF=f(xF,xV). The marginal product at point B with respect to specific variable input j isMPjB=∂f(xF,xV)∂xjVXjBV.There are two ways to estimate marginal product. SFA estimates the production function with a given functional form, e.g., a simple case of a linear function estimated by ordinary least squares (OLS) and the coefficients associated with the independent factors provide estimates of the marginal product. DEA constructs a piece-wise linear production function approximating the true production function, and the shadow prices of input and output characterize the marginal product. Both methods have drawbacks: SFA requires defining a functional form and risks potential misspecification, whereas DEA’s observations on the production frontier do not have unique shadow prices.Podinovski and Førsund (2010) propose a directional derivative technique to assess the marginal product of a nondifferential efficient frontier constructed by the DEA estimator. LetviF,vjV,uqand u0 be the multipliers of fixed inputs, variables inputs, outputs, and the intercept term, respectively. Since marginal product is a characteristic of the frontier, for one specific efficient firm r, the following revised formulation calculates the marginal rateβj∗q∗rV+approaching from the right side with respect to one particular variable input, j∗, and one output, q∗.(7)∂+Yq∗r∂Xj∗rV=βj∗q∗rV+=Minvj∗Vs.t.∑i=1IviFXirF+∑j=1JvjVXjrV-∑q=1QuqYqr+u0=0∑i=1IviFXikF+∑j=1JvjVXjkV-∑q=1QuqYqk+u0⩾0uq∗=1viF,vjV,uq⩾0,u0is freeTo measure the marginal rate approaching from the left side, the objective function is replaced by the following equation.(8)∂-Yq∗r∂Xj∗rV=βj∗q∗rV-=Maxvj∗VThis paper usesβkV+=βj∗q∗kV+andβkV-=βj∗q∗kV-to denote the simplified notations of marginal products of short-run capacity expansion and contraction. Fig. 4illustrates the marginal productβkV+orβkV-in the short run. Note that we do not define the marginal product for inefficient firms operating inside of the production frontier. However, to estimate how the consumed output expands with an increase of variable input, we assume that the marginal increase in output is the same as the marginal products of the reference firm on the frontier via output-oriented expansion.It is possible to formulate the capacity adjustment question as an if-then statement: if a particular demand scenario is realized, then how is short-run capacity adjusted? Section 5.1 discusses a scenario-based approach assuming that demand is a random variable. Defining a scenario by its demand level, an individual scenario analysis specifies an adjustment to variable input level for each potential outcome. Section 5.2 discusses a two-stage recourse problem (RP), since the scenario-based approach does not consider the robustness of solutions under varying scenarios.We use a scenario-based approach when we define a scenario as a particular realization of demand. Given a description of alternative potential scenarios, the model suggests suitable decisions regarding short-run capacity expansion or contraction under demand fluctuations. Note that the range of adjustment of variable input levels is limited to model-realistic limitations on management. We estimate the production possibility set by using the observed production data; the set does not change regardless of the assumptions about short-run capacity expansion.There are two kinds of solutions: an individual scenario analysis, and an expected value (EV) solution (Birge & Louveaux, 2011). An individual scenario analysis represents the variable adjustment for one specific demand scenario; however, the EV solution is obtained by solving the model using the expected value of the random variable(s). We define the expected value of demand asD¯r=∑s=1SpsDrs, where psrepresents the probability of sth scenario occurring and Drsbe the realized demand of rth firm in sth scenario.Assuming fixed inputs cannot be adjusted in the short run, we develop a capacity expansion model based on the output-oriented variable returns to scale (VRS) DEA formulation with single output as a revised dual form of effectiveness measureDy(x,yP)=supθE|(x,θEyP)∈T∼E. Let Yksbe the actual output,βjrVbe the marginal product characterized byβjrV+andβjrV-with respect to jth variable input of firm r, and Rjrbe the parameter of adjustable range. Then the decision variablesus,ws,visF,vjsV,v0sare the multipliers associated with outputs, demand, fixed inputs, variable inputs, and the VRS constraints of typical DEA formulation, respectively, djrsis the additional adjustment of variable input composed of positivedjrs+or negativedjrs-adjustments, yrsandyrsPare the adjusted and penalized output, respectively, andθrsEmeasures production effectiveness. To maintain the identical production possibility set after capacity expansion or contraction of firm r, index k includes a firm r′ which contains the data for firm r before capacity expansion.(9.1)MinMθrsE+∑j=1Jdjrs++djrs-(9.2)s.t.θrsE=∑i=1IvisFXirF+∑j=1JvjsVXjrV+djrs+wsDrs+v0s(9.3)usyrsP+wsyrsP=1(9.4)∑i=1IvisFXikF+∑j=1JvjsVXjkV-usYks+v0s⩾0,∀k⧹r(9.5)∑i=1IvisFXirF+∑j=1JvjsVXjrV+djrs-usyrsP+v0s⩾0(9.6)yrsP=[yrs-αrs(Drs-yrs)](1-z1rs)(9.7)+[Drs-δrs(yrs-Drs)]z1rs+ε(9.8)yrs-Drs<Mz1rs(9.9)yrs-Drs⩾-M(1-z1rs)(9.10)yrs=Yr+∑j=1JβjrVdjrs(9.11)βjrV=βjrV+z2jrs+βjrV-(1-z2jrs),∀j(9.12)djrs<Mz2jrs,∀j(9.13)djrs⩾-M(1-z2jrs),∀j(9.14)djrs=djrs+-djrs-,∀j(9.15)-RjrXjrV⩽djrs⩽RjrXjrV,∀j(9.16)z1rs,z2jrs∈{0,1},∀j(9.17)yrsP,yrs,us,ws,visF,vjsV⩾0,∀i,∀j(9.18)djrs+,djrs-⩾0as integers,∀jThe objective function Eq. (9.1) minimizes the product of the estimated effectivenessθrsEwith a large number M and a secondary objective of minimizing the variation in input adjustment.Note that we use an output-oriented DEA model. Eqs. (9.2)–(9.4) and (9.5) are the envelope constraints to build the production possibility set.ε is a small number to maintain feasibility when the penalized outputyrsP=0.Constraints (9.6), (9.7) and (9.8) calculate the effective output level for the two cases, Yr⩽Drsand Yr>Drs.Eq. (9.9) determines the actual output level of firm rthrough capacity expansion.Constraints (9.10), (9.11) and (9.12) calculate the marginal output for short-run capacity expansion, i.e., djrs⩾0, thenβjrV=βjrV+;otherwiseβjrV=βjrV-.Constraint (9.13) shows the adjustment of variable input via goal programming, djrs⩾0 if and only if capacity expansion withdjrs+⩾0;otherwise capacity contracts with djrs⩽0 if and only ifdjrs-⩾0.The adjustment range is restricted in Eq. (9.14).Eq. (9.15) defines z1rsand z2jrsas binary variables.Eq. (9.16) includes nonnegative constraints.djrs+anddjrs-are integers because we are considering labor as a variable input.We drop constraint (9.17) if the variable input is not required to be an integer.3The integer assumption made in constraint (9.18) is necessary to identify a global optimal solution, which can be solved via the model linearization technique in the Appendix.3In fact, the model (9.1)–(9.16) and (9.17) is a mixed-integer nonlinear problem which is difficult to solve. A linearization and reformulation technique is used to solve the proposed model (see Appendix).Note that the estimation of the increase in output is conservative if two or more variable inputs are expanded simultaneously, i.e. we estimate the marginal production of each variable input separately and then take the dot product of the marginal product vector. If there is a synergistic effect between the different variable inputs, this is not captured. However, because the production frontier limits the output level, the benefits of increasing multiple variables inputs leads to a resulting production vector within the production possibility set.In order to maintain feasibility, meaning that a firm remains within the original production possibility set after taking the adjustment action, we calculate the effectiveness and resource adjustments using the proposed algorithm. Fig. 5shows a contraction example. The proposed algorithm leads to Observation 1:Observation 1A firm that expands or contracts short-run capacity via the proposed algorithm with marginal productsβjkV+orβjkV-remains feasible in the original production possibility set.Proposed Algorithm1.For one specific demand scenario Dr, start from specific firm r=1.For r=1 to number of firms.2.1Set stept=0,XjrtV=XjrVand Yrt=Yr.Calculate marginal productsβjrtV+andβjrtV-.Run scenario-based approach (9.1)–(9.16) and (9.17) to calculateXjrtV+djrt,∀jandYrt+∑j=1JβjrtVdjrt.Ifdjr=∑tdjrt=0, then go to step 2.8; otherwise run output-oriented DEA estimator to calculate efficiencyθrtDEA.4The output-oriented DEA estimator isDy(x,y)=sup{θ|(x,θy)∈T∼}defined in Section 3.2.4IfθrtDEA⩾1, then getθrtE,djr=∑tdjrt,∀j, andYr=Yrt+∑j=1JβjrtVdjrt. Go to step 2.8.Else ifθrtDEA<1anddjr=∑tdjrt<0, then run (10) to hold back the input adjustment on the efficient frontier(10)Min∑j=1JXjrtV+djrts.t.∑k=1KλkYk=Yrt+∑j=1JβjrtV-djrt∑k=1KλkXikF⩽XirF,∀i∑k=1KλkXjkV⩽XjrtV+djrt,∀j∑k=1Kλk=1-RjrXjrV⩽XjrtV-XjrV+djrtλk⩾0,∀kElse run the model (11)(11)Max∑j=1JXjrtV+djrts.t.∑k=1KλkYk=Yrt+∑j=1JβjrtV+djrt∑k=1KλkXikF⩽XirF,∀i∑k=1KλkXjkV⩽XjrtV+djrt,∀j∑k=1Kλk=1RjrXjrV⩾XjrtV-XjrV+djrtλk⩾0,∀kSetXjr(t+1)V=XjrtV+djrt,∀jandYr(t+1)=Yrt+∑j=1JβjrtVdjrt.Set t=t+1 and go to step 2.2.Set r=r+1 and go to step 2.1.The two-stage recourse approach illustrated in Fig. 6provides a robust solution to all scenarios. In our model, the first-stage decision, i.e. the here-and-now decision, corresponds to selecting the variable input level based on the demand forecasts. After demand is realized, the second-stage decision, i.e. the wait-and-see decision, corresponds to the measurement of effectiveness.The two-stage recourse approach introduces an expected recourse function which characterizes the performance of the second stage, which in our formulation is the effectiveness estimates based on the short-run capacity decisions for each specific scenario. This approach generates robust solutions to the first-stage decisions. The two-stage recourse DEA model with capacity adjustment and uncertain demand is shown below.(12.1)MinM∑s=1SpsθrsE+∑j=1Jdjr++djr-(12.2)s.t.θrsE=∑i=1IvisFXirF+∑j=1JvjsVXjrV+djr+wsDrs+v0s,∀s(12.3)usyrsP+wsyrsP=1,∀s(12.4)∑i=1IvisFXikF+∑j=1JvjsVXjkV-usYks+v0s⩾0,∀k⧹r,∀s(12.5)∑i=1IvisFXirF+∑j=1JvjsVXjrV+djr-usyrsP+v0s⩾0,∀s(12.6)yrsP=[yr-αr(Drs-yr)](1-z1rs)+[Drs-δr(yr-Drs)]z1rs+ε,∀s(12.7)yr-Drs<Mz1rs,∀s(12.8)yr-Drs⩾-M(1-z1rs),∀s(12.9)yr=Yr+∑j=1JβjrVdjr(12.10)βjrV=βjrV+z2jr+βjrV-(1-z2jr),∀j(12.11)djr<Mz2jr,∀j(12.12)djr⩾-M(1-z2jr),∀j(12.13)djr=djr+-djr-,∀j(12.14)-RjrXjrV⩽djr⩽RjrXjrV,∀j(12.15)z2jr∈{0,1},∀j(12.16)z1rs∈{0,1},∀s(12.17)yrsP,yr,djr+,djr-,us,ws,visF,vjsV⩾0,∀i,∀j,∀s(12.18)djr+,djr-⩾0as integers,∀jThe objective function (12.1) is to minimize the effectiveness estimateθrsEaggregated over scenario s with probability measures psand to minimize the adjustment variation for firm r. The two-stage recourse problem (RP) provides an adjustment to the variable input leveldjr,djr+,djr-and output level yrin the first stage and attempts to minimize expected effectiveness by optimizing the variablesyrsP,ws,us,visF,vjsV, and v0sin the second stage after the demand is realized. We define the recourse function asg(djr,Drs)=minu,v⩾0θrsE|(12.2)–(12.8),(12.16)–(12.18)where djris the first-stage decision and Drsis a realized outcome of random variableD∼rs. The expected value of the recourse function isE[g(djr,D∼rs)]=∑spsθrsEunder discrete scenarios. In the proposed algorithm we replace Step 1 by the realized outcome of demand distribution Drsand Step 2.3 by using the two-stage recourse approach (12.1)–(12.12), (12.12)–(12.17) and (12.18).With the solutions generated from model (9) and model (12), we now investigate the quality of the solutions. The most common metrics are the expected value of perfect information (EVPI), and the value of the stochastic solution (VSS) (Birge & Louveaux, 2011). EVPI measures the maximum amount the decision-maker is willing to pay in return for complete information about the future. By defining the effectiveness measures from the wait-and-see (WS) problem and the recourse problem (RP) asWS=ED∼[Maxg(d,D∼)]andRP=MaxED∼[g(d,D∼)], we can then define EVPI as Eq. (13).(13)EVPI=WS-RP=ED∼[Maxg(d,D∼)]-MaxED∼[g(d,D∼)]VSS is a measure of the quality of the expected value decision in terms of the recourse problem. Namely, it tells us the cost of ignoring uncertainty. Letd¯(D¯)be an EV solution and define the expected result of using the EV solution (EEV) asEEV=ED∼[g(d¯(D¯),D∼)]. Define VSS as follows.(14)VSS=RP-EEV=MaxED∼[g(d,D∼)]-ED∼[g(d¯(D¯),D∼)]This section discusses a numerical example without capacity expansion (djr=0) to illustrate the effectiveness measure with αk=0 and δk=1. Table 2shows the data for 12 firms, including a fixed input, variable input, actual output, and three demand forecasts: pessimistic (PE), most-likely (ML), and optimistic (OP). This example postulates the probability of realizing each of the demand scenarios as 1/6 for the PE, 4/6 for the ML and 1/6 for the OP demand forecasts. Table 3shows the efficiency and effectiveness measures. Note that PE, ML, OP, and EV are deterministic (and use the scenario-based approach), and SP uses the two-stage recourse problem (RP). Specifically, the difference between the EV solution and the SP solution is that the former calculates effectiveness using expected demandD¯k, whereas the latter estimates the expected value of effectiveness of the three demand scenarios. For illustrative purposes, we use the inverses of efficiency and effectiveness to restrict the scores between 0 and 1 in Sections 6 and 7.Fig. 7maps the efficiency and the effectiveness levels with the different demand scenarios on a two-dimensional coordinate graph whose four quadrants indicate the strategic position which provides guidelines of productivity improvement. The intersection of two axes describes the performance of industry level which is the average of the 12 firms weighted by actual output. For the PE-demand case, firms F and L are the laggards (the terminology introduced in Fig. 2), firms D, G, H, and J belong to demand focus, firms A, B, C, I, and K are attributed to production focus, and firm E is the leader. When demand is high, note that it does not limit the production possibility set and that effectiveness closely correlates with efficiency, i.e. the 12 firms tend to a diagonal line. This result is consistent with Proposition 1.Fig. 7 shows the convergence process from the pessimistic to the optimistic demand scenario, i.e. effectiveness provides additional information beyond an efficiency measure during economic downturns. Note that the results show that all firms prefer to under-produce rather than over-produce, because inventory implies ineffective production. For example, firm C is highly ineffective in the PE and the ML cases, but the production function forms a demand-supporting limitation in the OP case. Thus, firm C must reduce its output level if it wants to become more effective.Finally, Fig. 8shows that the results of EV and SP are similar. When the variable defining scenarios is continuous, as is the case with demand, we would expect the results to be similar.5However, when the scenarios are discrete, the results estimated using EV typically will not be realized. For SP the results are estimated for each scenario; thus the interpretation of the results is more direct.5In addition, the last column of Table 3 indicates that all EVPI values equal zero; thus, there is no value in paying for perfect information because capacity adjustment is not considered.This section discusses an application in an empirical study of the performance of 25 convenience stores in Japan under demand uncertainty in the first half of 2003. Since the opening of the first convenience stores in 1969, today about 42,889 stores serve 1.1 billion customers annually (Japan Franchise Association, 2010). Most convenience stores have a floor area of 100 square meters and carry about 3000 product types. Even though their prices are generally higher than supermarket prices, they are popular due to the range of services offered, e.g., courier and postal services, touch-screen monitors for finding jobs and ordering tickets, utility payments, ATMs, online shopping, and 24/7 convenience (Nipponia, 2001). Section 7.1 presents the dataset. Section 7.2 describes the results of estimating effectiveness using the scenario-based and the two-stage recourse approaches. We solve the proposed model using LINGO 9.0 Solver.Table 4summarizes the data from Sueyoshi (2003). In general, the convenience stores industry production process can be characterized by three input resources: capital, branch size (fixed inputs), and employee (variable input). The forecasted demand and actual output are measured in units; actual output is estimated by realized revenue divided by the average price per item.6Data from the Japan Franchise Association (2010).6Similarly, demand is calculated by estimating revenue divided by average price per item. Efficiency is estimated by using the actual output and effectiveness is estimated by using the proposed DTPF.We use the following definitions: capital is the net worth of the equipment used to operate the convenience stores; branch size and employee are the number of branches and manpower headcount in the first half of 2003. Firm-specific demand is the estimated number of goods sold and characterized by the pessimistic, most-likely, and optimistic estimates provided by managers and chief executive officers; see Sueyoshi (2003) for more details. The marginal product defined in section 4 is estimated by the Podinovski and Førsund (2010) method. Each convenience store can adjust capacity over some limited range by hiring/laying off employees. For simplicity, we limit the positive and negative adjustment in manpower resources to 15%; however, testing other values for this parameter produces proportionally similar results.This section illustrates efficiency and effectiveness estimation in a demand-dependent context. A demand-dependent context means that all firms consistently realize the same single demand state (such as pessimistic, most-likely, or optimistic). We postulate that demandD∼kfollows a beta distribution. The expected value can be estimated asD¯k=(PEk+4MLk+OPk)/6.7The beta distribution is widely used in project management with PERT (Program Evaluation and Review Technique) and CPM (Critical Path Method) to plan activity times and scheduling (Hillier & Lieberman, 2002).7Table 5presents the efficiency, effectiveness, EVPI, and VSS estimations. N means that short-run capacity expansion is not allowed and Y means that manpower expansion is allowed. The “Exp.” column indicates the change in variable input where positive values indicate short-run capacity expansion and negative values indicate contraction. The penalty is only for capacity surplus, i.e. due to the service industry of convenience stores. Table 5 shows the manpower adjustment for productivity improvement, for example, Family Mart needs to hire additional 152 employees to increase its effectiveness score from 0.9 to 1.00 in the ML demand case.We note that the convenience stores empirical study aligns with the numerical study, in that higher demand increases the correlation between effectiveness and efficiency. The correlation coefficients are 0.26 and 0.76 in the pessimistic and the optimistic demand cases without capacity expansion, respectively. In addition, EVPI and VSS in most of the convenience stores chains are close to or equal to zero; thus, there is almost no difference between the two-stage RP and the expected value of EV, as shown in Table 5. This result is driven by the limited demand fluctuations in the convenience stores industry during the first half of 2003. However, we prefer the EV method because it is computationally easier and provides similar results.Concerning the ex-ante and ex-post analysis of short-run capacity expansion, Fig. 9maps the efficiency and effectiveness under pessimistic demand on a two-dimensional coordinate and identifies the four quadrants representing different strategies similar to Fig. 2. The intersection of two coordinate axes indicates the industry’s weighted average performance. For the ex-post analysis, we calculate the efficiency after applying the expansion of variable input recommended by the model (9) which may reduce efficiency to increase effectiveness. Again, the results are almost identical.

@&#CONCLUSIONS@&#
