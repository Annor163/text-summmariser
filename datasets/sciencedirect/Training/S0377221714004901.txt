@&#MAIN-TITLE@&#
Confidence-based optimisation for the newsvendor problem under binomial, Poisson and exponential demand

@&#HIGHLIGHTS@&#
We address the issue of demand estimation in newsboy-type inventory control.We introduce confidence-based optimisation for stochastic inventory control.We analytically combine confidence interval analysis and inventory control.We estimate the set of candidate optimal decisions at a prescribed confidence level.We estimate the actual cost of a given decision at a prescribed confidence level.

@&#KEYPHRASES@&#
Inventory control,Newsvendor problem,Confidence interval analysis,Demand estimation,Sampling,

@&#ABSTRACT@&#
We introduce a novel strategy to address the issue of demand estimation in single-item single-period stochastic inventory optimisation problems. Our strategy analytically combines confidence interval analysis and inventory optimisation. We assume that the decision maker is given a set of past demand samples and we employ confidence interval analysis in order to identify a range of candidate order quantities that, with prescribed confidence probability, includes the real optimal order quantity for the underlying stochastic demand process with unknown stationary parameter(s). In addition, for each candidate order quantity that is identified, our approach produces an upper and a lower bound for the associated cost. We apply this approach to three demand distributions in the exponential family: binomial, Poisson, and exponential. For two of these distributions we also discuss the extension to the case of unobserved lost sales. Numerical examples are presented in which we show how our approach complements existing frequentist—e.g. based on maximum likelihood estimators—or Bayesian strategies.

@&#INTRODUCTION@&#
We consider the problem of controlling the inventory of a single item with stochastic demand over a single period. This problem is known as the “newsvendor” problem (Silver, Pyke, & Peterson, 1998). Most of the literature on the newsvendor problem has focused on the case in which the demand distribution and its parameters are known. However, what happens in practice is that the decision maker must estimate the ideal order quantity from a—possibly very limited—set of past demand realisations. This task is often complicated by the fact that unobserved lost sales must be taken into account.Existing approaches to the newsvendor under limited historical demand data can be classified in non-parametric and parametric approaches. Non-parametric approaches operate without any access to and assumptions on the true demand distributions. Parametric approaches assume that demand realisations come from a given probability distribution—or from a family of probability distributions—and make inferences about the parameters of the distribution. When the class of the distribution is known, but its parameters must be estimated from a set of samples, non-parametric approaches may produce conservative results. For this reason several works in the literature investigated parametric approaches to the newsvendor under limited historical demand data; a complete overview on these works will be provided in Section 2.Two classical parametric approaches for dealing with the newsvendor problem under limited historical demand data are the maximum likelihood (see e.g. Scarf, 1959; Gupta, 1960; Fukuda, 1970) and the Bayesian approach (see e.g. Hill, 1997, 1999). Both these strategies feature a number of asymptotical properties that guarantee their convergence towards the optimal control strategy. However, a decision maker finds herself rarely in an asymptotic situation, since only few samples are generally available to estimate an order quantity. This means that asymptotic properties may have little relevance in practice. Unfortunately, both the maximum likelihood estimation and the Bayesian approaches ignore the uncertainty around the estimated order quantity and its associated expected total cost or profit. Hayes (1969) and, more recently, Akcay, Biller, and Tayur (2011) discuss how to quantify this uncertainty by using the concept of expected total operating cost (ETOC), which represents the expected one-period cost associated with operating under an estimated inventory policy. By minimising this performance indicator, they identify an optimal biased order quantity that accounts for the uncertainty around the demand parameters estimated from limited historical data. Their approach, however, does not answer a number of fundamental questions. It does not state at what confidence level we can claim this order quantity to be optimal within a given margin of error; nor does it quantify the probability of incurring an expected total cost substantially different than the estimated one, when such an order quantity is selected. Kevork (2010) exploits the sampling distribution of the estimated demand parameters to study the variability of the estimated optimal order quantity and its expected total profit under a normally distributed demand with unknown parameters. The author shows that these two estimators asymptotically converge to normality. Based on this property, asymptotic confidence intervals are derived for the true optimal order quantity and its expected total profit. Unfortunately, these confidence intervals achieve the prescribed confidence level only asymptotically and they represent an approximation when one operates under finite samples.Our contributions to inventory management are the following.1.We analytically combine confidence interval analysis and inventory optimisation. By exploiting exact confidence intervals for the parameters of a given distribution, we identify a range of candidate order quantities that, according to a prescribed confidence probability, includes the real optimal order quantity for the underlying stochastic demand process with unknown stationary parameter(s). For each candidate optimal order quantity that is identified, our approach computes an upper and a lower bound for the associated cost. This range covers, once more according to a prescribed confidence probability, the actual cost the decision maker will incur if she selects that particular quantity.To obtain the former result, when the order quantity is fixed, we establish convexity of the newsvendor cost function in the success probability p of a binomial demand (Theorem 1) and in the rateλof a Poisson demand (Theorem 2); we also establish that the newsvendor cost function is quasi-convex in the expected value1/λof an exponential distribution (Theorem 3). These results, to the best of our knowledge, have not been established before in the literature.For the binomial and the Poisson distribution we demonstrate how to extend the discussion to account for unobserved lost sales when demand is censored.Our strategy is frequentist in nature and based on the theory of statistical estimation introduced by Neyman (1937). In contrast to Bayesian approaches, no prior knowledge is required to perform the computation, which is entirely data driven. In contrast to Hayes (1969) and Akcay et al. (2011) we do not introduce new performance indicators, such as the ETOC, and we build our analysis on existing and well established results from inventory theory, i.e. the expected total cost of a policy; and from statistical analysis, i.e. confidence intervals. Finally, in contrast to Kevork (2010) our results are valid both asymptotically and under finite samples.If the identified set of candidate optimal order quantities comprises more than a single value, expert assessment or any existing frequentist or Bayesian approach may be employed to select the most promising of these values according to a given performance indicator. By using our approach, the decision maker may then determine—at a given confidence level and from a limited set of available data—the exact confidence interval for the expected total cost associated with such a decision, as well as the potential discrepancy between the true optimal decision and the one she selected. For this reason, a further contribution is the following.We effectively complement a number of existing strategies that compute a point estimate of the optimal order quantity and its expected total cost. We demonstrate this fact for the Bayesian approach in Hill (1997) and for the frequentist approach based on the maximum likelihood estimator of the demand distribution parameter.A thorough literature review on the newsvendor problem is presented by Khouja (2000). Among other extensions, the author surveyed those dealing with different states of information about demand.Several authors (see e.g. Scarf, Arrow, & Karlin, 1958; Gallego & Moon, 1993; Perakis & Roels, 2008) investigated the so-called distribution free newsvendor, in which the decision maker has access to partial information about the demand distribution, e.g. mean, variance, symmetry, unimodality, etc., but does not know the class of the demand distribution, e.g. Poisson, normal, etc.However, in practice, it is often the case that the decision maker can only access a set of past observations of the demand out of which a near-optimal inventory target must be estimated. Approaches trying to estimate a near-optimal inventory target from observed realisations of the demands can be classified as non-parametric or parametric.Non-parametric approaches operate without any access to and assumptions on the true demand distributions (see e.g. Hayes, 1971; Levi, Roundy, & Shmoys, 2007; Huh, Janakiraman, Muckstadt, & Rusmevichientong, 2009). Parametric approaches assume that demand realisations come from a given probability distribution and make inferences about the parameters of the distribution. The class of the distribution may be determined, for instance, by selecting the maximum entropy distribution that matches the structure of the demand process (see Perakis & Roels, 2008, p. 190).When the class of the distribution is known but its parameters must be estimated from a set of samples non-parametric approaches are not appropriate, since they would produce conservative results. For this reason, in this work we focus on parametric approaches. According to Berk, Gurler, and Levine (2007) there are two general parametric approaches for dealing with a stochastic decision making environment in which random variables follow known distributions with unknown parameters: the Bayesian and the frequentist. In the Bayesian approach a “prior” distribution is selected for the demand distribution parameter(s). This selection may be based on collateral data and/or subjective assessment. Subsequently, a “posterior” distribution is derived from the prior distribution by using observed demand data. This posterior distribution is used to construct the posterior distribution of the demand and to determine the optimal order quantity and objective function value. In the frequentist approach a parametric demand distribution is empirically selected and point estimates, e.g. maximum likelihood or moment estimators, for the unknown parameters are obtained according to the observed data; these are then used to derive the optimal order quantity and objective function value. A further distinction can be made between approaches assuming that demand is fully observed and approaches assuming that demand occurring when the stock level drops to zero is lost and thus not observed. In the latter case, it is necessary to adjust the estimation procedure to account for censored demand (see e.g. Hill, 1992; Lau & Lau, 1996).In the literature we find several works on Bayesian approaches under fully observed demand (see e.g. Hill, 1997; Lee, 2008; Bensoussan, Çakanyildirim, Royal, & Sethi, 2009). Similarly, we also find several Bayesian approaches under censoring induced by lost sales (see e.g. Lu, Song, & Zhu, 2008; Chen, 2010; Mersereau, 2012). Bayesian approaches suffer from a number of drawbacks. First, an initial “belief” about the unknown parameters must be expressed as a prior distribution of the demand. It is often assumed that this prior distribution is obtained from collateral data and/or subjective assessment. The need of a prior distribution is structural in the Bayesian approach, which relies on the update of the prior distribution to derive the posterior distribution of the demand given the data. When no supporting information is available, “uninformative” priors can be used, see e.g. Hill (1999), but these tend to introduce a strong bias especially under limited available data to perform Bayesian updating. This fact is well known in the life sciences, see e.g. van Dongen (2006), but it is often ignored in more theoretical settings. A second issue that arises with existing Bayesian approaches to the newsvendor problem is that to show that the order quantity derived via the Bayesian approach converges to the optimal order quantity one has to consider an infinite set of samples, see e.g. Bensoussan et al. (2009). However, in practice it is often the case that available information is very limited. Unfortunately, Bayesian approaches can be shown to be often biased under small sample sets, especially due to the fact that the choice of the prior may strongly influence the order quantity obtained.We shall now turn our attention to frequentist approaches. Two early frequentist approaches are Nahmias (1994) and Agrawal and Smith (1996). Nahmias (1994) analyzed the censored demand case under a normally distributed demand. Agrawal and Smith (1996) considered the estimation of a negative binomial demand under censoring induced by lost sales. However, these two studies consider the stock level as given and thus do not address the associated optimisation problem of finding the optimal stock level. More recently, Liyanage and Shanthikumar (2005) introduced the “operational statistics” framework, in which an optimal order quantity, rather than the parameters of the distribution, is directly estimated from the data; the authors demonstrate that this approach is superior to traditional approaches that separate estimation and optimisation. Klabjan, Simchi-Levi, and Song (2013) integrate distribution fitting and robust optimisation by identifying a set of demand distributions that fit historical data according a given criterion; they then characterise an optimal policy that minimises the maximum expected total cost against such set of demand distributions.Bayesian and frequentist strategies surveyed so far share a key limitation. Given a limited set of past demand observations, these techniques would analyse these data and provide a single most-promising order quantity and a point estimate of the associated cost. However, they do not answer two fundamental questions: (i) we do not know at what confidence level we can claim the quantity selected to be optimal within a given margin of error and (ii) we also do not know the probability of incurring a cost substantially higher than the estimated one, when such an order quantity is selected.To the best of our knowledge Kevork (2010) was the first to exploit the sampling distribution of the estimated demand parameters in order to study the variability of the estimates for the optimal order quantity and associated expected total profit. The author adopts a frequentist approach in which demand is fully observed in each period; thus a first limitation of this work is that demand censoring is not addressed. By incorporating maximum likelihood estimators for mean and variance of demand into expressions that determine the optimal order quantity and associated expected total profit, the author develops estimators for these latter two variables. These estimators are shown to be consistent and to asymptotically converge to normality. Based on these properties, the author derives confidence intervals for the true optimal order quantity and associated expected total profit. Unfortunately, these estimators are biased in finite samples and the associated confidence intervals achieve the prescribed confidence level only asymptotically.As pointed out in Akcay et al. (2011), the inventory manager rarely finds herself in an asymptotic situation, since an inventory target must be typically estimated from a small sample size. To quantify the uncertainty about distribution parameter estimates and thus about the estimated order quantity, Akcay et al. (2011) exploit the “expected one-period cost associated with operating under an estimated inventory policy” (ETOC), originally introduced in Hayes (1969). Hayes (1969) discussed applications of ETOC to exponentially and normally distributed demands and identified the optimal biased order quantity that minimises ETOC in presence of limited historical demand data. This was one of the first works blending statistical estimation with inventory optimisation. Akcay et al. (2011) extended this analysis to a parameterised family of distributions—the Johnson translation system—that has the ability to match any finite first four moments of a random variable and to capture a broad range of distributional shapes. Despite their ability to quantify the inaccuracy in the inventory-target estimation as a function of the length of the historical data via the ETOC, the approaches in Hayes (1969) and Akcay et al. (2011) do not identify a confidence interval that, with prescribed confidence probability, includes the real optimal order quantity for the underlying stochastic demand process with unknown parameter(s); neither they are able to produce an exact confidence interval to estimate the expected total cost associated with a given ordering decision. Finally, both Hayes (1969) and Akcay et al. (2011) do not address censored demand.In this section, we shall summarise the key features of the newsvendor problem. For more details, the reader may refer to Silver et al. (1998).Consider a one-period random demand d with meanμand varianceσ2. Let o be the unit overage cost, paid for each item left in stock after demand is realised, and let u be the unit underage cost, paid for each unit of unmet demand; we assume thatu>o>0. Letg(x)=ox++ux-, wherex+=max(x,0)andx-=-min(x,0). The expected total cost can be written asG(Q)=E[g(Q-d)], whereE[·]denotes the expected value. LetF(Q)=Pr{d⩽Q}denote the cumulative distribution function of d. If d is continuous and F strictly increasing, there is a unique optimal solution(1)Q∗=F-1(β)whereβ=u/(u+o)is usually named “critical fractile.”In practice, the probability distribution of the random demand d often has finite support over the setN0={0,1,2,…}. We can then work with the forward differenceΔG(Q)=G(Q+1)-G(Q),Q∈N0. SinceΔG(Q)=o-(o+u)Pr{d>j}is non-decreasing in Q andlimQ→∞ΔG(Q)=o>0, an optimal solution is given byQ∗=min{Q∈N0:ΔG(Q)⩾0}or equivalently(2)Q∗=min{Q∈N0:F(Q)⩾β}.Consider the situation in which the decision maker knows the class of the random demand distribution (e.g. binomial), but does not know the actual values of some or all the (stationary) parameters of such a distribution. Nonetheless, she is given a set of M past realisations of the demand from which she has to infer the optimal order quantity and, possibly, estimate the cost associated with the quantity selected. We now detail the functioning of a frequentist approach, i.e. the maximum likelihood approach, and of a Bayesian approach from the literature (Hill, 1997). In the rest of this work we will make use of these two approaches to illustrate how our approach can be used to complement existing frequentist or Bayesian strategies. For the sake of brevity, we will focus only on these two strategies from the literature. However, this choice is made without loss of generality. Our approach may in fact also complement any of the other frequentist or Bayesian approaches previously surveyed.A commonly adopted heuristic strategy for order quantity selection under sampled demand information consists in computing, from the available sample set, a point estimate for the unknown demand distribution parameter(s). This may be done by using the maximum likelihood estimator (Le Cam, 1990), thus obtaining the so-called maximum likelihood policy (see e.g. Scarf, 1959; Fukuda, 1970; Gupta, 1960), or the method of moments (Newey & McFadden, 1986). For instance, assume that the available sample set comprises M observed past demand data,d1,…,dM, and that the demand is assumed to follow a binomial distribution. The binomial distribution comprises two parameters: the number of trials N and the success probability p. As discussed in Hill (1997), in the context of the newsvendor problem we might have a known and fixed number N of customers each having a probability p of purchasing a single unit within each periodi∈{1,…,M}. Then, the maximum likelihood estimator for parameter p ispˆ=∑i=1Mdi(MN). After computingp^, the decision maker employs the random variablebin(N;pˆ)in place of the actual unknown demand distribution in Eq. (2) to compute the estimated optimal order quantityQ^∗and expected total costG(Q^∗).A Bayesian approach to the newsvendor problem under partial information is presented by Hill (1997). Consider Bayes’ theoremG(a|b)=F(b|a)·P(a)∫F(b|u)·P(u)du. with a continuous and b discrete or continuous. In the context of the newsvendor problem, a represents the unknown parameter of the demand distribution, b represents the actual set of observed demand samples. The prior distribution ofa,P(a), describes an estimate of the likely value that a might take, without considering the observed samples. This estimation may be derived from expert assessment and/or collateral data. The likelihood functionL(b|a)represents the probability of observing a set of samples b given a. The posterior distribution ofa,G(a|b), is an updated estimate of the values a is likely to take based on the prior distribution and the observed information. To express an initial state of complete ignorance with respect to a, Hill adopts an uninformative prior. Then, by employing the conjugate prior for the particular distribution under analysis, he constructs the posterior distribution for the newsvendor demand as followsF(x|b)=∫aL(x|a)G(a|b)da. Finally, Hill uses this posterior distribution in place of the unknown true distribution for the demand in Eq. (1) or (2) to obtain an order quantityQ^∗.Consider, as discussed in Hill (1997), a newsvendor that has a known and fixed number N of customers each having a probability p of purchasing a single unit within each periodi∈{1,…,M}. It is a well-known fact that any experiment comprising a sequence of N Bernoulli trials, each having the same “yes” (respectively, “no”) probability p (respectively,1-p), can be represented by a random variablebin(N;p)that follows a binomial distribution with probability mass functionPr{bin(N;p)=k}=Nkpk(1-p)N-k,wherek=0,…,N.Let us now consider the situation in which the true valuep¯of parameterp∈[0,1]is not known. The decision maker is given a set of M past realisations of the demand and from these realisations she has to infer the optimal order quantity and, possibly, estimate the associated cost.Since we operate under partial information it may not be possible to uniquely determine “the” optimal order quantity and the exact cost associated with it. Therefore, we argue that a possible approach consists in determining a range of “candidate” optimal order quantities and upper and lower bounds for the cost associated with these quantities. This range will contain the real optimum according to a prescribed confidence probability.Confidence interval analysis (Neyman, 1937, 1941) is a well established technique in statistics for computing, from a given set of experimental results, a range of values that, with a certain confidence level (or confidence probability), will cover the actual value of a parameter that is being estimated.Several techniques (Clopper & Pearson, 1934; Garwood, 1936; Epstein & Sobel, 1954, etc.) exist for building exact confidence intervals associated with particular distributions. Approximate techniques have been also investigated (see e.g. Agresti & Coull, 1998) because, especially with small sample sizes, an exact confidence interval may be unnecessarily conservative.A method to compute exact confidence intervals for the binomial distribution has been introduced by Clopper and Pearson (1934). This method uses the binomial cumulative distribution function in order to build the interval from the data observed. The Clopper–Pearson interval can be written asplb,pub, whereplb=min{p|Pr{bin(N;p)⩾X}⩾(1-α)/2},pub=max{p|Pr{bin(N;p)⩽X}⩾(1-α)/2},X is the number of successes (or “yes” events) observed in the sample andαis the confidence probability. Note that we assumeplb=0whenX=0andpub=NwhenX=N. As discussed by Forbes, Evans, Hastings, and Peacock (2000), this interval can be also expressed using quantiles from the beta distribution. More specifically, the lower endpoint is the(1-α)/2-quantile of a beta distribution with shape parameters X andN-X+1, and the upper endpoint is the(1+α)/2-quantile of a beta distribution with shape parametersX+1andN-X. Furthermore, the beta distribution is, in turn, related to the F-distribution so a third formulation of the Clopper–Pearson interval, discussed in Agresti and Coull (1998), uses quantiles from the F distribution.Intuitively, the “quality” of a confidence interval is directly related to its size. When the confidence level is the same, the smaller the interval, the better the estimate. In general, confidence intervals that have symmetric tails (i.e. with associated probability(1-α)/2) are not the smallest possible ones. A large literature exists on the topic of determining the smallest possible interval (see e.g. Zieliński, 2010) or “good” approximate ones (see e.g. Agresti & Coull, 1998). It should be noted that the discussion that follows is independent of the particular interval adopted.We shall now employ the Clopper–Pearson interval for computing an upper and a lower bound for the optimal order quantityQ∗in a newsvendor problem under partial information. The confidence interval for the unknown parameter p of the binomial demandbin(N;q)is simplyplb,pubwhereplb=min{p|Pr{bin(MN;p)⩾X}⩾(1-α)/2},pub=max{p|Pr{bin(MN;p)⩽X}⩾(1-α)/2},andX=∑i=1Mdi. LetQlb∗be the optimal order quantity for the newsvendor problem under abin(N,plb)demand andQub∗be the optimal order quantity for the newsvendor problem under abin(N,pub)demand. As discussed,ΔG(Q)is non-decreasing in Q. Furthermore, it is clear that the optimal order quantityQ∗must increase if the value of p increases. It immediately follows that, according to past demand realisations, with confidence probability greater or equal toαthe optimal order quantityQ∗is a member of the set{Qlb∗,…,Qub∗}(Fig. 1)—note that this probability may be greater thanαbecause of the discrete nature of the demand.We shall now compute upper(cub)and lower(clb)bounds for the cost associated with a solution that sets the order quantity to a value in the setQlb∗,…,Qub∗. Let us write the cost associated with an order quantity Q,G(Q)=o∑i=0QPr{bin(N;p)=i}(Q-i)+u∑i=QNPr{bin(N;p)=i}(i-Q).Then, consider the function(3)GQ(p)=o∑i=0QPr{bin(N;p)=i}(Q-i)︸GQo(p)+u∑i=QNPr{bin(N;p)=i}(i-Q)︸GQu(p),in which the order quantity Q is fixed and in which we vary the “success” probabilityp∈[0,1]. It can be proved thatGQ(p)is convex in the continuous parameter p. Firstly, we rewrite Eq. (3) as(4)GQ(p)=o(Q-Np)+(o+u)∑i=QN(1-Pr{bin(N;p)⩽i}).We now show that the second derivative of this function is positive. Of course, this is equivalent to proving thatd2dp2(o+u)∑i=QN(1-Pr{bin(N;p)⩽i})⩾0.Theorem 1ForQ⩽N,d2dp2∑i=QN(1-Pr{bin(N;p)⩽i})is a positive function ofp∈[0,1].The proof is given in the supplementary material, Appendix A.□Although it is possible to prove thatGQ(p)is convex in p, there is no closed form expression for finding thep∗that minimises this function. We shall therefore use numerical convex optimisation approaches to find thep∗that minimises or maximises this function over a given interval.Let us consider the confidence intervalplb,pubfor the parameter p of the binomial demand. For a given order quantity Q, consider the valuespQ,min∗=argminp∈[plb,pub]GQ(p)pQ,max∗=argmaxp∈[plb,pub]GQ(p).With confidence probabilityα,clb=GQpQ,min∗andcub=GQpQ,max∗represent a lower and an upper bound, respectively, for the cost associated with Q (Fig. 2-A). Note that with probability1-αthe interval[plb,pub]will not coverp¯(Fig. 2B and C). In the case of (Fig. 2C)[plb,pub]does not coverp¯, but the true valueGQ(p¯)of the expected total cost associated with Q is covered by[plb,pub]. Nevertheless, this should not be regarded as a coverage event, because as shown in Fig. 2D the two cost components ofGQ(p¯)—overageGQo(p¯)and underageGQu(p¯)cost—are misclassified, i.e. they are not covered by the respective intervalsclbo,cuboandclbu,cubu.By recalling that the optimal order quantityQ∗is, with confidence probabilityα, a member of the setQlb∗,…,Qub∗, it is then easy to compute uppercub∗and lowerclb∗bounds for the cost that a manager will face, with confidence probabilityα, whatever order quantity she chooses in the candidate setQlb∗,…,Qub∗. The lower and the upper bounds areclb∗=minQ∈Qlb∗,…,Qub∗GQpQ,min∗cub∗=maxQ∈Qlb∗,…,Qub∗GQpQ,max∗.It should be emphasised that, when the confidence intervalplb,pubcovers the real parameter p of the binomial demand we are estimating, then the setQlb∗,…,Qub∗covers the optimal order quantityQ∗and the intervalclb∗,cub∗covers the real cost associated with every possible order quantity inQlb∗,…,Qub∗. Given the way confidence intervalplb,pubis constructed, it is guaranteed that this happens with probabilityα.Finally, consider the case in which unobserved lost sales occurred and the M observed past demand data,d1,…,dM, only reflect the number of customers that purchased an item when the inventory was positive. The analysis discussed above can still be applied provided that the confidence interval for the unknown parameter p of thebin(N;p)demand is computed asplb=minpPrbin∑j=1MN^j;p⩾X⩾(1-α)/2,pub=maxpPrbin∑j=1MN^j;p⩽X⩾(1-α)/2,whereN^jis the total number of customers that entered the shop in day j—for which a demand sampledjis available—while the inventory was positive.To keep the discussion compact, the computational procedure for binomial demand is presented in the supplementary material, Appendix B.In general, the setQlb∗,…,Qub∗may comprise a significant number of elements, especially if a very limited number of samples is available. A decision maker may then employ one of the strategies discussed in Section 3.1 in order to determine a promising ordering quantity in this set. However, it is worth remarking that information we provide on the minimum and maximum cost associated with each order quantity inQallows not only a better estimation of the actual cost associated with a given decision, but it can also be exploited to make more educated choices than other existing approaches. For instance, if a manager is risk averse, she may select the order quantity for which theαconfidence interval for the estimated cost has the lowest possible upper bound.A random demandPoisson(λ)is said to be distributed according to a Poisson law with rate parameterλ>0, if its probability mass function isPr{Poisson(λ)=k}=e-λλkk!,k=0,1,2,…,∞.The Poisson distribution is the limiting distribution of the binomial distribution when N is large and p is small. In this case, the parameters of the two distributions are linked by the relationshipλ=Np. We recall that the expected value of d isλand that the standard deviation of d isλ.We shall now consider, also in this case, the situation in which the parameterλis not known. Instead, the decision maker is given a set of M past realisations of the demand. As in the previous case, from these realisations she has to infer the range of “candidate” optimal order quantities and upper and lower bounds for the cost associated with these quantities. This range will contain the real optimum according to a prescribed confidence probability.As in the previous case, we discuss the exact confidence interval that can be used to estimate the rate parameterλof the Poisson distribution. This confidence interval was proposed by Garwood (1936) and takes the following form. Consider a set of M samplesdidrawn from a random demand d that is distributed according to a Poisson law with unknown parameterλ. We rewrited¯=∑i=0Mdi. According to Garwood (1936), the confidence interval forλis(λlb,λub), whereλlb=min{λ|Pr{Poisson(Mλ)⩾d¯}⩾(1-α)/2},λub=max{λ|Pr{Poisson(Mλ)⩽d¯}⩾(1-α)/2}.This interval can be expressed in terms of the chi-square distribution, as shown by Garwood (1936). Letχn2denote the chi-square distribution with n degrees of freedom, andG-1χn2,·denote the inverse cumulative distribution function ofχn2. We can writeλlb=G-1χ2d¯2,(1-α)/22M,λub=G-1χ2d¯+22,(1+α)/22M.Furthermore, it is possible to express this interval using quantiles from the gamma distribution (Swift, 2009). More specifically, the lower endpoint is the(1-α)/2-quantile of a gamma distribution with shape parameterd¯and scale parameter1/M, and the upper endpoint is the(1+α)/2-quantile of a gamma distribution with shape parameterd¯+1and scale parameter1/M. Brown, Cai, and Dasgupta (2003) list a number of existing approaches for building approximate intervals that are less conservative than Garwood’s one and he also suggests strategies to shorten Garwood’s interval by choosing suitable asymmetric tails.The method for computing an upper and a lower bound for the optimal order quantityQ∗in a newsvendor problem under Poisson demand and partial information on parameterλcan be carried out in a similar fashion to the binomial case given in Section 4.2. Consider Garwood’s confidence intervalλlb,λubfor the unknown parameterλof the Poisson demand. LetQlb∗be the optimal order quantity for the newsvendor problem under aPoisson(λlb)demand andQub∗be the optimal order quantity for the newsvendor problem under aPoisson(λub)demand. With confidence probabilityαthe optimal order quantityQ∗is a member of the setQlb∗,…,Qub∗.Consider the cost associated with an order quantity Q,G(Q)=o∑i=0QPr{Poisson(λ)=i}(Q-i)+u∑i=Q∞Pr{Poisson(λ)=i}(i-Q).Also in this case we can prove thatGQ(λ)(5)GQ(λ)=o∑i=0QPr{Poisson(λ)=i}(Q-i)+u∑i=Q∞Pr{Poisson(λ)=i}(i-Q),is convex in the continuous parameterλ. Firstly, we rewrite Eq. (5) as(6)GQ(λ)=o(Q-λ)+(o+u)∑i=Q∞(1-Pr{Poisson(λ)⩽i}).We now show that the second derivative of this function is positive. Of course, this is equivalent to proving thatd2dλ2(o+u)∑i=Q∞(1-Pr{Poisson(λ)⩽i})⩾0.Therefore, we have to prove thatd2dλ2-∑i=Q∞Pr{Poisson(λ)⩽i}⩾0.Theorem 2ForQ⩾0,d2dλ2-∑i=Q∞Pr{Poisson(λ)⩽i}is a positive function ofλ⩾0.The proof is given in the supplementary material, Appendix C.□Therefore upper (cub) and lower (clb) bounds for the cost associated with a solution that sets the order quantity to a value in the setQlb∗,…,Qub∗can be easily obtained by using convex optimisation approaches to find theλ∗that minimises or maximises this function over a given interval.Also in this case, consider the case in which unobserved lost sales occurred and the M observed past demand data,d1,…,dM, only reflect the number of customers that purchased an item when the inventory was positive. The analysis discussed above can still be applied provided that the confidence interval for the unknown parameterλof thePoisson(λ)demand is computed asλlb=min{λ|Pr{Poisson(M^λ)⩾d¯}⩾(1-α)/2},λub=max{λ|Pr{Poisson(M^λ)⩽d¯}⩾(1-α)/2}.whereM^=∑j=1MTj, andTj∈(0,1)denotes the fraction of time in day j—for which a demand sampledjis available—during which the inventory was positive.To keep the discussion compact, the computational procedure for Poisson demand is presented in the supplementary material, Appendix D.A random demandexp(λ)is said to be distributed according to an exponential law with rate parameterλ>0if its probability density function isPr{exp(λ)=k}=λe-λk,k⩾0;the expected value ofexp(λ)is1/λ.In the context of the newsvendor, the exponential distribution may occur in two cases. An exponentially distributed random variableexp(λ)with rate parameterλcan represent the inter-arrival time between two unit demand occurrences in a Poisson process with rate parameterλ. Alternatively, an exponentially distributed random variableexp(λ)can represent the total demand over the newsvendor planning horizon. It is clear that the first case can be easily reduced to the case of a random demand that follows a Poisson distribution with rate parameterλ. Such a situation can be handled by following the discussion in the previous section. In the second case, by using Eq. (1), we easily obtain the optimal order quantityQ∗forexp(λ). This is simply(7)Q∗=-1λlnhh+p.Furthermore, consider the cost functionG(Q)=o∫0Q(Q-i)Pr{exp(λ)=i}di+u∫Q∞(i-Q)Pr{exp(λ)=i}di.RewriteG(Q)=o(Q-1λ)+(o+u)∫Q∞(1-Pr{exp(λ)⩽i})di.By noting that(8)G(Q)=o+uλoo+u(λQ-1)+e-λQ,the optimal costG(Q∗)is immediately obtained.Also in this case we consider the situation in which the parameterλis not known and the decision maker is given a set of M past realisations of the demand. As in the previous case, from these realisations she has to infer the range of candidate optimal order quantities and upper and lower bounds for the cost associated with these quantities. This range will contain the real optimum according to a prescribed confidence probability.We discuss the exact confidence interval that can be used to estimate the rate parameterλof the exponential distribution. Consider a set of M samplesdidrawn from a random variable that is distributed according to an exponential law with unknown parameterλ. We rewrited¯=∑i=0Mdi. Since the sum of M independent and identically distributed exponential random variables with rate parameterλis a random variablegamma(M,1/λ)that follows a gamma distribution with shape parameter M and scale parameter1/λ, theαconfidence interval for the unknown parameterλis(λlb,λub), whereλlb=min{λ|Pr{gamma(M,1/λ)⩾d¯}⩾(1-α)/2},λub=max{λ|Pr{gamma(M,1/λ)⩽d¯}⩾(1-α)/2}.A closed form expression for this confidence interval—that employs quantiles from theχ2distribution—was proposed by Epstein and Sobel (1954) and takes the following form. Letχn2denote the chi-square distribution with n degrees of freedom, andG-1χn2,·denote the inverse cumulative distribution function ofχn2. We can writeλlb=G-1χ2M2,(1-α)/22d¯,λub=G-1χ2M2,(1+α)/22d¯.Furthermore, it is possible to express this interval using quantiles from the gamma distribution Trivedi (2001, chap. 10). More specifically, the lower endpoint is the(1-α)/2-quantile of a gamma distribution with shape parameter M and scale parameter1/d¯, and the upper endpoint is the(1+α)/2-quantile of a gamma distribution with shape parameter M and scale parameter1/d¯. Finally, a simple approximation can be derived by using a normal approximation to the chi-square distribution.Consider the confidence intervalλlb,λubfor the unknown parameterλof the exponential demand. LetQlb∗be the optimal order quantity for the newsvendor problem under anexp(λub)demand andQub∗be the optimal order quantity for the newsvendor problem under anexp(λlb)demand. Recall thatλis a rate, this is the reason why the optimal order quantity for the newsvendor problem under anexp(λlb)gives an upper boundQub∗for the real optimal order quantity. Clearly, the optimal order quantityQ∗lies in the intervalQlb∗,Qub∗.It is well-known that the expected total costG(Q)associated with an order quantity Q for a given demand rateλ>0is convex. Consider the function(9)GQ(λ)=oQ-1λ+(o+u)∫Q∞(1-Pr{exp(λ)⩽i})di,in which the order quantity Q is fixed and in which we vary the demand rateλ⩾0. Unfortunately,GQ(λ)is not convex in the continuous parameterλ. Nevertheless, we shall prove the following property for this function.Theorem 3FunctionGQ(λ)is quasi-convex in the continuous parameterλ.The proof is given in the supplementary material, Appendix E.□Because of the property introduced in Theorem 3, we can employ a simple line search procedure in order to find theλ∗that minimises or maximises this function over a given interval.Since the optimal order quantityQ∗is, with confidence probabilityα, a value in the intervalQlb∗,Qub∗, it is possible to compute uppercub∗and lowerclb∗bounds for the cost that a manager will face, with confidence probabilityα, whatever order quantity she chooses in this interval.Theorem 4The lower and upper bounds areclb∗=GQlb∗(λub)cub∗=maxGQlb∗(λlb),GQub∗(λub).The proof is given in the supplementary material, Appendix E.□Unlike the previous cases, it is not straightforward to extend the above reasoning to the case in which unobserved lost sales occurred and the M observed past demand data,d1,…,dM, only reflect the number of customers that purchased an item when the inventory was positive. This is due to the fact that the distribution of the general sum of exponential random variables is not exponential, rather it is Hypoexponential. We therefore leave this discussion as a future research direction.To keep the discussion compact, the computational procedure for exponential demand is presented in the supplementary material, Appendix F.We conducted an extensive computational study to demonstrate how our approach can complement other existing approaches in the literature. Our test set comprises a total of 420 instances under a binomial demand and a total of 200 instances under Poisson and exponential demands. Parameter values investigated in our full factorial analysis are illustrated in Table 1.In Fig. G.3, presented in Appendix F of our electronic addendum, we report box plots illustrating the mean absolute percentage error (MAPE) with respect to the true optimal cost for the Bayesian (Bayes) and for the maximum likelihood estimation (MLE) approaches discussed in Section 3.1. It is clear that both these approaches are very good, even under small samples, in determining near-optimal order quantities. Their average MAPE for the real cost associated with the order quantity selected decreases, in fact, from about 6%, if 5 samples are used, to 0.15%, if 80 samples are used. However, the estimation of the cost associated with a given order quantity is problematic. Under small samples, MAPE for the estimated cost reported by these approaches is likely to exceed 100% of the true cost and on average amounts to about 45%. Even when the sample size increases to 80 samples, the average MAPE remains as high as 10%. This is clearly an issue, since by using these approaches the decision maker is not able to reliably estimate the degree of uncertainty associated with the estimated order quantity or cost. Intuitively, a cost or an order quantity estimated by using more samples will be more accurate, the question that these approaches do not answer is how to quantify these different degrees of accuracy.Our approach answers this question by identifying a range of candidate order quantities that, with prescribed confidence probability, includes the real optimal order quantity for the underlying stochastic demand process. In addition, for each candidate order quantity that is identified, our approach produces an upper and a lower bound for the associated cost. In Fig. 3we report computational results for our approach over the test set previously discussed. Coverage probabilities for order quantity and cost intervals produced by our approach were estimated by averaging one thousand Monte Carlo (MC) simulations; since this computation turned out to be cumbersome—each MC iteration deals with multiple convex optimisation problems that are solved numerically to determine order quantity and cost interval bounds—we limited our analysis to a randomly selected subset of instances covering approximately 10% of the whole test set; results are summarised again using box plots. We conducted experiments using both exact and approximate confidence interval for the distribution parameter. More specifically, the approximate intervals employed are Agresti–Coull interval (Agresti & Coull, 1998) for the binomial, Wald’s interval (Brown et al., 2003) for the Poisson, and an approximate interval constructed by exploiting a normal approximation to the chi-square distribution for the exponential distribution.Our results demonstrate that true coverage probabilities for order quantity and cost intervals produced by our approach are in line with the prescribed confidence levelα. When approximate intervals are employed intervals are generally smaller, coverage probability may however fall below expectation if sample size is small. Surprisingly, when demand distribution is exponential, coverage probability for approximate intervals far exceeds the prescribed nominal one for small samples and approximate intervals are larger than the exact ones. This is due to the known fact that a normal approximation to the chi-square distribution performs poorly when sample size is too small. To understand what exactly happens, one should recall that the expected value of an exponential random variable with parameterλis1/λ; since we are trying to estimateλ, a smaller confidence interval forλmeans a larger interval for the expected demand1/λ, which leads to the conservative results discussed above.Order quantity and cost intervals reflect manager’s uncertainty about the optimal decision to be taken, its cost, or about the cost associated with a given decision, e.g. ordering the amount suggested by an MLE strategy. Uncertainty about the optimal order quantity, reflected by the size of the intervalQlb∗,Qub∗, can be quite high when sample size is small; e.g. up to 2.5 times the size of the optimal order quantityQ∗under a Poisson distribution sampled 5 times. This uncertainty quickly decreases as the same size increases. The same is true for the uncertainty about the cost of an optimal decision, reflected by the size of the intervalclb∗,cub∗, which can be as large as 10 times the true costG(Q∗)of the optimal decisionQ∗. By using our approach, a manager can quantify this uncertainty. For instance, one may determine the cost confidence interval for an optimal decision determined by an MLE strategy, i.e. intervalclbMLE,cubMLE, which provides an effective tool for addressing the issue illustrated in Fig. G.3 of the high MAPE that might be associated with the cost predicted by MLE or Bayes solutions.Our analysis is limited to three maximum entropy probability distributions in the exponential family (Andersen, 1970), each of which features a single parameter that must be estimated. As shown by Harremoes (2001), the binomial and the Poisson are maximum entropy probability distributions for the case in which all we know about the distribution of a random demand is that it has positive mean and discrete support that goes from 0 to a maximum value N (binomial) or to infinity (Poisson). The exponential distribution is the maximum entropy probability distribution for the case in which all we know about the distribution of a random demand is that it has positive mean and continuous support that goes from 0 to infinity. These considerations show how broadly applicable the results in this work are.In this work, the normal distribution—which is part of the exponential family and which is also a maximum entropy probability distribution—has not been considered. The analysis on the normal distribution is complicated by the fact that two parameters, mean and variance, must be considered. Then a number of cases naturally arise: unknown mean and known variance, unknown variance and known mean, etc. For this reason, in order to keep the size and the scope of the discussion limited, we decided to leave this discussion as a future work.Likewise, we left as a future research direction the investigation of the case in which parameter N, rather than parameter q, of a binomial distribution is unknown—confidence regions that can be employed in this case are discussed in Tang and Sindler (1987)—as well as the case in which both parameters of a binomial distribution are unknown.Finally, in principle it may be possible to extend the analysis to other distributions such as the multinomial, for which confidence intervals are surveyed in Lee, Nyangoma, and Seber (2002) and Chafaï and Concordet (2009); or the Johnson translation system (Johnson, 1949), if exact or approximate expressions for the confidence regions of its unknown parameters were available. Unfortunately, we are not aware of any work that investigated these confidence regions.

@&#CONCLUSIONS@&#
We considered the problem of controlling the inventory of a single item with stochastic demand over a single period. We introduced a novel strategy to address the issue of demand estimation in single-period inventory optimisation problems. Our strategy analytically combines confidence interval analysis and inventory optimisation. More specifically, we employed confidence interval analysis in order to identify a range of candidate order quantities that, with prescribed confidence probability, includes the real optimal order quantity for the underlying stochastic demand process with unknown parameter(s). In addition, for each candidate order quantity that is identified, our approach can produce an upper and a lower bound for the associated cost. We applied our novel approach to three demand distribution in the exponential family: binomial, Poisson, and exponential. For two of these distributions we also discussed the case in which the decision maker faces unobserved lost sales. Finally, we presented a comprehensive numerical study in which we showed that existing strategies based on maximum likelihood estimators or on Bayesian analysis may provide—particularly under small samples—unreliable point estimates of the cost of a given ordering decision; and that our novel approach can be employed to better assess the expected total cost associated with such a decision, as well as the potential discrepancy between the true optimal decision and the one selected.Supplementary data associated with this article can be found, in the online version, at http://dx.doi.org/10.1016/j.ejor.2014.06.007.