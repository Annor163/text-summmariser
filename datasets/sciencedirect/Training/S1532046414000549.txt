@&#MAIN-TITLE@&#
Monitoring Obstructive Sleep Apnea by means of a real-time mobile system based on the automatic extraction of sets of rules through Differential Evolution

@&#HIGHLIGHTS@&#
A cheap and portable approach to monitor in real time patients with OSA is proposed.ECG data is gathered by a wearable sensor and sent to a mobile device.A set of IF…THEN rules is extracted from ECG monitored data.This set of rules can be used in our real-time mobile monitoring system.If occurrence of OSA is detected by a rule, an alarm is automatically produced.

@&#KEYPHRASES@&#
Obstructive Sleep Apnea,Differential Evolution,Knowledge extraction,IF…THEN rules,Real-time monitoring system,Wearable sensors,

@&#ABSTRACT@&#
Real-time Obstructive Sleep Apnea (OSA) episode detection and monitoring are important for society in terms of an improvement in the health of the general population and of a reduction in mortality and healthcare costs. Currently, to diagnose OSA patients undergo PolySomnoGraphy (PSG), a complicated and invasive test to be performed in a specialized center involving many sensors and wires. Accordingly, each patient is required to stay in the same position throughout the duration of one night, thus restricting their movements.This paper proposes an easy, cheap, and portable approach for the monitoring of patients with OSA, which collects single-channel ElectroCardioGram (ECG) data only. It is easy to perform from the patient’s point of view because only one wearable sensor is required, so the patient is not restricted to keeping the same position all night long, and the detection and monitoring can be carried out in any place through the use of a mobile device.Our approach is based on the automatic extraction, from a database containing information about the monitored patient, of explicit knowledge in the form of a set of IF…THEN rules containing typical parameters derived from Heart Rate Variability (HRV) analysis. The extraction is carried out off-line by means of a Differential Evolution algorithm. This set of rules can then be exploited in the real-time mobile monitoring system developed at our Laboratory: the ECG data is gathered by a wearable sensor and sent to a mobile device, where it is processed in real time. Subsequently, HRV-related parameters are computed from this data, and, if their values activate some of the rules describing the occurrence of OSA, an alarm is automatically produced.This approach has been tested on a well-known literature database of OSA patients. The numerical results show its effectiveness in terms of accuracy, sensitivity, and specificity, and the achieved sets of rules evidence the user-friendliness of the approach. Furthermore, the method is compared against other well known classifiers, and its discrimination ability is shown to be higher.

@&#INTRODUCTION@&#
Obstructive Sleep Apnea (OSA) [1], or apnea for short, is a breathing disorder which can be experienced during sleep, caused by the partial or complete constriction of the patient’s upper airway. Its clinical definition involves a cessation of airflow for at least 10s, and people with OSA experience repeated breathing stops, even hundreds per night, when sleeping, each stop typically lasting around 10–30s. About 4% of the general population suffers from OSA to some extent, and it is estimated that fewer than 25% of OSA sufferers know that they suffer from the condition [2]. These undiagnosed sufferers cause in the USA 70billion dollars loss, 11.1billion in damages, and 980 deaths each year [3].In general, assessing sleep quality and investigating the presence of OSA is important in terms of an improvement in the health of the general population and of a reduction in mortality and healthcare costs: in fact, this disorder causes hypoxemia, asphyxia, and awakenings, and has immediate consequences such as an increased heart rate and high blood pressure as well as long-term symptoms affecting quality of life such as extreme fatigue, poor concentration, a compromised immune system, slower reaction times, and cardio/cerebrovascular problems [4].Monitoring OSA becomes crucial for people already suffering from this condition and undergoing some given medical therapies or receiving some kinds of drugs: in these cases checking side effects, such as sleep or breathing disturbances, is of paramount importance. Additionally, this monitoring is crucial in perioperative conditions [5]: when a patient is undergoing surgery, and after this has taken place, the determination of whether, and to what extent, the patient is experiencing OSA is an important task for her/his health.Feedback for instantaneous pressure adjustments in Continuous Positive Airway Pressure (CPAP) devices is another issue in which the real-time monitoring for OSA is highly welcome, as is also the case for other associated medical treatments.Currently, to diagnose OSA patients undergo a sleep study, known as a PolySomnoGraphy (PSG). This examination has several drawbacks [6]: it is quite complicated, since it consists in the recording of electroencephalogram, electrooculogram, electromyogram, oronasal airflow, chest wall and abdominal wall movement, oxygen saturation, and ElectroCardioGram (ECG) measurements. A drawback linked to this is that during a PSG test a patient is required to stay in the same position throughout the duration of a night because of the large quantity of leads, wires, tubes, and so on. Another problem with the current OSA tests is that they restrict the patients to a hospital environment for at least one night, sometimes two, and may produce stresses that may influence the OSA pattern itself, and the results of this monitoring activity. Moreover, PSG is costly, the national average price in the USA for example being about 2600USD [7]. Finally, there are few places to undergo PSG, meaning long waiting times.For these reasons, simpler, cheaper, and home-based methods are highly welcome, and are currently being developed to diagnose or monitor OSA. Unlike PSG, the use of single-channel ECG measurements would greatly ease OSA monitoring. This could be paired with currently available mobile technology so as to create an easy-to-use, cheap system to carry out at the same time ECG acquisition and monitoring, and the real-time screening and assessment of OSA.In this regard, our research has the aim of developing a simple system that provides an easy, reliable, inexpensive, transportable, and fast approach to assist OSA patients. This approach is based on the automatic extraction of explicit knowledge in the form of a set of IF…THEN rules personalized for each patient. These rules detect the occurrence of OSA episodes and contain parameters related to Heart Related Variability (HRV). They are extracted off-line starting from single-lead ECG recordings by means of a binary classification task performed by a Differential Evolution (DE) algorithm [8][9].The paper continues as follows. A description of the state of the art in literature about OSA monitoring is reported in Section 2, with specific reference to papers dealing with ECG-related parameters. Section 3 explains the way our approach works, and compares it against the other literature approaches presented in the previous section. A detailed description of our approach to classification is given in Section 4, after a general overview on DE, which is the core of this approach. Our classification tool, called the Differential Evolution-based Rule Extractor (DEREx), is then described. It has recently been developed and used to face a set of test medical problems [10]. The performance of the proposed method is assessed on a well-known sleep apnea database, the Physionet Apnea-ECG database [11] in Section 5, where a comparison is also carried out against the performance provided by a set of fifteen other widely-used classifiers. The architecture of the monitoring system is described in Section 6 and details on the sensors and devices used are given in the same section. Our conclusions and future plans are reported in Section 7.

@&#CONCLUSIONS@&#
Real-time Obstructive Sleep Apnea (OSA) episode detection and monitoring are important for society in terms of an improvement in the health of the general population and of a reduction in mortality and healthcare costs. This paper has proposed an approach, embedded in a real-time mobile monitoring system, for monitoring patients with OSA. It is quite simple, since it gathers single-channel ECG data only, is easy to perform from the patient’s point of view because it can be carried out in any place and patient is not required to keep her/his position constant all night long. The approach is based on the automatic extraction of explicit knowledge from a database containing information about the monitored patient. The extraction is performed by Differential Evolution, and the knowledge takes the form of a set of IF…THEN rules containing typical HRV-related parameters for ECG.It has been tested on a literature database of OSA patients. The numerical results have shown the effectiveness of the approach, and the achieved sets of rules evidence its user-friendliness, which is in our opinion a very helpful feature for doctors.A very important conclusion is that a general database of people suffering from OSA, as typically pursued in other approaches and unlike ours, is not well suited for taking care of a specific patient.Future works involve the use of more subtle strategies to further enhance the specificity and sensitivity of the system.Furthermore, the experiments presented in this paper have been carried out using only a small number of patients, and so in fact they represent a preliminary evaluation. Therefore, we aim to test this system in a real life situation with a group of volunteers suffering from OSA. To achieve this, a closer cooperation with a hospital department will be of paramount importance, in order to annotate the files needed to train the system to better understand the OSA features for each patient.Moreover, we plan that in the future our approach to OSA episode detection could involve the use of other sensors also, and, as a consequence, could make use of the evaluation of a higher number of patient parameters to further improve accuracy in the detection of OSA events.An interesting point to consider in DEREx is that of multi-objective optimization. Currently, our classifier tries to find the set of rules that has an as-high-as-possible value of accuracy, and the possibility that also the related values for sensitivity and specificity are good is just a kind of side effect of the optimization over accuracy. We have just implemented a new version of DEREX that can optimize on either of these three parameters depending on the user’s choice. This could lead to find out that different sets of rules are better in terms of the different parameter to be optimized. Moreover, we plan to design and implement in the near future a new version of DEREx able to perform multi-objective optimization, i.e. a system in which for each set of rules the values of all the three parameters could be optimized at the same time. This could be achieved by making use of an approach based on a Pareto front.Another very interesting issue worth investigating in the future is that related to the involvement of physicians in the process, with reference to the annotations. In fact, they are required to annotate the files needed in the off-line training phase for any given patient so that the system can be trained to better detect OSA episodes for that patient. Indeed this is currently a delicate issue in respect of all the systems presented in the literature aimed at detecting OSA episodes, since they all are based on supervised training, which implies the need for annotations. The annotation phase represents a more laborious step in the case of personalized monitoring systems, as ours, because the extraction of the knowledge has to be carried out for each new patient rather than just once. Nonetheless, the currently used OSA diagnosis methodology, i.e. polysomnography, requires that physicians inspect all the recordings gathered by the vast amount of sensors used during the night, so our system makes the process easier and faster, because they have to examine single-channel ECG data only. Finding a new way to automatically perform the annotation phase would really constitute a breakthrough.Finally, we wish to investigate the ability of our system to dynamically manage CPAP pressure adjustments: currently, the airflow level is set statically and is kept constant during night time. By making use of the sets of rules, instead, the airflow could be set at a low level as long as an OSA event is not detected by the patient’s set of rules, whereas it could be automatically increased as soon as the occurrence of an OSA event is recognized, and gradually decreased again when the event has disappeared. Of course, since sets of rules are specific to individual patients, this would lead to a personalized management of pressure, i.e. personalized healthcare. Significantly, this would contribute to the design and building of a new class of intelligent devices for the more accurate treatment of the OSA disease.