@&#MAIN-TITLE@&#
Cooperation on capacitated inventory situations with fixed holding costs

@&#HIGHLIGHTS@&#
We analyze a situation in which several firms deal with inventory problems concerning the same type of product and having limited capacity warehouses.We find a collective optimal policy when a coalition cooperates by placing joint orders.We show that the formation of the grand coalition is profitable.We use cooperative game theory tools to allocate the total cost among the agents.For each problem, we obtain a coalitional stable allocation easy to compute.

@&#KEYPHRASES@&#
Inventory systems,cooperation,core allocations,

@&#ABSTRACT@&#
In this paper we analyze a situation in which several firms deal with inventory problems concerning the same type of product. We consider that each firm uses its limited capacity warehouse for storing purposes and that it faces an economic order quantity model where storage costs are irrelevant (and assumed to be zero) and shortages are allowed. In this setting, we show that firms can save costs by placing joint orders and obtain an optimal order policy for the firms. Besides, we identify an associated class of costs games which we show to be concave. Finally, we introduce and study a rule to share the costs among the firms which provides core allocations and can be easily computed.

@&#INTRODUCTION@&#
The analysis of multi-agent inventory models is a flourishing research field in the frontier between game theory and operations research. In a multi-agent inventory model several agents facing individual inventory problems cooperate by coordinating their orders for the purpose of reducing costs. In the analysis of one of these models two main issues are usually addressed: first, what is the optimal order policy of the group of cooperating agents; second, how the ordering costs should be shared among the agents. Meca, García-Jurado, and Borm (2003) focus on a joint replenishment problem where agents follow an Economic Production Quantity policy with shortages. Meca, Timmer, García-Jurado, and Borm (2004) study the joint replenishment problem where agents agree to place joint orders by means of the classical Economic Order Quantity policy. In both papers authors use cooperative games to model the corresponding situations. Besides, in Meca et al. (2003) and Korpeoglu, Sen, and Guler (2012) a non-cooperative approach is taken. Nagarajan and Sos̆ić (2008),Dror and Hartman (2011) and Fiestras-Janeiro, García-Jurado, Meca, and Mosquera (2012) are recent surveys of multi-agent inventory models; Fiestras-Janeiro, García-Jurado, and Mosquera (2011) review the applications of cooperative game theory for sharing cost problems.In most inventory models a positive storage cost per item and time unit is assumed to exist. However, in some situations storage costs are fixed (i.e. independent of the size of the stock) and therefore can be disregarded in the optimization problem. This can be the case, for instance, when the storage costs are only due to the maintenance of the warehouse. Notice that when storage costs are irrelevant and fixed ordering costs are positive, in a continuous review setting, the orders should be as large as possible and, thus, the capacity of the warehouse becomes significant.There are many papers dealing with limited capacity inventory models. In fact, most of the classical and modern books on inventory management include the basic ideas on capacitated inventory; see, for instance, Tersine (1994) and Zipkin (2000). A survey on capacitated lot sizing can be found in Karimi, Fatemi Ghomi, and Wilson (2003). More recently, Ng, Cheng, Kotov, and Kovalyov (2009) study an economic order quantity model where the warehouse capacity is limited and is, moreover, a decision variable of the model. Parker and Kapuscinski (2011) consider the non-cooperative interaction between a retailer and a supplier in a two-stage, periodic review, limited capacity inventory model; it provides a Markov equilibrium policy for the model. On the contrary, as far as we know, apart from Fiestras-Janeiro, García-Jurado, Meca, and Mosquera (2014), the literature has not treated multi-agent inventory models with limited capacity and fixed storage costs. However, there are a variety of real situations which may be modeled in this way.Fiestras-Janeiro et al. (2014) deal with an inventory problem arising in a farming community in the Northwest of Spain. It considers a collection of stockbreeders (each one owning a relatively small livestock farm) that need livestock feed and place orders to an external supplier. Each farm has its own silo (warehouse), with limited capacity, for keeping the feed. The only costs associated with the silos are their building costs since their maintenance costs are irrelevant; thus, the storage cost of each stockbreeder is in fact zero. Fiestras-Janeiro et al. (2014) analyze then two models with n decision makers, all them facing continuous review inventory problems without holding costs, with limited capacity warehouses and without shortages. The fact that shortages are not allowed simplifies strongly the search for optimal policies. However, the case with shortages can be also used in this context, as we discuss in Example 4.1.In this paper we analyze a situation in which several firms deal with inventory problems concerning the same type of product and cooperate by placing joint orders. We consider that each firm uses its limited capacity warehouse for storing purposes and that it faces an economic order quantity model where storage costs are irrelevant (and assumed to be zero) and shortages are allowed. To illustrate our results we use the example in Fiestras-Janeiro et al. (2014) when shortages are allowed. However, the model we introduce in this paper can be successfully used in other examples, like the following one. Farmers often have their own farm tractors. The fuel for these vehicles is commonly stored in tanks at the farms, with no maintenance costs. If a farm’s tank is depleted, then the farm can borrow some extra fuel from one of its neighbors, at a small cost. Nevertheless, when this farm makes its new fuel order, it has to order an extra amount of fuel, enough for restoring the borrowed fuel. The replenishment problem when several farms cooperate can be analyzed with the tools developed in this paper.The organization of this paper is as follows. First we introduce the model we analyze: economic order quantity systems without holding costs. Then we deal with the one decision maker case, and later we study the case with n firms. We show that firms can save costs by placing joint orders and, in this case, we obtain an optimal order policy for the firms. Finally, we provide some results that can be helpful for allocating the joint costs among the firms.An EOQ (Economic Order Quantity) system without holding costs is a multi-agent situation where each agent faces a continuous review inventory problem with no holding costs, with shortages and with a limited capacity warehouse. We assume that the lead time is deterministic and can be taken as zero. N denotes the finite set of agents. The parameters associated to every i ∈ N in an EOQ system without holding costs are:•a > 0, the fixed cost per order,bi> 0, the shortage cost per item and per time unit,di> 0, the deterministic demand per time unit,Ki> 0, the capacity of i’s warehouse.As we mentioned in the Introduction, this model is in fact a generalization of one introduced in Fiestras-Janeiro et al. (2014): the basic EOQ system without holding costs. These basic systems do not allow for shortages and, then, the analysis of the model we introduce in this paper is fully different. In the operation of an EOQ system without holding costs, every time that agent i’s maximum shortage level is reached, agent i places an order of size Ki+ βi(since the storage cost is zero, agent i’s warehouse should be complete after each order). Nevertheless, every agent i has to make a decision on his maximum shortage level βibecause Kiis fixed. The interval time between two consecutive orders of agent i is called a cycle and its length isKi+βidi. In an agent i’s cycle, the length of the period that he incurs into shortages ismax{βi,0}di. Besides, taking into account that the demand is deterministic, the average shortage level in the shortage period during a cycle ismax{βi,0}2. Then, agent i’s average cost per cycle is given bya+bimax{βi,0}2max{βi,0}diand agent i’s average cost per time unit is given byCi(βi)=a+bimax2{βi,0}2diKi+βidi=adiKi+βi+bimax2{βi,0}2(Ki+βi),where βi> −Kiin order to guarantee a positive cycle length.11In principle, each βiis non-negative. However, when a group of agents places joint orders it may be optimal that the maximum shortage level of some agents is negative; notice that in our context storage costs are irrelevant.We rewrite the agent i’s cost function asCi(βi)={adiKi+βiif−Ki<βi≤0adiKi+βi+biβi22(Ki+βi)if0≤βi.For simplicity we take the number of orders per time unit as the decision variable, that is(1)xi:=diKi+βi,which implies thatβi=di−Kixixi.Then agent i’s cost function can be written as(2)Ci(xi)={axiifxi≥diKiaxi+bi(di−Kixi)22xidiif0<xi≤diKi.Observe that the ratio demand/capacity (di/Ki) is present in Expression (2). It will play a relevant role in other issues regarding this model as we will see later on, especially in Section 5.In this paper we explore the possibilities of cooperation in an EOQ system without holding costs. When we look at this model from a cooperative point of view, we consider that a non-empty coalition S⊂N has formed and assume that all its members place joint orders. It means that the cycle length will be the same for every agent in S, i.e.(3)1xi=Ki+βidi=Kj+βjdj=1xj,for every i, j ∈ S. Equivalently, xi= xjfor every i, j ∈ S, i.e., the number of orders per time unit will be the same for every agent in S. For simplicity we denote x = xifor every i ∈ S. Now, the average cost per cycle that coalition S faces is given bya+∑i∈Sbimax{βi,0}2max{βi,0}diand the average cost per time unit is given bya+∑i∈Sbimax2{βi,0}2diKj+βjdj=adjKj+βj+djKj+βj∑i∈Sbimax2{βi,0}2di.Using the condition of equal cycle length (3), we have thatβi=−Ki+dixfor all i ∈ S, being x the number of orders per time unit. Thus, for every x > 0, the average cost per time unit of coalition S is given by(4)CS(x)=ax+x∑i∈Sbi2dimax2{−Ki+dix,0}=ax+1x∑i∈Sbi2dimax2{−Kix+di,0}.Now we obtain the optimal order policy and the minimum average cost per time unit of each agent i when ordering alone. Note that Ciis a continuous function for every xi> 0. Besides, it is strictly increasing for everyxi≥diKi. Then,(5)min{Ci(xi):xi≥diKi}=adiKi.If0<xi<diKi,then Ci(xi) can be written as(6)(2a+biKi2di)xi2+bidi21xi−biKi.It is a differentiable function and attains a local extreme at xiif its derivative in xiequals zero, i.e. if(7)2a+biKi2di2−bidi2xi2=0.The unique value in(0,diKi)satisfying (7) is(8)xi*=bidi2a+biKi2di;notice thatxi*<diKibecause(9)bidi2a+biKi2di=bidi22adi+biKi2=bi2adiKi2+bidi2Ki2<di2Ki2.For every0<xi<diKi,the second derivative of Ciisbidixi3>0.Then, Ciis strictly convex in(0,diKi)and, moreover,xi*is the unique minimum of Ciin(0,diKi). Now, the continuity of Ciin (0, +∞), (9), and the fact that Ciis strictly increasing in[diKi,+∞)imply thatxi*is in fact the unique minimum of Ciin (0, +∞). Using (6) and (8) it can be easily checked that the minimum average cost per time unit of each agent i when ordering aloneCi(xi*)is given by(10)Ci(xi*)=bidi(2a+biKi2di)−biKi.Besides, the optimal quantity order for agent i is given by(11)Qi*=dixi*=2adibi+Ki2.In this section we obtain the optimal order policy and the minimum average cost per time unit of a non-empty coalition S⊂N when all its members cooperate by placing joint orders. For every such S⊂N and every x ∈ (0, +∞) denote by Sxthe set{i∈S:x<diKi}. In view of the expression of CSgiven in (4), we can write(12)CS(x)=ax+1x∑i∈Sxbi2di(−Kix+di)2.Notice that CSis a piecewise function whose definition changes on the finite set of pointsAS={diKi:i∈S}. It is easy to check that this function is continuous. Moreover, it is clear that CSis differentiable in every x ∈ (0, +∞)∖AS.22In fact, it is clear that CSis infinitely differentiable in (0, +∞)∖AS.It is moreovereasy to check that the right and left derivatives of CScoincide for every x ∈ AS, so it is in fact differentiable in every x ∈ (0, +∞). Its first derivative is given byddxCS(x)=a+∑i∈Sxbi2Ki2di−1x2∑i∈Sxbidi2.Again, it is clear thatddxCSis differentiable in every x ∈ (0, +∞)∖AS. Looking at the sign of its derivative we obtain thatddxCSis increasing in every x ∈ (0, +∞)∖ASand that it is strictly increasing in everyx∈(0,maxi∈SdiKi)∖AS. Then, taking into account thatddxCSis continuous, it is clear that it is increasing in every x ∈ (0, +∞) and strictly increasing in everyx∈(0,maxi∈SdiKi). Thus CSis a convex function in (0, +∞) and strictly convex in(0,maxi∈SdiKi). Therefore, sincelimx→0CS(x)=limx→+∞CS(x)=+∞and CSis strictly increasing in(maxi∈SdiKi,+∞),there exists a unique extreme of CSin (0, +∞), which is a minimum. Now, since CSis continuous and differentiable in (0, +∞) and it has a unique minimum in (0, +∞), then this minimum is attained at the unique pointxS*in which its first derivative is zero. Thus,xS*is the unique solution of the following equation:(13)xS*=∑i∈SxS*bidi2a+∑i∈SxS*biKi2di.Notice that both numerator and denominator inside the square root depend onxS*viaSxS*. Thus, (13) is, in fact, an equation that must be solved in an iterative way. Procedure 4.1 provides a tool to solve this equation.In order to avoid a cumbersome notation from now on we denoteI(S):=SxS*. In view of (12) and (13), we have that(14)CS(xS*)=(2a+∑i∈I(S)biKi2di)xS*2+∑i∈I(S)bidi21xS*−∑i∈I(S)biKi=∑i∈I(S)bidi2a+∑i∈I(S)biKi2di∑i∈I(S)bidi−∑i∈I(S)biKi=∑i∈I(S)bi(dixS*−Ki).In addition, the optimal quantity order for each i ∈ S is given by(15)Qi*=dixS*=di2∑j∈I(S)bjdj(2a+∑j∈I(S)bjKj2dj).Notice that, as it should be, (14) reduces to (10) and (15) reduces to (11) when S = {i} (for any i ∈ N).Next we describe an iterative procedure to solve Eq. (13) easily and to computexS*and I(S) for any non-empty S⊂N. Notice that suchxS*exists and it is unique. Denote s = |S|.Procedure 4.1Take S⊂N1.Let S = {i1, i2, …, is} be the agents in S arranged in non-decreasing order of the ratios demand/capacity. Thus,di1Ki1≤di2Ki2≤⋯≤disKis.Initialize k = s + 1, T = ∅, xT= 0, andSxT=S.Do whileSxT≠T:Set k = k − 1, T = T∪{ik}, and computexT=∑il∈Tbildil2a+∑il∈TbilKil2dilandSxT={il∈S:xT<dilKil}.Let I(S) = T andxS*=xT. STOP.Notice that the above procedure finishes after a finite number of steps (smaller than or equal to s). In each step, it incorporates an agent with the largest ratio demand/capacity among agents in S∖T to coalition T. Once xTis calculated andSxTis obtained, it compares sets T andSxT. If both sets coincide, it obtains the unique solution of Eq. (13) and the procedure finishes; otherwise, it updates k and T and makes the calculations again.The following result shows a kind of monotonicity of the optimal number of orders of a non-empty coalition. It is an attractive property; moreover we use it later on in this paper.Theorem 4.1Let (N, a, b, d, K) be an EOQ system without holding costs and take a pair of non-empty coalitions P, S⊂N with P⊂S. ThenxP*≤xS*.See Appendix A.□To finish this section we present an example that we have encountered while collaborating with an agricultural cooperative in the Northwest of Spain. We use this example to illustrate the concepts introduced up to now, as well as Procedure 4.1. This example has been also considered in Fiestras-Janeiro et al. (2014), but now we consider that shortages are allowed.Example 4.1This example is based on feedback obtained from dairy farmers in northwestern Spain; the data considered here are fictitious but realistic. A standard dairy farm in northwestern Spain has between 40 and 150 dairy cows. The cow feeding is varied and the feeding ration must have the necessary nutrients to maintaining a high daily production of milk (between 25 and 35 liters). The feeding ration can be decomposed into two parts. On one hand, a part that has to be stored at the farm in warehouses, called silos. On the other hand, a part that must be daily obtained and that cannot be stored. We are interested in the management of the former part, the one that is stored. From now on, we refer to this part of the feeding ration as the dry feed and we refer to the other part as the non-dry feed. The cost of 1 ton of dry feed is similar to the cost of producing 1 ton of non-dry feed. The silos, where the dry feed is stored, have a constant maintenance cost. Indeed, this cost is negligible and can be considered to be zero. The dry feed is ordered to an external supplier. There is a fixed cost of a euros each time that an order is made; this fixed cost is mainly due to transportation. Each cow consumes about 10 kilograms of dry feed for producing about 30 liters of milk per day. When there is a shortage of dry feed, the feeding ration has to be changed in the sense that it can only contain non-dry feed. The daily production of milk can be maintained but its quality decreases. So, although the cost of the new feeding ration does not change significantly, there is a cost due to the economic impact of the decrease of the quality; this cost is b euros per ton and day. Notice that if a shortage of dry feed occurs, the feeding ration changes and the deficit amount is not replenished. However, this problem fits into the full backordering model studied in this paper because the costs of both non-dry feed and dry feed are the same.For simplicity we consider an example with four dairy farms N = {1, 2, 3, 4}. The dairy cattle is formed by 45, 95, 105 and 120 cows, respectively. The fixed cost per order is a = 180 (in euros) and the demand (in tons per day), the shortage costs (in euros per ton and day) and the capacity of silos (in tons) for each dairy farm are given in the next table, whose last column depicts the ratios demand/capacity.idibiKidiKi10.451550.09020.95157.50.12731.051080.13141.201290.133Assume that the dairy farms 1, 2 and 4 decide to cooperate by ordering together, so S = {1, 2, 4}. Let us computeCS(xS*). First we calculate I(S) andxS*. We proceed iteratively using the non-increasing arrangement of the dairy farms’ ratios demand/capacity. Take T = {4} and computexT=∑i∈Tbidi2a+∑i∈TbiKi2di=b4d42a+b4K42d4=14.4360+810=14.41170.Let us note thatSxT={i∈S:xT<diKi}={2,4}andSxT≠T. Then, xTdoes not satisfy (13) and, hence,xS*≠xTand I(S) ≠ T. Take now T = {2, 4} and computexT=∑i∈Tbidi2a+∑i∈TbiKi2di=b2d2+b4d42a+b2K22d2+b4K42d4=14.25+14.4360+888.158+810=28.652058.158.Now, sinceSxT={2,4}=T,xTsatisfies (13), we have I(S) = T = {2, 4} andxS*=xT. Finally, using (14), we have thatCS(xS*)=b2d2+b4d4xS*−b2K2−b4K4=22.330.Following similar calculations, one can obtainCS(xS*)for every non-empty S⊂N.S{1}{2}{3}{4}{1,2}{1,3}{1,4}{2,3}CS(xS*)14.75020.86520.89621.80020.86520.89621.80021.924S{2,4}{3,4}{1,2,3}{1,2,4}{1,3,4}{2,3,4}NCS(xS*)22.33022.50021.92422.33022.50022.67122.671In the last section we obtained an expression for the minimum cost associated with each non-empty coalition S⊂N when its members place joint orders for a given EOQ system without holding costs (N, a, b, d, K). In terms of cooperative game theory, we have obtained the cost game c associated to the system (N, a, b, d, K), c being a map which assigns to every non-empty S⊂N the real numberCS(xS*). So, from now on, we write33By convention, c(∅) = 0.c(S)=∑i∈I(S)bidi2a+∑i∈I(S)biKi2di∑i∈I(S)bidi−∑i∈I(S)biKi,for every non-empty S⊂N. For the results we prove in this section, assume that a system (N, a, b, d, K) is given and that c is its associated cost game.We consider now the following issue. Is it profitable for the agents in N to form the grand coalition to place joint orders? In this section we prove that the answer to this question is positive because c is a subadditive game, in the sense thatc(S∪T)≤c(S)+c(T),for all S, T ∈ N with S∩T = ∅. Notice that the superadditivity condition implies that if N is partitioned into disjoint ordering coalitions (whose integrants place joint orders) the corresponding cost will not decrease.In fact we prove that c is not only subadditive but also concave, in the sense that(16)c(T∪j)−c(T)≤c(S∪j)−c(S)for all j ∈ N and all S, T⊂N with S⊊T⊂N∖j. It is a well-known result in cooperative game theory that every concave game is subadditive. Moreover, the concavity property provides us with additional information about the game: the marginal contribution of an agent diminishes as a coalition grows (according to (16)).Theorem 5.1Let (N, a, b, d, K) be an EOQ system without holding costs with associated cost game c. Then c is a concave game.See Appendix A.□So we proved that in an EOQ system without holding costs (N, a, b, d, K) it is efficient that all players place joint orders. In that case, the optimal average cost per time unit is given byc(N)=∑i∈I(N)bidi2a+∑i∈I(N)biKi2di∑i∈I(N)bidi−∑i∈I(N)biKi.An allocation rule for EOQ systems without holding costs is a map ϕ which assigns a vectorϕ(c)∈RNto every EOQ system without holding costs (N, a, b, d, K) with associated cost game c, satisfying that ∑i ∈ Nϕi(c) = c(N). Each component ϕi(c) indicates the cost allocated to i, so an allocation rule for EOQ systems without holding costs is a procedure to allocate the optimal cost among the agents in N when they cooperate. An allocation rule should have good properties from the following points of view.1.The proposal of the rule for a particular system should be computable in a reasonable CPU time, even when the number of agents is large.It is very convenient that the rule proposes for every system an allocation which belongs to the core of the associated cost game (see, for instance, González-Díaz et al. 2010 for details on the core of a cooperative game) This means that, for every EOQ system without holding costs (N, a, b, d, K) with associated cost game c, ϕ should satisfy the following:∑i∈Sϕi(c)≤c(S),foreveryS⊂N.Notice that this condition assures that no group S is disappointed with the proposal of the rule, because the cost allocated to it is less than or equal to the cost it would support if its members formed a coalition to place joint orders independently of the agents in N∖S.The proposal of the rule must be understandable and acceptable by the agents.Since the cost games associated to EOQ systems without holding costs are concave, cooperative game theory provides allocation rules for EOQ systems without holding costs with good properties at least with respect to items 2 and 3. We highlight the Shapley value and the nucleolus, which always provide core allocations in this context (see González-Díaz et al., 2010 for details on them). However, both allocations are hard to compute when the number of agents increases.Next we define an allocation rule for EOQ systems without holding costs and discuss its qualification with respect to the three items enumerated above. In fact, the interest of this rule is that it selects in a very natural way a point in the core. It has excellent properties with respect to items 1 and 2. Its interest from the point of view of item 3 will be discussed later on.Definition 5.1The rule R we propose assigns to every EOQ system without holding costs (N, a, b, d, K) with associated cost game c the allocation vectorR(c)∈RNgiven by:Ri(c)={bidixN*−biKiifi∈I(N)0otherwise.This rule can be computed easily. Moreover, its complexity increases polynomially on the number of agents. So, it is clear that R is a good rule from the point of view of computability.With respect to the second item, the following theorem shows that R proposes for every system an allocation which belongs to the core of the associated cost game.44Notice that R provides in fact a PMAS of c in the sense of Sprumont (1990); it easily follows from Theorem 5.2 and the definitions of R and c.Theorem 5.2Let (N, a, b, d, K) be an EOQ system without holding costs with associated cost game c. Then, for every S⊂N,∑i∈SRi(c)≤c(S).See Appendix A.□Now we make some comments on our rule R which have to do with the third item. R can be explained in the following way. Only agents having a large ratio demand/capacity (henceforth “large agents”) will have to contribute to the payment of the cost. With large ratio we mean that it is larger than the optimal number of orders per time unit. If the set of large agents is a singleton, i.e., I(N) = {n}, agent n pays all the cost; in this case he incurs a cost equal to his stand-alone cost. If there are multiple large agents, each agent pays less than his stand-alone cost. Notice that the agents who are not large agents do not pay anything and, hence, can be seen as a kind of free riders. Free-riding agents appear in many contexts, for instance in Bergstrom, Blume, and Varian (1986) for general public good problems and in Korpeoglu et al. (2012) for the private contributions game for joint replenishment. Korpeoglu et al. (2012) can always find a Nash equilibrium with free-riding in which only one of the firms finances the entire replenishment cost and the others ride free. In our setting, it seems that large agents should probably enlarge the capacity of their warehouses (in view of their demands). That is the reason why our rule R is understable and acceptable even though they are forced to support all the cost.We finish this section computing the proposal of R in Example 4.1 and comparing it with the proposal of other rules.Example 5.1Consider again the EOQ system without holding costs of Example 4.1 and its corresponding cost game. It can be easily proven that I(N) = {2, 3, 4}. Then R1(c) = 0. To obtain Ri(c) for i ∈ {2, 3, 4}, we compute the expected cycle length for N1xN*=2a+∑i∈I(N)biKi2di∑i∈I(N)bidi=2a+b2K22d2+b3K32d3+b4K42d4b2d2+b3d3+b4d4=2667.68239.150.ThenR2(c)=b2d2xN*−b2K2=5.129,R3(c)=b3d3xN*−b3K3=6.674,R4(c)=b4d4xN*−b4K4=10.868.Finally, we compute the proposal for this example of other two well-known solution concepts, the Shapley value and the nucleolus. The proposal of the three rules is displayed in the next table.Observe that in this example the three rules suggest that the bigger the ratio demand/capacity of an agent is, the more that this agent will have to pay (this is not true in general). With this principle in mind the nucleolus tends to equalize the costs supported by the agents whereas our rule tends to take more account of the differences; the Shapley value plays a more moderate middle. As a consequence of this and the fact that we have a small number of agents, in this example the Shapley value might be the most appropriate rule among all the three rules depicted in Table 1.

@&#CONCLUSIONS@&#
In this paper we analyze multiple agent situations where each agent faces a continuous review inventory problem without holding costs, with shortages and with a limited capacity warehouse. We find a collective optimal policy when a group of agents agrees to cooperate and place joint orders. In this context we show that the formation of the largest possible coalition (the grand coalition) is profitable. Moreover we indicate how cooperative game theory can be used to allocate the cost among the agents and we identify a natural allocation for each problem which satisfies attractive properties from the points of view of computability and stability. We illustrate our results with an example that we have encountered while collaborating with an agricultural cooperative in the Northwest of Spain.