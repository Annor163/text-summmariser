@&#MAIN-TITLE@&#
Adaptive myoelectric control applied to video game

@&#HIGHLIGHTS@&#
We proposed adaptive schemes for myoelectric control applied to a video game.Both unsupervised and supervised adaptive schemes improve the performance.Both cope with time-related steady state deviations in myoelectric signal patterns.They keep the performance stable in long-term applications.Adaptive schemes improve game scores by 10% and reduce the high-risk errors by 40%.

@&#KEYPHRASES@&#
Myoelectric control,Adaptive schemes,Video game,Rehabilitation,Support vector machine,

@&#ABSTRACT@&#
This paper proposes adaptive schemes to cope with time-related changes in muscle activities during playing video game. A myoelectric control with the core of support vector machine is applied to manipulate a car in a computer-based video game. The proposed adaptive schemes model fatigue-based changes in myoelectric signals and modify the classification criteria to keep stable performance in long-term operations. Both unsupervised and supervised methods were applied to detect time-related steady state deviations in myoelectric signal patterns. Both methods improve the performance of myoelectric control and keep it stable in long-term applications.

@&#INTRODUCTION@&#
Although myoelectric signal (MES) has a high potential to be a novel user interface in the game industry, it lacks required reliability and robustness for long-term operations [1]. There are many commercial devices and numerous literature [2,3] supporting directly or indirectly the idea of using myoelectric based control panels for video games, but few researches have been done to investigate their performance during long-term operation. Myoelectric control (MC) provides manipulating commands using muscular activities produced by user's hand motions. It can be used by people with motor disability to communicate with electronic devices, e.g. prosthesis, wheelchair, and video game console, provided that it keeps long-term stable performance [1,4]. So the stable performance of MC is vital for long-term applications. The performance is measured in three aspects: accuracy, intuitiveness and response time [4], among which accuracy is more fragile in long-term operation due to physical and physiological changes. This paper investigates accuracy of myoelectric control applied to video game during real-time and long-term application and proposes adaptive schemes to keep it stable.Game industry is growing rapidly. Diversified digital video games have entered thousands of homes worldwide and welcomed by people with different ages, gender and capabilities. They adopt sophisticated consoles to enjoy playing game. However, disabled people have huge difficulty to use such conventional control panels. It becomes necessary to design novel interfaces suited for people with motor disability or deficiency and myoelectric control based consoles is an option to do so.Building a myoelectric control with long-term stable performance is a challenge, since MES is inherently a non-stationary signal and has user-dependent and time-variant properties. For pattern recognition based myoelectric controls, it is necessary to train MES patterns, model the changes and compensate potential changes during a long-time operation [2]. A closed loop control system can play such a role and provide a stable performance using feedback sensory information. Visual and stimulated sensory signals (towards the body) are two feedbacks that could be used to keep stable performance. However, visual feedbacks that continuously involve the mind are not convenient for long-term applications. Meanwhile, the stimulated sensory signal is not always cost effective and practical. For example, when we grab an egg, we do not think about how hard we should grasp after we have gained such experience. Instead, our nervous system automatically takes care so that we can grab an egg without breaking or dropping [5].Adaptive control, which involves modifying the control criteria to cope with parameter changes, is another option to keep a stable performance. Having a proper model of deviations in MES patterns is a key issue to stabilise the accuracy of myoelectric control. The model has to distinguish the regular changes that represent various patterns (i.e. commands) from unwanted changes (i.e. deviations) causing accuracy decline. Meanwhile, it should discriminate transient changes, which are highly unpredictable and even contradictory [4], from steady state changes.Changes in MES patterns are either gradual or significant. The gradual changes can be resolved by adaptive schemes otherwise the system would need a re-configuration. Some physical factors can cause either gradual or significant changes. For instance, sweating and electrode displacement can lead to slight and major changes, respectively. Geometrical factors, which indicate the relative position of active and detectable motor units, the signal's non-stationarity and fatigue, are other reasons of changes in MES patterns.Fatigue is a time-related factor that leads to gradual performance variations. It can be named as the dominant factor that affects steady states of MES in long-term operation [6,19]. Fatigue is a concept determined by two dimensions: psychological and physiological [7]. In physiology, fatigue is usually defined as the loss of voluntary force-producing capacity during exercise, and is not necessarily accompanied by self-perceived fatigue, which is known as psychological concept. An important problem in interpreting changes during fatiguing contraction is that it is not always clear whether a change is a direct result of the exhaustion or whether it is an adaptation. Meanwhile, frequent distractions and re-attentions, which can be of psychological fatigue, boost variations in MES. Myoelectric signals provide useful information about the peripheral level (i.e. in the muscle tissue) of fatigue rather than its central level (i.e. central nervous system). Manifestation of fatigue can be studied by means of signal amplitude, signal frequency and muscle conduction velocity (CV) [6,7].Fatigue has mostly been studied in sustained contraction, while the muscle length and tension are hold constant. During non-maximal voluntary sustained contraction, signal amplitude usually increases considerably due to the recruitment of extra motor units and increasing in firing rate of motor units. Both are mechanisms to cope with the declining force output. In contrast, during high and maximal voluntary sustained contractions, the amplitude usually declines. Furthermore, in sustained contractions, the muscle conduction velocity (CV) decreases with fatigue due to the change in the metabolism of cellular environment, and this phenomenon is reflected as a shift to the lower frequencies of signal spectrum. Hence, signal frequency is known as the main manifestation of fatigue in MES under static conditions [8].During unconstrained contractions, however, when the muscle length and/or tension are free to vary, characteristic frequency measurements are influenced by factors other than fatigue. Geometrical factors, which indicate the relative position of active and detectable motor units, significantly change the signal frequency spectrum that may incorrectly be attributed to physiological factors. High degree of non-stationarity of signal is another major problem in dealing with unconstrained contraction. Moreover, MES may suddenly change its spectral properties due to different limb states, which may be difficult to investigate with classical spectral techniques. Time-scale methods, particularly Wavelets and Cohen's class, are introduced to cope with signals’ non-stationarity and sudden changes. Furthermore, direct measurements of CV are difficult to attain accurately during unconstrained contractions, possibly because of muscle innervations zone migration and/or end-effects [6,8].Many literature study manifestation of fatigue in MES in unconstrained contractions [9–13]. They can be used to model the changes in MES patterns during playing video games. Karlsson et al. [9] applied different time-scale methods to analyse MES during dynamic contractions, and found that continuous wavelet transform (CWT) provides more accurate estimation comparing with short-time Fourier transform (STFT), Wigner–Ville distribution, and Choi–Williams distribution. Farina et al. [10] proposed a technique for detection and processing of muscle conduction velocity (CV) during dynamic contraction, and showed that CV decline is reflecting muscle fatigue. Bonato et al. [11] applied Cohen class time-scale transform for assessing muscle fatigue during cyclic dynamic contractions. It was assumed that the non-physiological factors contributing to the MES non-stationarity during dynamic contractions could be constrained and isolated for cyclic dynamic contractions. Al-mulla and Sepulveda [19] proposed an algorithm for automated muscle fatigue detection in sports related scenarios. They applied genetic algorithm for evolving a pseudo-wavelet function for optimising the detection of muscle fatigue on any MES.Georgakis et al. [13] showed that average instantaneous frequency (AIF) outperforms the conventional mean and median spectrum frequency in fatigue analysis of sustained contraction. MacIsaac et al. [8] proposed a method to estimate a measure of fatigue using MES time domain features. They applied artificial neural networks (ANN) to tune parameters of a function mapping MES features to a measure estimating fatigue during dynamic contractions. The proposed ANN was capable to be used in real time but had to be trained before application. Oskoei and Hu [12] studied frequency shift as manifestation of fatigue in unconstrained contractions during playing video games. They examined spectral and time-scale MES features and showed significant decline in signal frequency during fatigue.In this paper, we investigate the effect of fatigue-based deviation (i.e. steady state) in MES patterns during real-time and long-term muscular activities conducted to play a video game. We employed a pattern recognition based myoelectric control for a video game, in which the player drives a car in a route with randomly appearing obstacles, using five hand's motions. The generated MES patterns, corresponding to the hand states, were recorded along with goniometry sensory data indicating bending angle of the hand. Transient states were excluded to reduce the effect of dynamic contractions and just steady states were used in the study. The hand's physical states and the corresponding MES patterns were simultaneously examined to detect deviation in MES patterns in long-term activities. This was called supervised method. In the unsupervised method, we examined MES patterns without using goniometry data. The most informative MES samples, known as support vectors (SVs), were marked to model the changes of boundaries between MES patterns corresponding to hand states. The detected changes in MES patterns were used to develop adaptive control. It is shown that the adaptive myoelectric control keeps the performance stable and provides higher score in long period of the game.The rest of paper is organised as follows. Section 2 describes materials and methods applied to develop adaptive myoelectric control for a video game and experiments conducted to evaluate it. The experimental results are presented in Section 3, and the discussions are presented in Section 4. Finally, Section 5 contains a brief conclusion and potential future works.A pattern recognition-based myoelectric control was applied to a video game. Comparing with other activities, such as manipulating prosthesis or driving electric wheelchair, during playing video game, we could involve the subjects in an attractive and long-term muscular activity with minimum danger for them. The subjects were encouraged to gain the highest score as far as possible, so the game was carried on by the subjects until they were not able to get more scores continuously.The game and proposed adaptive myoelectric control were developed under Java Applet. The game made the users drive a car in a route with randomly appearing obstacles, having five ordinary manipulating commands: Go Forward, Backward, Right, Left, and Stop. The manipulating commands were produced by myoelectric control using MES patterns corresponding to five hand states: hand flexion, extension, abduction, adduction, and hand's normal rest state. For subjects with amputation or deficient limb, the commands were recognised by contraction patterns depending to their ability and convenience. The higher score shows the quicker and safer forward driving. Scoring policy is oriented towards safe driving as much as possible by highlighting inappropriate movements. Every forward step gains a positive score and every wrong step, in which car hits to an obstacle or a border, gain ten negative scores.Myoelectric control classifies the MES data and produces manipulating commands to drive the car. Its structure is based on [14]. It is comprised of three modules: feature extraction, classifier, and post-processing. The time domain features, including mean absolute value (MAV), waveform length (WL), and zero-crossing (ZC) [14] are chosen as feature set. The features are extracted from disjoint segments of MES data with a time length of 100ms. The classifier is a support vector machine (SVM) with radial basis function (RBF) kernel and parameters (i.e. C and gamma) adjusted by grid search method applied on training data set (TDS) [14]. SVM constructs an optimal boundary between two classes using linear combination of more informative training samples, known as support vectors, mapped into the feature space by a kernel function. We used LIBSVM [15], and conducted multiclass classification using “one-against-one” method. The output stream of the classifier is post-processed by majority voting (MV) to reduce the error of the transient states and provide robust and smooth controlling commands. It outputs most occurred commands in the last three segments, otherwise STOP. Meanwhile, the post-processing module had an accelerating option. It made acceleration in motions by doubling the output command if the last three recent outputs were identical.Four-channel MES data were collected during hand motions to drive the car in video game. The data were collected from four locations on a forearm (i.e. biarticulate wrist flexor, triarticulate and biarticulate Carpi Radialis wrist extensor muscles), using bipolar active electrodes (Biometrics Ltd SX230). An active electrode has a pre-amplifier with a gain of 1000, which can differentiate between a small signal of interest, and much larger interference signals that are present on the skin. Signals are passed through a band-pass filter with a cut-off frequency 10–450Hz, and a notch filter used to remove unwanted line-frequencies (50/60Hz). Ground reference electrode was placed on the wrist. Signals were read in range ±300mV, and sampled at 1000Hz using a 12-bit A/D converter.In the supervised machine-learning scheme, the classifier initially has to be trained using labelled data. A goniometry sensor (Biometrics Ltd. SG65) is used to label real-time stream of myoelectric signals. The goniometry sensor shows bending angle of hand in wrist junction in two directions: horizontal and vertical. According to preliminary observations, threshold angles to distinguish different hand states, in both directions, were chosen 20°. Hence, the five states of hand were simultaneously (sampling rate 1000Hz) recorded along with MES data. The labelled MES data were used in both preliminary training and re-training of SVM. The electrodes were built in a wearable form and used either with or without goniometry sensors, as shown in Fig. 2.Adaptive scheme modifies SVM classification criteria during a real-time operation. It rebuilds the boundaries between classes using updated training data set (TDS). The TDS is updated by recently selected samples presenting changes in steady state MES patterns. Fig. 1depicts a schematic diagram of the proposed adaptive myoelectric control applied to a video game.According to machine learning, SVM needs preliminary training, namely offline training. In the proposed system, offline training was being conducted in a short period (e.g. 40s) at the beginning of a game. In this period, the car is driven based on geometry data, and concurrently the collected labelled MES were applied to SVM training. Following that, the car was being entirely manipulated based on MES patterns classified by the SVM.To avoid erroneous command, the subjects were encouraged to keep constant level of contraction determined during offline training for each hand state. However, as mentioned, this is not practically feasible in long-term games, and can degrade the performance after a while. Online training, in which the classifier is being re-trained during the game, can make a stable rate of accuracy in long-term games. Furthermore, updated support vectors represent a model of changes in MES patterns. The gradual changes can be resolved by online training, otherwise the system would need to be re-trained offline, again. There are two crucial issues in online training: updating online training data set (TDS) and running training procedure without interruption during the game.Manipulating commands that do not match the subject's desired command are counted as erroneous commands, and their frequent occurrence can represent the change in MES patterns. The erroneous commands representing deviation in MES patterns should be identified and then added to the online TDS. There is no direct and automatic way to read the mind and distinguish the erroneous commands. Hence, we have to use indirect ways. To detect erroneous commands, we can rely on either the nature of commands or external feedback information. They are categorised as the unsupervised and supervised methods, respectively. In the unsupervised method, we evaluate the correctness of output commands using their statistical features (i.e. continuousness and entropy) [16]. In this method, the commands that have entropy [17] less than the pre-assigned threshold and continuousness [18] more than the pre-assigned threshold are eligible to be considered as new samples for the online TDS. This is based on the fact that an output command with high certainty and continuity can be considered as a desired one. The supervised method employs the goniometry data to update TDS. It uses goniometry feedback to detect the deviation between real hand state and commands obtained from MES patterns.Preliminary study revealed that the online TDS updated through unsupervised method does not improve the performance even makes it worsen. Data analysis exposed that the most of ambiguous samples were in transient state, so we decided filtering the transient state data before updating TDS. Hence, transient states that carry unpredictable samples and caused by physical and geometrical factors were excluded from online TDS. It is shown that the steady state samples improve the performance of classification [2,4]. In this work, the steady state is defined as a state, in which the hand state has not changed in the last three consequent MES data segments (i.e. last 3×100=300ms) and the maximum changes in bending angles of the hand, in two directions (i.e. vertical and horizontal) are less than 5°. Excluding transient state and using just steady state samples makes us able to study fatigue related MES changes, because geometric parameters and muscle length corresponding to each hand state are approximately constant. Furthermore, chaotic deviations in MES patterns caused by physical rapid movements were excluded. Meanwhile, since offline TDS was formed by steady state samples, changes in support vectors depict time-related manifestation of fatigue in the muscles. Ultimately, the online training adapts the SVM based on the recent changes in steady state signal patterns.Online training uses both offline and online TDS in each training process. Offline TDS maintains the boundaries between classes and prevents unwanted rapid changes, and online TDS adapts the existing boundaries based on run-time changes in MES patterns. Online training can be applied in two ways: accumulating and instantaneous. Instantaneous online training resets the online TDS after each training process, while accumulating method keeps all updated samples in online TDS. The former employs merely the recent changes in its adaptation scheme and the later uses all the changes since offline training. In case of necessity, it is possible to return to initial state of training by resetting online TDS.SVM training, which involves the optimisation of a convex function, takes very short time and can be applied periodically during operation without sensible interrupt in manipulation. The time interval between two consequent online training processes is called the re-training period and it was adjusted between 6 and 10s.

@&#CONCLUSIONS@&#
