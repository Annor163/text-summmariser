@&#MAIN-TITLE@&#
Class clustering destroys delay differentiation in priority queues

@&#HIGHLIGHTS@&#
We study a priority queueing system with interclass correlation in the arrival stream.We find explicit closed-form formulas for the mean system contents and the mean delays.The amount of delay differentiation strongly depends on the amount of class clustering.We prove that extreme class clustering even destroys delay differentiation.

@&#KEYPHRASES@&#
Priority queueing,Multiclass,Discrete-time,Interclass correlation,Delay differentiation,

@&#ABSTRACT@&#
This paper considers a discrete-time priority queueing model with one server and two types (classes) of customers. Class-1 customers have absolute (service) priority over class-2 customers. New customer batches enter the system at the rate of one batch per slot, according to a general independent arrival process, i.e., the batch sizes (total numbers of arrivals) during consecutive time slots are i.i.d. random variables with arbitrary distribution. All customers entering the system during the same time slot (i.e., belonging to the same arrival batch) are of the same type, but customer types may change from slot to slot, i.e., from batch to batch. Specifically, the types of consecutive customer batches are correlated in a Markovian way, i.e., the probability that any batch of customers has type 1 or 2, respectively, depends on the type of the previous customer batch that has entered the system. Such an arrival model allows to vary not only the relative loads of both customer types in the arrival stream, but also the amount of correlation between the types of consecutive arrival batches. The results reveal that the amount of delay differentiation between the two customer classes that can be achieved by the priority mechanism strongly depends on the amount of such interclass correlation (or, class clustering) in the arrival stream. We believe that this phenomenon has been largely overlooked in the priority-scheduling literature.

@&#INTRODUCTION@&#
In multiclass queueing systems, where multiple types (or classes) of customers compete for the use of the same resources, scheduling disciplines are used to determine the order of service for customers of different types. One particular type of scheduling that has received substantial attention in the queueing literature is priority scheduling (Jaiswal, 1968; Takagi, 1991; Williams, 1980; De Clercq, De Turck, Steyaert, & Bruneel, 2011; Min & Yih, 2010; Jin & Min, 2007; Zeltyn, Feldman, & Wasserkrug, 2009; Feng & Umemura, 2009; Walraevens, Fiems, Wittevrongel, & Bruneel, 2009; Gamarnik & Katz, 2009; Walraevens, Fiems, & Bruneel, 2006, 2008; Walraevens, Steyaert, & Bruneel, 2005; Maertens, Walraevens, & Bruneel, 2007; Abate & Whitt, 1997; Maertens, Walraevens, & Bruneel, 2008; Chang & Harn, 1992; Choi, Choi, Lee, & Sung, 1998; Drekic & Grassmann, 2002; Fiems, Walraevens, & Bruneel, 2007; Hashida & Takahashi, 1991; Laevens & Bruneel, 1998; Lee & Lee, 2003; Mehmet Ali & Song, 2004; Subramanian & Srikant, 2000; Sugahara, Takine, Takahashi, & Hasegawa, 1995; Takine, 1999; Tham, Yao, & Jiang, 2002; Van Houdt & Blondia, 2006; Walraevens, Steyaert, & Bruneel, 2004; Walraevens, Steyaert, & Bruneel, 2002; Zhao, Li, Cao, & Ahmad, 2006; Chen & Zhang, 2000; Adan, Sleptchenko, & Van Houtum, 2009; Maertens, Bruneel, & Walraevens, 2012), where customers are partitioned in a number of distinct classes and the order of service is based on the classes customers belong to. E.g., class-1 customers have (service) priority over all other classes, class-2 customers have priority over all classes except class 1, etc. Typical applications where priority scheduling is used are, amongst others, packet switches in modern telecommunication networks (Choi, Lee, & Un, 1997; Walraevens et al., 2005; Fayza, 2010), where delay-sensitive packets (e.g. telephony, teleconferencing, video) are given preferential treatment above delay-tolerant packets (e.g. file transfer, e-mail), or emergency services in hospitals, where patients requiring urgent intervention are given priority over regular patients (Min & Yih, 2010; Jacobson, Argon, & Ziya, 2012).In classical priority queueing models, it is generally assumed that the different classes of customers occur randomly and independently in the arrival stream of customers into the system. In this paper, however, we explicitly wish to examine the effect of interclass correlation (or class clustering) in the arrival process of a two-class priority queue on the performance of this queue. In particular, we are interested to know whether the degree to which customers of the same type have the tendency to arrive closely together (i.e., “clustered”), or, conversely, the degree to which such customers have the tendency to be spread in time and mixed with customers of the other type, have a substantial impact on the performance of a two-class priority queueing system. In order to do so, we superimpose a two-state Markovian interclass correlation model (with arbitrary transition probabilities) on top of a regular general independent arrival-process model for the aggregated customer stream.For this model, we first derive the probability generating function (pgf) of the total number of customers in the system, as well as the pgf of the delay (system time) of an arbitrary customer. These results can be easily retrieved from the well-known analysis of a single-class discrete-time queueing model with general i.i.d. arrivals and deterministic single-slot service times (Bruneel & Kim, 1993; Vinck & Bruneel, 1995). Various performance measures of practical use, such as the total mean system content and the (global) mean delay of an arbitrary customer, can be easily derived from this pgf. Next, we analyze the queueing performance of the high-priority customer class (i.e., class 1). This requires the solution of a single-class queueing model with Markovian arrival interruptions. We are able to obtain explicit expressions for the pgf’s of the class-1 system content and the class-1 customer delay, and from this, performance measures such as the mean number of class-1 customers in the system and the mean delay of an arbitrary class-1 customer. Finally, combining all the latter results, we are also able to derive explicit expressions for the mean number of low-priority (i.e., class-2) customers in the system and the mean delay of an arbitrary class-2 customer.The resulting formulas and a number of numerical examples reveal that the priority mechanism does what it is designed for, i.e., favor high-priority customers in terms of a lower mean delay than low-priority customers, as long as the interclass correlation is sufficiently low. For high to very high interclass correlation, however, the delay-differentiation capabilities of the priority mechanism are reduced significantly, and even disappear completely when the interclass correlation approaches +1. We believe that this phenomenon is not well recognized in most of the priority-queueing literature, because the arrival process of the various types of customers is usually chosen quite arbitrarily and not given much attention. The current paper proves – by means of closed-form results – that class clustering is not to be neglected in the context of priority queues.We consider a discrete-time queueing system with infinite waiting room, one server, and two types (classes) of customers, named 1 and 2. As in all discrete-time models, the time axis is divided into fixed-length intervals referred to as slots. New customers may enter the system at any given (continuous) point on the time axis, but services are synchronized to (i.e., can only start and end at) slot boundaries.In order not to complicate matters, we model the service process of the system as simply as possible in this paper. Specifically, we assume that the service times of all customers (belonging to either class 1 or class 2) are deterministically given by one slot each. More general models for the service process will be the subject of future investigations.The arrival process of new customers in the system, however, which is the main concern of this paper, is characterized in two steps.First, we model the total (aggregated) arrival stream of new customers by means of a sequence of i.i.d. non-negative discrete random variables with common probability mass function (pmf)a(n)and common probability generating function (pgf)A(z). More specifically,a(n)≜Prob[narrivals in one slot],n⩾0,A(z)≜∑n=0∞a(n)zn.We call the total number of arrivals in one slot an arrival batch in the sequel.The mean batch size, i.e., the (total) mean number of arrivals per slot, in the sequel referred to as the (total) mean arrival rate, is given by(1)λ=A′(1).Next, we describe the occurrence of the two types (1 and 2) in the sequence of the consecutively arriving customer batches. First of all, we assume in this study that each arrival batch contains only one type of customers, i.e., either all type-1 customers or all type-2 customers. The case where customers of both types may be present in the same batch has been considered in many existing studies and is therefore not included here; we further comment on this in Section 6. We further assume that both customer classes are “mixed” in the arrival stream, but that there may be some degree of “class clustering” in the arrival process, i.e., customer batches of any given type may (or may not) have a tendency to “arrive back-to-back”. Mathematically, this means that the types of two consecutive batches may be non-independent. Specifically, we assume a first-order Markovian type of correlation between the types of two consecutive batches, which basically means that the probability that the next batch belongs to a given class depends on the type of the previous batch.It should be noted that our arrival model is a non-classical “mixture” of independent arrivals (on the aggregated level) and correlated arrivals (for each customer class individually). It is not to be confused with classical single-class Markovian arrival models such as, for instance, in Ali Khan and Gani (1968), Pakes and Phatarfod (1978), Bruneel (1985, 1988), Bruneel and Steyaert (1996), Mehmet Ali and Song (2004), Gao, Wittevrongel, Walraevens, and Bruneel (2008), and Claeys, Steyaert, Walraevens, Laevens, and Bruneel (2013). There are two main reasons for this choice. First, the lack of correlation in the aggregated arrival process makes the analysis easier; secondly, it is our explicit intention to study the impact of interclass correlation, i.e., correlation between the arrivals of the two customer types, as “purely” as possible, i.e., without possible interference of other sources of correlation. For the same reason, we have kept the service process as simple as possible (in particular, uncorrelated from customer to customer).Lettkdenote the type (i.e., 1 or 2) of the batch arriving during slot k. The transition probabilities of the Markov chain that determines the types of the consecutive batches are then defined as (see Fig. 1)(2)Prob[tk+1=1|tk=1]=α;Prob[tk+1=2|tk=1]=1-α,Prob[tk+1=1|tk=2]=1-β;Prob[tk+1=2|tk=2]=β.It is well-known (Bruneel & Kim, 1993; Bruneel, 1988) that for a two-state Markov chain of this type, the steady-state probabilitiesπ1andπ2of finding the chain in state 1 or 2 respectively, are given by(3)π1≜limk→∞Prob[tk=1]=1-β2-α-β,π2≜limk→∞Prob[tk=2]=1-α2-α-β.The quantitiesπ1andπ2can be interpreted as the fractions of type 1 and type 2 customers in the arrival stream, respectively. The (steady-state) correlation coefficient of the Markov chain, i.e., the amount of correlation between the types of two consecutive batches in the arrival stream (in the steady state), is given by(4)γ≜limk→∞E[tktk+1]-E[tk]E[tk+1]var[tk]var[tk+1]=α+β-1.We will indicate the parameterγ(-1⩽γ⩽+1) as the interclass correlation in the sequel. Positive values ofγcorrespond to a situation where the customers of any given class have a tendency to cluster (over slot boundaries), while negative values ofγrefer to arrival streams in which customer batches of types 1 and 2 have a tendency to alternate, i.e., be mixed more strongly. The case whereγ=0, of course, corresponds to the assumption that the types of subsequent batches are independent.We note that Eqs. (3) and (4) can be “inverted”, i.e., the original parametersαandβcan be expressed in terms of the physically more appealing parametersγandπ1,π2, as follows:(5)α=1-(1-γ)π2;β=1-(1-γ)π1.However, whereas the parametersαandβcan take all values between 0 and 1, without any restrictions, not all combinations of(γ,π1)are possible. This is due to the fact that0⩽α,β⩽1, which can be translated to the following inequalities:(6)max0,γγ-1⩽π1,π2⩽min1,11-γ,or, equivalently,(7)γ⩾max-π2π1,-π1π2.From (6) it follows that for positive values ofγ, the parametersπ1andπ2can take all values between 0 and 1; for negative values ofγ, however, the feasible values ofπ1andπ2are restricted; ultimately, forγ=-1, the parametersπ1andπ2are necessarily both equal to0.5, as in these circumstances the customer class alternates from each arrival batch to the next one. Likewise, (7) shows that all positive values of the interclass correlationγare always feasible, regardless of the relative load distribution in the arrival process between customers of class 1 or class 2, but, in general, i.e., whenπ1andπ2do not happen to be equal, there is a lower bound onγwhich is greater than −1.The structure of the rest of this paper is as follows. In Section 3, we first retrieve the pgf of the total number of customers in the system from existing results in the literature. Explicit expressions for the mean number of customers in the system and for the average delay of an arbitrary customer are easily obtained from this. Next, we concentrate on the analysis of the number of class-1 customers in the system: an expression is derived for the pgf of this number and a method is described to determine the two remaining unknowns in that expression. Again, performance measures such as the mean number of class-1 customers in the system and the mean class-1 delay are obtained from this. Combining all the above, we then derive expressions for the mean number of class-2 customers in the system and the mean class-2 delay. All these derivations are valid for arbitrary choices ofA(z). The special case of geometric arrivals, in which completely explicit closed-form results (in terms of the original system parameters only) can be obtained, is considered in Section 4. In Section 5, we discuss some numerical examples and also focus on the case of strong positive interclass correlation, i.e., the limit whereγ→+1. Finally, some conclusions are drawn in Section 6.In this section, we summarize the main mathematical derivations needed to arrive at the desired performance measures of this priority queueing system, i.e., the mean system contents and the mean customer delays (per class and globally). There are basically three steps in the analysis. In a first step, we focus on the total system content (class 1+class 2), which is, in fact, not affected at all by the priority mechanism and identical to the total system content in a single-class system with (e.g.) a first-come-first-served queueing discipline. The second step concentrates on the performance of the high-priority class, i.e., class 1. It is not difficult to see that the service of class-1 customers is not affected by the possible presence of class-2 customers in the system, as class-1 customers have absolute (service) priority over class-2 customers and all service times are equal to 1. This implies that the class-1 performance of the system can be investigated by means of a single-class model as well, albeit with Markovian arrival interruptions in this case. In a third step, we combine the results of steps 1 and 2 to deduce the main performance characteristics of class-2 customers.It should be noted that our approach avoids the joint analysis of class 1 and class 2, i.e., only single-class systems have to be analyzed. This reduces the mathematical complexity of the analysis substantially, as the dimension of the (Markovian) state spaces is reduced by 1 unit in each step. The only price to pay is that we do not get any results on the joint distribution of the class-1 and class-2 system contents with this approach. However, this is not the focus of the current paper, as we are mainly interested in the effect of interclass correlation on the delay differentiating capabilities of the priority rule. We note that the joint analysis of class 1 and class 2 could, in principle, be achieved by using a three-dimensional state description for the system, composed of the numbers of class-1 customers and class-2-customers along with the state of the Markov chain that describes the types of the consecutive batches in the arrival stream. This, however, would lead to very complicated equations for the joint pgf of the system state, involving a.o. implicitly defined functions, from which it is far from obvious to derive explicit formulas for the relevant performance measures of the system. The reader is referred to references (Walraevens et al., 2002, 2004, 2005, 2006; Maertens et al., 2007, 2008) for more details on this approach, in the context of other priority queueing models.Letakindicate the total number of customers entering the system during slot k andukthe total system content, i.e., the total number of customers present in the system, at the beginning of the kth slot. Then the following system equation can be established:(8)uk+1=(uk-1)++ak,where the notationx+is shorthand formax{0,x}. As theak’s form a sequence of i.i.d. random variables (regardless of the types of the arriving customers), applying standard generating-functions arguments to the recursive Eq. (8) leads to the well-known expression (Bruneel & Kim, 1993) for the resulting equilibrium pgfU(z)of the total system content(9)U(z)=limk→∞E[zuk]=(1-λ)(z-1)A(z)z-A(z),which is valid if and only if the equilibrium condition of the (total) system is met, i.e., if and only if(10)λ<1.The corresponding mean total system content reads(11)E[u]=U′(1)=λ+A″(1)2(1-λ).The pgfD(z)of the delay of an arbitrary customer in the model at hand (1 server, constant service times equal to 1 slot) is also well-known (Vinck & Bruneel, 1995):(12)D(z)=U(z)-U(0)1-U(0)=(1-λ)z[A(z)-1]λ[z-A(z)],with corresponding mean delay(13)E[d]=D′(1)=E[u]λ=1+A″(1)2λ(1-λ).Letu1,kdenote the type-1 system content, i.e., the number of high-priority customers present in the system, at the beginning of the kth slot, and, as before, lettkindicate the customer class batch k (arriving during slot k) belongs to. Then, as a consequence of all the model assumptions in Section 2, the couple(tk,u1,k)forms a Markovian state description for the high-priority part of the system.The state transitions of the quantities {tk} are governed by Eqs. (2), whereas for the quantities {u1,k}, the following recursive system equations can be established:(14)u1,k+1=(u1,k-1)++ak,iftk=1,u1,k+1=(u1,k-1)+,iftk=2.Let us define the pgfU1,k(z)of the random variableu1,kand the two partial generating functionsU1,k(1)(z)andU1,k(2)(z)asU1,k(z)≜E[zu1,k],U1,k(1)(z)≜E[zu1,kI(tk=1)],U1,k(2)(z)≜E[zu1,kI(tk=2)],whereI(x)refers to the indicator function of the event x, i.e.,I(x)=1if the event x occurs andI(x)=0if the event x does not occur.From (14), it follows thatU1,k+1(1)(z)=E[zu1,k+1I(tk+1=1)]=αE[zu1,k+1I(tk=1)]+(1-β)E[zu1,k+1I(tk=2)]=αEz(u1,k-1)++akI(tk=1)+(1-β)Ez(u1,k-1)+I(tk=2)=αE[zakI(u1,k=0,tk=1)]+αE[zu1,k-1+akI(u1,k>0,tk=1)]+(1-β)E[z0I(u1,k=0,tk=2)]+(1-β)E[zu1,k-1I(u1,k>0,tk=2)],or, finally,(15)U1,k+1(1)(z)=αA(z)U1,k(1)(0)+αA(z)zU1,k(1)(z)-U1,k(1)(0)+(1-β)U1,k(2)(0)+(1-β)1zU1,k(2)(z)-U1,k(2)(0).A similar equation can be established forU1,k+1(2)(z):(16)U1,k+1(2)(z)=(1-α)A(z)U1,k(1)(0)+(1-α)A(z)zU1,k(1)(z)-U1,k(1)(0)+βU1,k(2)(0)+β1zU1,k(2)(z)-U1,k(2)(0).Now let us assume again that the stability condition (10) of the total system is fulfilled. In these circumstances, the stability condition for the high-priority customers, which is given by the (weaker) requirement(17)λπ1<1,is also met. Then the time-dependent partial pgf’sU1,k(1)(z)andU2,k(2)(z)converge to limiting functionsU1(1)(z)andU1(2)(z)ask→∞, for which we obtain the following set of equations:(18)U1(1)(z)=αA(z)U1(1)(z)+(z-1)U1(1)(0)z+(1-β)U1(2)(z)+(z-1)U1(2)(0)z,U1(2)(z)=(1-α)A(z)U1(1)(z)+(z-1)U1(1)(0)z+βU1(2)(z)+(z-1)U1(2)(0)z.The solution of this set of two linear equations is not difficult to find. Adding the resulting expressions forU1(1)(z)andU1(2)(z), we obtain(19)U1(z)=U1(1)(z)+U1(2)(z)=(z-1)U1(1)(0)A(z)[z+(1-α-β)]+U1(2)(0)[z+(1-α-β)A(z)]z2-[αA(z)+β]z-(1-α-β)A(z).By using the normalization conditionU1(1)=1, we can express the steady-state probability of having an empty high-priority queue,U1(0), as(20)U1(0)=U1(1)(0)+U1(2)(0)=1-1-β2-α-βA′(1)=1-λπ1,whereλis the mean arrival rate defined in Eq. (1) andπ1denotes the fraction of high-priority customers in the arrival stream, as given by Eq. (3). Introducing (20) and the definition ofγ(see Eq. (4)) in (19), we can rewrite the pgfU1(z)as(21)U1(z)=(z-1)(1-λπ1)[p1zA(z)+p2z-γA(z)]z2-[αA(z)+β]z+γA(z),where the quantitiesp1andp2are defined as(22)p1≜U1(1)(0)U1(0)=U1(1)(0)U1(1)(0)+U1(2)(0),p2≜U1(2)(0)U1(0)=U1(2)(0)U1(1)(0)+U1(2)(0).It is not difficult to see thatp1andp2can be interpreted as conditional probabilities, as follows:p1=limk→∞Prob[tk=1|u1,k=0],p2=limk→∞Prob[tk=2|u1,k=0],that is,p1andp2denote the conditional probabilities that a slot is of type 1 or 2, respectively, given that there are no high-priority customers in the system at the beginning of this slot.Eq. (21) contains only known quantities, except for the two unknown probabilitiesp1andp2, of which we know (from (22)) that(23)p1+p2=1.The unknowns can be determined, in general, by invoking the well-known property that pgf’s such asU1(z)are bounded inside the closed unit disk{z:∣z∣⩽1}of the complex z-plane, at least when the stability condition (17) of the high-priority queue is met (only in such a case our analysis was justified andU1(z)can be viewed as a legitimate pgf). Now, it can be shown by means of Rouché’s theorem from complex analysis (Gonzáles, 1992; Bruneel & Kim, 1993) that the denominator of Eq. (21) has exactly two zeroes inside the closed unit disk of the complex z-plane, one of which is equal to 1, as soon as the stability condition (17) is fulfilled. It is clear that these two zeroes should also be zeroes of the numerator of Eq. (21), asU1(z)must remain bounded in those points. For the zeroz=1, this condition is fulfilled regardless of the values of the unknownsp1andp2, since the numerator of (21) contains a factor(z-1). However, for the second zero, sayz=zˆ, the requirement that the numerator should vanish yields a linear equation for the two unknowns. A second linear equation is given in (23). In general, the two unknown probabilitiesp1andp2can be found as the solutions of the two established linear equations. The result can be shown to be given by(24)p1=zˆ-γA(zˆ)zˆ(1-A(zˆ))p2=(γ-zˆ)A(zˆ)zˆ(1-A(zˆ)).Once the zerozˆhas been computed (e.g., numerically),p1andp2can be derived from (24). Substitution of the obtained values in Eq. (21) then leads to a fully determined expression of the steady-state pgfU1(z)of the high-priority system content.From this result, various performance measures of practical importance can be derived. For instance, the mean high-priority system content can be found asE[u1]=U1′(1). After long and tedious calculations, this results in(25)E[u1]=π1A″(1)2(1-λπ1)+λp11-γ-γλ(1-λ)π1(1-γ)(1-λπ1),whereπ1is given in Eq. (3),γis the interclass correlation defined in (4), andp1is the unknown probability defined in (22) and given by the formula (24) as soon as the zerozˆhas been determined.Higher-order moments of the high-priority system-content distribution can be obtained by computing higher-order derivatives of the pgfU1(z).Since the high-priority part of the system is (in itself) a queueing system with 1 server (without server interruptions) and deterministic service times equal to 1 slot, the pgfD1(z)of the delay (system time) of an arbitrary high-priority customer can, again, be derived from Vinck and Bruneel (1995)D1(z)=U1(z)-U1(0)1-U1(0),or, explicitly,(26)D1(z)=(1-λπ1)z[A(z)-1][1-β+p1(z-1)]λπ1{z2-[αA(z)+β]z+γA(z)}.The mean delay of an arbitrary class-1 customer can be derived either by taking the first derivative ofD1(z)atz=1, or by applying (the discrete-time version of) Little’s law (Kleinrock, 1975; Bruneel & Kim, 1993; Fiems & Bruneel, 2002) to Eq. (25):(27)E[d1]=D1′(1)=E[u1]λπ1=A″(1)2λ(1-λπ1)+p1(1-γ)π1-γ(1-λ)(1-γ)(1-λπ1).Having obtained results for both the total customer population and the type-1 customers, we are now in a position to derive the main performance measures of interest for type-2 customers. Specifically, the mean type-2 system contentE[u2]can be found fromE[u2]=E[u]-E[u1],or, by using the results in (11) and (25),(28)E[u2]=π2A″(1)2(1-λ)(1-λπ1)+λp21-γ-γλπ2(1-γ)(1-λπ1).The mean type-2 delay,E[d2], on the other hand, can be obtained from (the discrete-time version of) Little’s law (Kleinrock, 1975; Bruneel & Kim, 1993; Fiems & Bruneel, 2002):(29)E[d2]=E[u2]λπ2=A″(1)2λ(1-λ)(1-λπ1)+p2(1-γ)π2-γ(1-γ)(1-λπ1).As we have seen above, our analysis yields nearly completely analytical results for the main performance measures of interest: in general, only the zerozˆhas to be computed numerically. For some specific choices of the arrival distributiona(n)(or, equivalently, the arrival pgfA(z)),zˆcan be expressed explicitly in terms of the parameters of the system, and, hence, completely analytic expressions can be obtained. One such (interesting) choice is the case of geometric arrivals. In this special case, the pmfa(n)is given bya(n)=11+λλ1+λn,n⩾0and the pgfA(z)reads(30)A(z)=11+λ-λz.The pgfU1(z)(given in (21)) then reduces to(31)U1(z)=(z-1)(1-λπ1)[p1z+p2z(1+λ-λz)-γ]z2(1+λ-λz)-[α+β(1+λ-λz)]z+γ=(1-λπ1)[z-γ+p2λz(1-z)]-λz2+(1+λβ)z-γ,where we have used (23) and cancelled out a common factor(z-1)in the numerator and the denominator. As the denominator is now quadratic in z, its zeroes (say,z1andz2) can easily be expressed explicitly in terms of the system parameters:(32)z1=1+λ-λπ1(1-γ)-D2λ,z2=1+λ-λπ1(1-γ)+D2λ,where the discriminant D is given byD=(1-λ)2+(1-γ)[4λ-2(1+λ)λπ1]+(1-γ)2(λπ1)2,and where we have expressedβin terms ofγandπ1, asβ=1-(1-γ)π1(according to Eq. (5)).It is not difficult to prove that bothz1andz2are always real, thatz1is always smaller than or equal toz2, and thatz1is always inside the closed unit disk of the complex z-plane, whereasz2is always outside the unit disk. It follows that, for all feasible values of the system parameters,z1corresponds to the quantityzˆ, defined earlier. Expressing the fact that the numerator of (31) should vanish forz=z1(or, equivalently, using the expression (24) forp2), we find thatp2=z1-γλz1(z1-1)and thatU1(z)can be rewritten as(33)U1(z)=C·z1(z1-1)(z-γ)+(z1-γ)z(1-z)(z-z1)(z-z2)=C·(z-z1)[(γ-z1)z+γ(z1-1)](z-z1)(z-z2)=C·(γ-z1)z+γ(z1-1)z-z2.The constant C can be easily obtained from the normalization conditionU1(1)=1:C=1-z2(γ-1)z1,so thatU1(z)is finally obtained in completely explicit form:(34)U1(z)=1-z2z-z2(γ-z1)z+γ(z1-1)(γ-1)z1.The mean class-1 system content follows from this throughE[u1]=U1′(1)=1z2-1+γ-z1(γ-1)z1,or, introducing the expressions (32),(35)E[u1]=λπ1[1-λ+(1-γ)(λπ1-2)-(1-λ)2+(1-γ)[4λ-2(1+λ)λπ1]+(1-γ)2(λπ1)2]2(1-γ)(λπ1-1),which expressesE[u1]explicitly in the system parameters that are easiest to interpret: the arrival rateλ, the fractionπ1of high-priority traffic, and the interclass correlationγ. The mean class-1 delay can be similarly expressed as(36)E[d1]=1-λ+(1-γ)(λπ1-2)-(1-λ)2+(1-γ)[4λ-2(1+λ)λπ1]+(1-γ)2(λπ1)22(1-γ)(λπ1-1).The global system performance is characterized in this case by (see Eqs. (11) and (13) withA″(1)=2λ2)(37)E[u]=λ1-λand(38)E[d]=11-λ.Class-2 performance measures can be obtained from(39)E[u2]=λ1-λ-E[u1]and(40)E[d2]=E[u2]λπ2.In this section, we discuss the results obtained, both from a qualitative perspective and by means of some numerical examples.First, we focus on the general formulas (13), (27) and (29) that we have obtained for the mean delays:E[d]=1+A″(1)2λ(1-λ),E[d1]=A″(1)2λ(1-λπ1)+p1(1-γ)π1-γ(1-λ)(1-γ)(1-λπ1),E[d2]=A″(1)2λ(1-λ)(1-λπ1)+p2(1-γ)π2-γ(1-γ)(1-λπ1).These results explicitly and very clearly show the influence of the various system parameters on the delay performance of the priority system. As could be expected intuitively, the mean delays depend on the first two moments of the arrival process (as represented by the quantitiesλandA″(1)). It is not surprising that the global mean delayE[d]goes to infinity as the total mean arrival rateλapproaches its limiting value 1, dictated by the stability condition of the (total) system. This is not necessarily the case for the mean class-1 delay:E[d1]only goes to infinity if the mean class-1 arrival rateλπ1approaches 1, regardless of the class-2 arrival process, which is due to the fact that class-2 customers are, in fact, “invisible” for class-1 customers. This implies that the high-priority part of the queueing system may even be stable when the low-priority part and the total system are unstable. Finally, the low-priority queue is only stable when the total system is stable, i.e., when the total mean arrival rateλis strictly less than 1.In order to investigate the influence of the interclass correlationγ(appearing in the above formulas forE[d1]andE[d2]) on the performance of the system, we first consider some numerical examples.In a first example we choose a binomial distribution for the arrival batch size, i.e.,A(z)=1-λN+λNzN,which could, for instance, be interpreted as the aggregated arrival process resulting from the superposition of N independent Bernoulli sources which are able to generate 1 customer per slot each with probabilityλ/N. Figs. 2–4show the mean delaysE[d]of an arbitrary customer,E[d1]of an arbitrary class-1 customer andE[d2]of an arbitrary class-2 customer, versus the mean arrival rateλ, in the case where both customer types are equiprobable (i.e.,π1=π2=0.5implying thatγcan take all values from −1 to +1) for three different values of the interclass correlationγ, i.e.,γ=0,γ=0.99andγ=-1, respectively. (For the time being, we avoid the valueγ=1because of the apparent indeterminateness ofE[d1]andE[d2]in this case.) We note that the global mean delayE[d]is insensitive to the interclass correlationγ, i.e., the curves forE[d]are identical in the three figures. However, it is striking that the amount of delay differentiation that can be achieved between the two customer classes depends very strongly on the amount of interclass correlationγ. The delay differentiation is highest when the interclass correlation is negative and lowest when it is positive. The intuitive reason for this is that, for negative and small positive values ofγ, the two customer types are more or less well mixed in the arrival stream, which implies that the priority scheduling can really change the order of service of customers (of different classes); for high to very high positive interclass correlation, however, customers of each type tend to arrive clustered in time, such that only rarely customers of both types are in the system simultaneously, and therefore, the priority rule does not really interfere with the order of service.As a second example, we consider the case of geometric arrivals treated in Section 4. In this case, the relevant formulas are (38), (36) and (40):E[d]=11-λ,E[d1]=1-λ+(1-γ)(λπ1-2)-(1-λ)2+(1-γ)[4λ-2(1+λ)λπ1]+(1-γ)2(λπ1)22(1-γ)(λπ1-1),(41)E[d2]=1π211-λ-π1E[d1],which are completely analytical. Some numerical results are illustrated in Figs. 5 and 6. Specifically, Fig. 5 shows the mean delaysE[d],E[d1]andE[d2]as functions of the interclass correlationγ, for given values ofλandπ1. (Note that forπ1=0.2and forπ1=0.8,γcan only take values in the interval-0.25⩽γ⩽1, in accordance with inequality (7)). The figure very clearly illustrates that the delay differentiation achieved by the priority scheduling rule remains more or less intact as long as the interclass correlation is not too high. However, when the class clustering increases to high values (say,γ>0.7, in this example), the mean delays of the two customer classes tend to differ less and less. Forγ→+1, the mean delays of the two customer classes become identical. Similar qualitative conclusions can be drawn from Fig. 6, in which we have plotted the mean delaysE[d],E[d1]andE[d2]as functions of the fractionπ1of high-priority traffic, for a given value ofλand various values of the interclass correlationγ.Let us now turn to the limiting behavior of the system whenγ→+1. We first consider the special case of geometric arrivals. Applying de l’Hospital’s rule in Eq. (36), we obtainlimγ→+1E[d1]=-(λπ1-2)--[4λ-2(1+λ)λπ1]2(1-λ)-2(λπ1-1)=11-λ=E[d].Eq. (41) yields the corresponding expression forE[d2]:limγ→+1E[d2]=1π211-λ-π111-λ=11-λ=E[d].The above results prove that, at least for geometric arrivals, the average delays of both customer classes become identical when the interclass correlation goes to +1.In general, i.e., for arbitrary arrival pgf’sA(z), we do not dispose of completely analytical expressions for the main performance measures, owing to the presence of the quantitiesp1andp2in the formulas. In turn,p1andp2depend on the zerozˆof the denominator ofU1(z)(see Eq. (21)) inside the unit disk of the complex z-plane. The behavior of the zerozˆfor strong positive interclass correlation can be analyzed by considering the defining equation ofzˆ, i.e.,zˆ2-(αA(zˆ)+β)zˆ+γA(zˆ)=0,or, expressingαandβin terms ofγ,π1andπ2(see Eq. (5)),(42)(zˆ-1)[zˆ-A(zˆ)]+(1-γ){π1[zˆ-A(zˆ)]+π2(zˆ-1)A(zˆ)}=0,forγ→+1. It is clear from the above equation that forγ=1, the zerozˆ=1(the equation then has a double root atz=1). Let us now assume thatγis very close to +1. We can then approximateγby(43)γ≈1-∊,where∊is a very small positive amount. In these circumstances, the zerozˆis also very close to 1, and, hence, can be approximated as(44)zˆ≈1-r∊+q∊2,where r and q are yet to be determined. The quantityA(zˆ)can similarly be approximated as(45)A(zˆ)≈1-λr∊+λq∊2+A″(1)r22∊2.Using the approximations (43)–(45) in the defining Eq. (42), and identifying equal powers of∊on both sides of the resulting equation yields0=0for the coefficients of∊0and∊1, but a useful equation for∊2, from which the quantity r appearing in (44) can be easily derived as(46)r=1-λπ11-λ.Neglecting quadratic and higher powers of∊in (44), we can thus obtain the following first-order approximation forzˆ:zˆ≈1-∊1-λπ11-λ,which is consistent withzˆ<1ifλ<1. Using the above result in the expressions (24) forp1andp2yields approximations forp1andp2which are independent of∊:(47)p1≈π1(1-λ)1-λπ1,p2≈π21-λπ1.These can now be introduced in Eq. (21) to yield the following approximation for the pgfU1(z), valid for strong positive interclass correlation, i.e., forγ→+1:(48)limγ→+1U1(z)=(z-1)[(1-λ)π1zA(z)+π2z-(1-λπ1)A(z)](z-1)[z-A(z)]=π1(1-λ)(z-1)A(z)+π2[z-A(z)]z-A(z)=π1(1-λ)(z-1)A(z)z-A(z)+π2.Eq. (48) shows that, in this case of extreme class clustering, the global stochastic equilibrium of the system can be obtained as the weighted average between two class-specific (stochastic) regimes, one during the very long “1-periods” (when only class-1 customers enter the system) and one during the very long “2-periods” (when only class-2 customers, and, hence no class-1 customers, arrive). The (conditional) equilibrium pgfU1(z)(of the high-priority system content) during 1-periods can be analyzed with a single-class queueing model with i.i.d. arrivals from slot to slot and arrival pgfA(z), and is therefore identical to the pgfU(z)of the total system content, given in Eq. (9). During 2-periods, on the other hand, the (conditional) equilibrium pgfU1(z)=1, i.e., the system does not contain high-priority customers. It simply follows that at the beginning of an arbitrary slot the equilibrium pgfU1(z)is given by the weighted average of these two conditional pgf’s with weight factorsπ1andπ2, i.e., the equilibrium probabilities that an arbitrary slot is either a 1-slot or a 2-slot, in accordance with formula (48).From (48), we can then easily obtainlimγ→+1E[u1]=limγ→+1U1′(1)=λπ1+π1A″(1)2(1-λ),and, using (the discrete-time version of) Little’s law (Kleinrock, 1975; Bruneel & Kim, 1993; Fiems & Bruneel, 2002)limγ→+1E[d1]=limγ→+1E[u1]λπ1=1+A″(1)2λ(1-λ)=E[d].Finally, the limiting value forE[d2]can be derived aslimγ→+1E[d2]=limγ→+1E[u]-E[u1]λπ2=1λπ2λ+A″(1)2(1-λ)-λπ1-π1A″(1)2(1-λ)=1+A″(1)2λ(1-λ)=E[d],which shows that, also in the case of general arrivals, the average delays for both customer classes become identical when the interclass correlation approaches +1.

@&#CONCLUSIONS@&#
We have studied in this paper a simple discrete-time two-class priority queueing model, assuming independent (aggregated) arrivals from slot to slot combined with a general first-order Markovian interclass correlation model from slot to slot. For general arrival distributions, we have derived the main performance measures of the system in semi-analytical form, i.e., we have obtained explicit expressions for such quantities as the mean system content and the mean customer delay (globally, and also for both customer classes individually) in terms of the basic parameters of the model and one parameter (zˆ) which is only implicitly known through a non-linear equation that it satisfies. For the special case of geometric arrivals, we have even been able to derive fully closed-form expressions for the main performance measures in terms of the original system parameters only.The results reveal that the interclass correlation in the arrival process has a very direct and great influence on the amount of delay differentiation that the priority rule can achieve between the two customer classes in the system. We have observed that, in fact, strong positive interclass correlation completely destroys the delay-differentiating capabilities of the priority scheme.One main restriction in our model is the assumption that all customers arriving in the system during the same slot are necessarily of the same type. In an earlier paper (Maertens et al., 2012), we investigated a (mathematically) less complicated priority queueing model than the one considered here, namely, with the restriction that there is no interclass correlation between customers entering the system in different slots (i.e.,γ=0in the current terminology), but there may or may not be correlation between the types of the customers belonging to the same arrival batch (i.e., interclass correlation within the same slot). We observed in Maertens et al. (2012) that, even in this case without interclass correlation beyond the slot boundaries, assuming all customers of the same batch to have identical types leads to decreased delay differentiation as compared with the case where customer classes can be mixed inside the same arrival batch, but the delay differentiation cannot be annihilated. The current paper somehow extends the interclass correlation that may exist between the arrivals inside a slot beyond the slot boundaries and shows that it can actually be devastating for the main goal of the priority scheduling rule, i.e., to favor the delay performance of one customer class at the cost of a worse delay performance of the other class. We consider this to be the main qualitative conclusion of our paper.The model considered in this paper was fairly simple, the main goal being to examine the effect of interclass correlation on the delay differentiating capabilities of priority scheduling in a conceptual manner. In future work, we may consider various extensions to this basic model, such as multiple servers, more general service-time distributions, more than two priority classes, and non-independent (aggregated) arrivals.