@&#MAIN-TITLE@&#
Multiple Criteria Hierarchy Process for ELECTRE Tri methods

@&#HIGHLIGHTS@&#
ELECTRE Tri methods help solving multiple criteria sorting problems.We extend the ELECTRE Tri methods to take into account a hierarchical structure of the set of criteria.The Multiple Criteria Hierarchy Process is applied in conjunction with the ELECTRE Tri methods.An extension of the Simos–Roy–Figueira (SRF) method is proposed to compute the weights of criteria.A didactic example shows the applicability of the proposed methodology to real world decision problems.

@&#KEYPHRASES@&#
Multiple criteria decision aiding,Sorting problems,Multiple Criteria Hierarchy Process,ELECTRE Tri,

@&#ABSTRACT@&#
Sorting methods, in particular ELECTRE Tri methods, are widely used in Multiple Criteria Decision Aiding to deal with ordinal classification problems. Problems of this kind encountered in practice involve the evaluation of different alternatives (actions) on several evaluation criteria that are structured in a hierarchical way. In order to deal with a hierarchical structure of criteria in decision problems, Multiple Criteria Hierarchy Process (MCHP) has been recently proposed. In this paper, we apply the MCHP to the ELECTRE-Tri methods. In particular, we extend ELECTRE Tri-B, ELECTRE Tri-C and ELECTRE Tri-nC methods. We also adapt the MCHP concept to the case where interaction among evaluation criteria has either strengthening, or weakening, or antagonistic effect. Finally, we present an extension of the SRF method to determine the weights of criteria in case they are hierarchically structured.

@&#INTRODUCTION@&#
Multiple Criteria Decision Aiding (MCDA) methods deal with three major types of problems: choice, ranking and sorting (for a collection of surveys on MCDA see Figueira, Greco, and Ehrgott (2005)). Given a finite set of alternatives, choice problems consist in choosing a subset of best alternatives among the considered ones; ranking problems consist in rank ordering all the considered alternatives from the best to the worst, while sorting problems consist in assigning each alternative to one of the predefined and ordered categories (decision classes).Among the best known sorting methods, there are the ELECTRE Tri methods and, in particular, the ELECTRE Tri-B (Yu, 1992), the ELECTRE Tri-C (Almeida Dias, Figueira, & Roy, 2010) and the ELECTRE Tri-nC (Almeida Dias, Figueira, & Roy, 2012) methods (for other sorting methods see Moscarola and Roy (1977); Nemery and Lamboray (2008)).Given a set of alternativesA={a1,…,an}evaluated with respect to a set of evaluation criteriaG,and p categoriesCl1,…,Clpordered from the worst to the best (such thatClh+1≻Clh,for allh=1,…,p−1), the ELECTRE Tri methods aim at assigning each alternative of A to one or more contiguous categories. In ELECTRE Tri-B, each category Clhis delimited by two reference profilesbh−1and bh. The reference profilesbh−1and bhare fictitious alternatives evaluated on all criteria from setG. They are limiting category Chfrom the bottom and the top, respectively. In ELECTRE Tri-C and ELECTRE Tri-nC methods, each category is characterized by one reference profile or more than one reference profile, respectively which correspond to some typical objects of this category. In all three methods, the assignment of alternatives to categories depends on the comparison of these alternatives with the reference profiles corresponding to the categories, the comparison that takes into account the whole set of criteria. It is worth mentioning that the assignment of one alternative is not influenced by the assignment of another alternative. Recently, Bouyssou and Marchant investigated in Bouyssou and Marchant (2015) the relationship between ELECTRE Tri-B and ELECTRE Tri-C, providing also another variant of ELECTRE Tri-B. On one hand, they demonstrated that some sorting assignments obtained by ELECTRE Tri-B cannot be obtained by fixing adequate profiles in ELECTRE Tri-C and viceversa; on the other hand, the authors adapted ELECTRE Tri-B so that the pessimistic and the optimistic recommendations can be obtained one from the other by a transposition operation.11According to Bouyssou and Marchant (2015), the transposition operation consists in inverting the direction of preference on all criteria and in inverting the ordering of the categories.In all known sorting methods, all evaluation criteria are considered at the same level. However, practical decision problems often require consideration of a hierarchical structure of the set of criteria. Considering a hierarchy of criteria is also a way of decomposing complex decision problems involving criteria referring to various levels of detail in the evaluation. For example, let us consider a council that evaluates a set of projects with respect to different aspects: economic, environmental, social, etc. In order to make these evaluations, the council has to consider several indicators for each macro criterion, and each indicator is composed, in turn, of other subcriteria, and so on. Even if global evaluation of a single project is well appreciated, members of the council would appreciate having an insight into partial evaluation of the projects, referring to a greater level of detail, e.g., with respect to economic, environmental or social aspects considered separately. The Multiple Criteria Hierarchy Process (MCHP) has been recently proposed for this purpose. It deals with decision problems where criteria are structured hierarchically, and at each level of the hierarchy, they are aggregated using one of available aggregation methods: either those involving additive (Corrente, Greco, & Słowiński, 2012) or non-additive (Angilella, Corrente, Greco, & Słowiński, 2015) value functions, or those involving outranking relations (Corrente, Greco, & Słowiński, 2013b).The three main novelties introduced in this paper are the following:•MCHP has been applied to ELECTRE Tri-B, ELECTRE Tri-C and ELECTRE Tri-nC in a way which permits to sort the alternatives into different categories not only in the root, at the comprehensive level, but also with respect to a lower level criterion, represented by an intermediate node of the hierarchy tree. In the ELECTRE framework, we take into account three different outranking relations based on the concordance and non-discordance tests; we specify two coherence properties that should hold for outranking methods applied to problems involving criteria organized in a hierarchical way, and we provide necessary and sufficient conditions on the cutting of the credibility of outranking, such that these two properties are satisfied. Moreover, some theorems show the relationship between the assignments done by ELECTRE Tri-B at different levels of the hierarchy, using both the pessimistic and the optimistic assignment procedures. We show that in case of a flat structure of criteria, the proposed methods boil down to the classical ELECTRE Tri methods and, for this reason, they can be considered their generalizations;The Simos–Roy–Figueira (SRF) method (Figueira & Roy, 2002), used to determine the weights of criteria in the classical ELECTRE methods, has been extended to handle criteria organized in a hierarchical way. In this case, following a top-down procedure, the weights of all criteria in the hierarchy, starting from the root criterion to the elementary criteria, are obtained. Even if the extension of the SRF method has been proposed in this paper to deal with sorting problems, it can be applied to choice and ranking problems involving criteria organized in a hierarchical way if these problems are solved using methods in which weights are interpreted as in ELECTRE methods, for example, when using PROMETHEE methods (Brans & Vincke, 1985);A methodology for dealing with different types of interactions between criteria organized in a hierarchical way has been proposed; extending the proposal of Figueira, Greco, and Roy (2009), in this paper we explain how to deal with decision making problems in which criteria organized in a hierarchy can present different types of interactions, such as synergy, redundancy, and antagonistic effects. Also in this case, even if this methodology has been proposed for dealing with sorting problems, it can be applied to choice and ranking problems approached by methods in which importance of criteria is interpreted as in ELECTRE methods.The paper is organized as follows: Section 2 recalls the basic concepts of MCHP and ELECTRE Tri methods; in Section 3, we specify some coherence properties that should hold for hierarchical multiple criteria ELECTRE methods, as well as theorems ensuring them; in Section 4, we describe the application of MCHP to ELECTRE Tri methods, as well as their extension to the case of interacting criteria; an example of application of the proposed methodology to a real world decision making problem is presented in Section 5, while some concluding remarks and further directions of research are pointed out in Section 6.In MCHP (Corrente et al., 2012), we consider a set of criteria structured in a hierarchical way, i.e., criteria are not considered at the same level, but they are distributed over l different levels;Gdenotes the entire set of criteria considered at all levels;IGis the set of indices of particular criteria representing positions of criteria in the hierarchy; Gris a generic symbol of criterion from any level of the hierarchy; n(r) is the number of subcriteria of Grin the subsequent level, i.e., the direct subcriteria of GrareG(r,1),…,G(r,n(r));gt:A→Rdenotes an elementary criterion, i.e., a criterion at level l of the hierarchy tree; EL is the set of indices of all elementary criteria; E(Gr) is the set of indices of elementary criteria descending from Gr; LBO is the set of indices of all subcriteria located at the last but one level of the hierarchy and LB(Gr) is the set of indices of the subcriteria descending from Grlocated at the last but one level of the hierarchy (for a more detailed description of the notation used in MCHP, see Corrente et al. (2012)).Let us mention that, in the following, we shall suppose without loss of generality that all elementary criteria have an increasing direction of preference (the greater the evaluation of an alternative on an elementary criterion, the better the alternative is), and that whenr=0,then byGr=G0we mean the entire set of criteria and not a particular criterion or subcriterion; in this particular case,E(G0)=ELandLB(G0)=LBO.For each elementary criterion gt, t ∈ EL, the real number wtrepresents a relative importance (weight) of gtwithin the family of all elementary criteria, and we suppose, without loss of generality, that∑t∈ELwt=1.The indifference, preference and veto thresholds for each elementary criterion gtare denoted by qt, pt, and vt, respectively. qtis the greatest difference between evaluations of alternative a and b on elementary criterion gtcompatible with the indifference among them; ptis the smallest difference between evaluations of a and b on gt, being compatible with the preference of one alternative over the other; vtis an upper bound beyond which the discordance about the outranking of one alternative over the other cannot surpass. For consistency, 0 ≤ qt≤ pt< vt. In the following, for the sake of simplicity, we shall consider constant thresholds only, however, this assumption can easily be relaxed.Note 2.1Let us stress that, as we shall explain in Section 4, in ELECTRE Tri methods the assignment of an alternative to one of the considered categories depends on the comparison of the alternative with the reference profiles separating the categories. As the reference profiles can be seen as fictitious alternatives, the indices that we shall define in the following lines, are valid also for the comparison between two alternatives. For this reason, in defining these indices, by a and b we mean two alternatives or, an alternative and a reference profile.In all considered adaptations of ELECTRE Tri methods to MCHP, we shall define the following indices:•The elementary concordance index ϕt(a, b) for each elementary criterion gt:(1)ϕt(a,b)={1ifgt(b)−gt(a)≤qt,(aStb),pt−[gt(b)−gt(a)]pt−qtifqt<gt(b)−gt(a)<pt,(bQta),0ifgt(b)−gt(a)≥pt,(bPta).It represents the degree of concordance with the hypothesis of outranking of a over b on the elementary criterion gt. It is a non-increasing function of the differencegt(b)−gt(a). The binary relations assigned to the three above cases have the following meaning: St- outranking, Qt- weak preference, Pt- strict preference, all of them with respect to gt.The elementary discordance index dt(a, b) for each elementary criterion gt:(2)dt(a,b)={0ifgt(b)−gt(a)≤pt,[gt(b)−gt(a)]−ptvt−ptifpt<gt(b)−gt(a)<vt,1ifgt(b)−gt(a)≥vt.It represents the degree of discordance with the hypothesis that a outranks b on elementary criterion gt. Differently from ϕt(a, b), the partial discordance index is a non-decreasing function of the differencegt(b)−gt(a).The partial concordance index Cr(a, b) for each criterion Gr,r∈IG∖EL:(3)Cr(a,b)=∑t∈E(Gr)wtϕt(a,b).It represents the degree of concordance with the hypothesis of outranking of a over b on criterion Gr; it is computed taking into account simultaneously the preference of a over b on all the elementary criteria descending from criterion Gr.The partial credibility index σr(a, b) for each criterion Gr,r∈IG∖EL:(4)σr(a,b)=Cr(a,b)∏t∈F¯r1−dt(a,b)1−Cr(a,b)whereF¯r={t∈E(Gr):dt(a,b)>Cr(a,b)}.It represents the credibility of the outranking of a over b on criterion Gr, taking simultaneously into account all reasons in favor and all reasons against the preference of a over b on all elementary criteria descending from Gr.In order to design an assignment procedure of ELECRE-Tri type, we need, moreover, a cutting level λron the credibility of outranking with respect to each criterion Grin the hierarchy, except the elementary criteria.In addition, two assumptions should be made:1.Wr=∑t∈E(Gr)wt,for eachr∈IG; this means that the importance of criterion Grin the hierarchy is obtained by adding up the importances of all the elementary criteria descending from criterion Gr. As a consequence of this assumption, let us observe thatCr(a,b)=∑j=1n(r)C(r,j)(a,b).λr∈ [Wr/2, Wr], for allr∈IG∖EL.On the basis of the above definitions, we can give the following three different outranking relations for each non elementary criterion Grin the hierarchy:(O1)aSrIb⇔Cr(a,b)≥λr,aSrIIb⇔Cr(a,b)≥λrandgt(b)−gt(a)<vt,forallt∈E(Gr),aSrIIIb⇔σr(a,b)≥λr.The first outranking relation is based only on the reasons in favour of the outranking of a over b, while the second and the third outranking relations are defined taking into account simultaneously the reasons in favor and the reasons against the outranking of a over b in two different ways.Using any of the above outranking relations (here denoted generically by Sr), we can define the following binary relations for each non elementary criterion Grin the hierarchy:•a≻rb (a is preferred to b on criterion Gr) iff aSrb and not(bSra),a ∼rb (a is indifferent to b on criterion Gr) iff aSrb and bSra,a?rb (a is incomparable with b on criterion Gr) iff not(aSrb) and not(bSra).Let us denote by [Clh, Clk] the interval of contiguous categories going from Clhto Clk, 1 ≤ h ≤ k ≤ p, that is[Clh,Clk]={Clh,Clh+1,…,Clk−1,Clk}. We suppose that the number and the semantics of the categories are the same for all criteria in the hierarchy, i.e.,{Cl1,…,Clp}. In this way, we exclude the situation where an alternative could be assigned to interval of categories[Cl1,Clp1]if we considered criterionGr1,and to interval of categories[Cl1,Clp2]if we considered criterionGr2,with p1 ≠ p2.Given a criterion Gr,r∈IG∖{EL∪LBO},we impose two coherence properties:(C1)if aS(r, j)b,j=1,…,n(r),then aSrb,if not(aS(r, j)b),j=1,…,n(r),then not(aSrb).Coherence property (C1) states that if a outranks b on all subcriteria of Grin the subsequent level, then a should outrank b on criterion Gr, while coherence property (C2) states that if a does not outrank b for all subcriteria of Grin the subsequent level, then a should not outrank b also on criterion Gr. To motivate this property, let us suppose that we compare students a and b with respect to mathematics, and that algebra and geometry are direct subcriteria of mathematics. Coherence property (C1) ensures that if student a outranks student b on algebra and geometry, then a outranks b also on mathematics; analogously, coherence property (C2) ensures that if a does not outrank b neither on algebra nor on geometry, then a does not outrank b on mathematics.Considering the outranking relations (O1) and (O2), we look for some conditions on the parameters of the model and, in particular, on the cutting levels, such that coherence properties (C1) and (C2) are satisfied. Theorem 3.1 provides necessary and sufficient conditions ensuring that the coherence properties (C1) and (C2) hold.Theorem 3.1Let Gr,r∈IG∖{EL∪LBO}and let us define, for eachj=1,…,n(r),•setYS(r,j)={∑t∈A⊆E(G(r,j))wtϕt:{ϕt∈{0,1}ifqt=pt,(quasi-criterion)ϕt∈[0,1]if0≤qt<pt,(pseudo-criterion)∑t∈A⊆E(G(r,j))wtϕt≥λ(r,j),},m(r,j)=minYS(r,j),setNS(r,j)={∑t∈B⊆E(G(r,j))wtϕt:{ϕt∈{0,1}ifqt=pt,ϕt∈[0,1]if0≤qt<pt,∑t∈B⊆E(G(r,j))wtϕt<λ(r,j),},M(r,j)=supNS(r,j),mr=∑j=1n(r)m(r,j),andMr=∑j=1n(r)M(r,j),then properties (C1) and (C2) hold if and only if{Mr<λr≤mrifM(r,j)=maxNS(r,j),forallj=1,…,n(r),(*)Mr≤λr≤mrifM(r,j)=supNS(r,j)=λ(r,j),foratleastonej∈{1,…,n(r)}(**)Theorem 3.1 can be explained in the following way: let Gra criterion in the hierarchy having G(r, j),j=1,…,n(r),as direct subcriteria, and let λ(r, j) the cutting level associated with criterion G(r, j),j=1,…,n(r). Computing for each criterion G(r, j) the minimum of the set of the reachable concordance indices C(r, j) being not smaller than the cutting level λ(r, j), that is m(r, j), and the supremum of the set of the reachable concordance indices C(r, j) being smaller than the corresponding cutting level λ(r, j), that is M(r, j), if the cutting level λris in the interval of extremes∑j=1n(r)M(r,j)and∑j=1n(r)m(r,j),then coherence properties (C1) and (C2) are satisfied, and viceversa. On one hand,∑j=1n(r)M(r,j)can be interpreted as the maximum value of the concordance index Cr(a, b), such that not(aS(r, j)b) holds for allj=1,…,n(r); this means that considering a value of the concordance index Cr(a, b) greater than M(r, j) implies that aS(r, j)b holds for at least onej∈{1,…,n(r)}; on the other hand,∑j=1n(r)m(r,j)can be interpreted as the minimum value of the concordance index Cr(a, b), such that aS(r, j)b holds for allj=1,…,n(r); this means that considering a value of the concordance index Cr(a, b) smaller than m(r, j), not(aS(r, j)b) holds for at least onej∈{1,…,n(r)}.Let us observe that Theorem 3.1 is really important, not only because it provides necessary and sufficient conditions on the cutting levels, such that coherence properties (C1) and (C2) are satisfied, but also because it provides a hint on how to fix the cutting level λrof criterion Grknowing the cutting levels λ(r, j) of all direct subcriteria G(r, j),j=1,…,n(r),of criterion Gr.Note 3.1It is meaningful to observe that m(r, j) could be different from λ(r, j) and that the presence of at least one pseudo-criterion among the elementary criteria of Grdoes not ensure that the value λ(r, j) could be reached. For example, let us considerE(G(r,1))={g(r,1,1),g(r,1,2),g(r,1,3)}havingw(r,1,1)=0.4,w(r,1,2)=0.4andw(r,1,3)=0.2as weights, and that g(r, 1, 1) and g(r, 1, 2) are quasi-criteria, while g(r, 1, 3) is a pseudo-criterion. This implies that wtϕt∈ {0, 0.4},t=(r,1,1),(r,1,2)and w(r, 1, 3)ϕ(r, 1, 3) ∈ [0, 0.2]. As a consequence∑i=13w(r,1,i)ϕ(r,1,i)∈{[0,0.2]ifϕ1=ϕ2=0,[0.4,0.6]ifϕ1=1andϕ2=0orviceversa,[0.8,1]ifϕ1=ϕ2=1.This means that a cutting level λ(r, 1) ∈ ]0.6, 0.8[ can never be reached (analogously for a hypothetical cutting level belonging to ]0.2, 0.4[, even if this level is non-acceptable for the hypothesis that it should be not smaller than a half of the sum of weights of the considered criteria, and, therefore, at least equal to 0.5).Let us observe that, if we fixedλ(r,1)=0.7,thenm(r,1)=0.8,while if we fixedλ(r,1)=0.9,thenm(r,1)=0.9because this value can be reached.To be yet more precise, let us also observe the difference between cases (*) and (**).If we setλ(r,1)=0.7,thenM(r,1)=0.6being the maximum of NS(r, 1). If, instead, we setλ(r,1)=0.55,thenM(r,1)=0.55is a supremum of NS(r, 1) but not a maximum.Looking at Theorem 3.1, one can ask why the two coherence properties do not involve any condition on the veto thresholds while the definition of outranking relation O2) involves the veto thresholds. The reason is the following. Noting that for each criterion Gr,E(Gr)=⋃j=1n(r)E(G(r,j)),considering two alternatives a, b ∈ A, if a outranks b on G(r, j),j=1,…,n(r),then no elementary criterion descending from G(r, j) opposes a veto to the ouranking of a over b on G(r, j); as a consequence, no elementary criterion descending from E(Gr) opposes a veto to the outranking of a over b on criterion Gr. Formally,•if aS(r, j)b for allj=1,…,n(r),thengt(b)−gt(a)<vtfor all t ∈ E(G(r, j)) and, consequently,gt(b)−gt(a)<vtfor all t ∈ E(Gr), implying that aSrb.Analogously, if a does not outrank b on G(r, j),j∈{1,…,n(r)},because there is one elementary criterion descending from G(r, j) opposing a veto to the outranking of a over b on G(r, j), then the same elementary criterion, being an elementary criterion of Gr, will also oppose a veto to the outranking of a over b on Gr. Formally, supposing that C(r, j)(a, b) ≥ λ(r, j) for allj=1,…,n(r),•if not(aS(r, j)b) for somej∈{1,…,n(r)},thengt(b)−gt(a)≥vtfor at least one t ∈ E(G(r, j)) and, consequently,gt(b)−gt(a)≥vtfor at least one t ∈ E(Gr), implying not(aSrb).This is the reason for which Theorem 3.1 and, therefore, Corollaries 3.1 and 3.2 do not put any restriction on the veto thresholds but on the cutting levels only.of Theorem 3.1.(⇒) Let us prove the thesis in case (*).Let us suppose, for contradiction, that Mr≥ λr, and let a, b ∈ A such thatC(r,j)(a,b)=M(r,j)for allj=1,…,n(r). This implies not(aS(r, j)b) for allj=1,…,n(r). Adding up with respect to the j index, we haveCr(a,b)=∑j=1n(r)M(r,j)=Mr≥λrand, consequently, aSrb, which contradicts the coherence property (C2).Let us prove the thesis in case (**).Let us suppose, for contradiction, that Mr> λrand, let us consider a, b ∈ A such thatC(r,j)(a,b)=M(r,j)−ɛfor allj=1,…,n(r)with ε > 0. In this case, since M(r, j) ≤ λ(r, j), we shall have not(aS(r, j)b) for allj=1,…,n(r). Adding up with respect to j, we getCr(a,b)=∑j=1n(r)M(r,j)−n(r)×ɛ=Mr−n(r)×ɛ. Then, setting0<ɛ<Mr−λrn(r),we shall get that Cr(a, b) > λr, which contradicts the coherence property (C2).(⇐) Let a, b ∈ A such that aS(r, j)b for allj=1,…,n(r). This implies that C(r, j)(a, b) ≥ λ(r, j) for allj=1,…,n(r). Consequently, C(r, j)(a, b) ∈ YS(r, j) and C(r, j)(a, b) ≥ m(r, j) for allj=1,…,n(r). Adding up with respect to j, we getCr(a,b)=∑j=1n(r)C(r,j)(a,b)≥∑j=1n(r)m(r,j)=mr≥λrand, therefore, Cr(a, b) ≥ λrimplying that aSrb being coherence property (C1).In a first moment, let us prove that coherence property (C2) holds under hypothesis (*).Let a, b ∈ A be such that not(aS(r, j)b) for allj=1,…,n(r). This implies that C(r, j)(a, b) < λ(r, j) for allj=1,…,n(r)and, consequently, C(r, j)(a, b) ∈ NS(r, j) and C(r, j)(a, b) ≤ M(r, j) for allj=1,…,n(r). Adding up with respect to j, we getCr(a,b)=∑j=1n(r)C(r,j)(a,b)≤∑j=1n(r)M(r,j)=Mr<λr. Therefore, Cr(a, b) < λrand, as a consequence, not(aSrb).Now, let us prove that coherence property (C2) holds under hypothesis (**).Let a, b ∈ A be such that not(aS(r, j)b) for allj=1,…,n(r). This implies that C(r, j)(a, b) < λ(r, j) for allj=1,…,n(r)and, consequently, C(r, j)(a, b) ∈ NS(r, j). Since for some j,M(r,j)=supNS(r,j)but it is not a maximum, then, for such j we shall have C(r, j) < M(r, j). As a consequence, adding up with respect to j, we getCr(a,b)=∑j=1n(r)C(r,j)(a,b)<∑j=1n(r)M(r,j)=Mr≤λr. Therefore, Cr(a, b) < λrand, as a consequence, not(aSrb) being coherence property (C2).□Two Corollaries follow from Theorem 3.1. They correspond to the case where all elementary criteria are quasi-criteria, and to the case where all elementary criteria are pseudo-criteria, respectively.Corollary 3.1Let us suppose that all elementary criteria are quasi-criteria (qt=ptfor allt ∈ EL) and let give the following definitions for each Gr,r∈IG∖{EL∪LBO}and, for eachj=1,…,n(r):•setYS(r,j)={∑t∈A⊆E(G(r,j))wt:∑t∈A⊆E(G(r,j))wt≥λ(r,j)},m(r,j)=minYS(r,j),setNS(r,j)={∑t∈B⊆E(G(r,j))wt:∑t∈B⊆E(G(r,j))wt<λ(r,j)},M(r,j)=maxNS(r,j),mr=∑j=1n(r)m(r,j),andMr=∑j=1n(r)M(r,j),then coherence properties (C1) and (C2) hold if and only if Mr< λr≤ mr.Two things should be noted in this case:1.Since all elementary criteria are quasi-criteria, the partial concordance index can only get value 0 or 1. Therefore, in sets YS(r, j) (analogously, in sets NS(r, j)), we have to take into account the coalitions of elementary criteria descending from G(r, j) such that the sum of the importance coefficients is at least equal (smaller than) the cutting level λ(r, j).We have to consider case (*) only, because in this case, NS(r, j) is composed of a finite number of elements and, consequently, it has always a maximum.□If all elementary criteria are pseudo-criteria (0 ≤ qt< ptfor allt ∈ EL), then coherence properties (C1) and (C2) hold if and only ifλr=∑j=1n(r)λ(r,j)for allr∈IG∖{EL∪LBO}.It is sufficient to observe that in this case,∑t∈A⊆E(G(r,j))wtϕtcould take all values in the interval [0, W(r, j)] and, in consequence,(5)m(r,j)=λ(r,j)=M(r,j)forallj=1,…,n(r).By equation (5) we getmr=∑j=1n(r)m(r,j)=∑j=1n(r)λ(r,j)andMr=∑j=1n(r)M(r,j)=∑j=1n(r)λ(r,j),and since in this case the hypothesis (**) holds, we get the thesis.□In the following, we shall suppose without loss of generality that all elementary criteria are pseudo-criteria and that coherence properties (C1) and (C2) are satisfied. From Corollary 3.2 it follows thatλr=∑j=1n(r)λ(r,j)for allGr,r∈IG∖ELand, consequently, one needs to define the cutting level λ only for the subcriteria located at the last but one level of the hierarchy, that is subcriteria Gs, s ∈ LBO. In fact, from this it obviously follows thatλr=∑s∈LB(Gr)λsfor eachGr,r∈IG∖EL.Note 3.3Let us observe that Theorem 3.1, as well as Corollaries 3.1 and 3.2, do not hold for hierarchical versions of ELECTRE Tri sorting methods only, but also for hierarchical versions of other ELECTRE methods dealing with ranking and choice problems. In general, the coherence properties (C1) and (C2) hold for the outranking relation considered in a hierarchical setting.In this section, we shall apply MCHP to the three considered ELECTRE Tri methods, and we shall explain how to extend the concordance indices previously defined to the case of interacting elementary criteria.Given an alternative a ∈ A and a criterion Gr,r∈IG∖EL,two different assignment procedures can be defined:•Pessimistic assignment:−compare successively a to bhon criterion Gr, forh=p,p−1,…,0,blbeing the first reference profile such that aSrbl, assign a to categoryCll+1(we shall writea→rCll+1).Optimistic assignment:−compare a successively to bhon criterion Gr, forh=1,2,…,p,blbeing the first reference profile such that bl≻ra, assign a to category Cll.Let us precise that b0 and bpare two extreme profiles, such that a≻rb0, and bp≻ra for all a ∈ A, and for all criteria Gr,r∈IG∖EL.Definition 4.1Given a, b ∈ A and Gr,r∈IG∖EL,we say that:•a dominates b iff gt(a) ≥ gt(b), for all t ∈ EL, and there exists at least one t1 ∈ EL such thatgt1(a)>gt1(b),a dominates b with respect to criterion Grif gt(a) ≥ gt(b), for all t ∈ E(Gr), and there exists at least one t1 ∈ E(Gr) such thatgt1(a)>gt1(b).Considering the first two outranking relations (O1) and (O2) defined above, we give a Lemma to prove the following Theorem 4.1:Lemma 4.1Given a, b, c ∈ A and the criterion Gr,r∈IG,(1)if a dominates b with respect to criterion Grand bSrc, then aSrc,if aSrb and b dominates c with respect to criterion Gr, then aSrc,if c dominates a with respect to criterion Grand not(cSrb), then not(aSrb),if not(aSrb) and c dominates b with respect to criterion Gr, then not(aSrc).See Appendix A.□Applying MCHP to ELECTRE Tri-B, we get the following theorem:Theorem 4.1Given alternative a ∈ A, and criterion Gr,r∈IG∖EL,the following implication holds:a→(r,1)Clk1,a→(r,2)Clk2,…,a→(r,n(r))Clkn(r)⇒a→rClkwhere•min{k1,k2,…,kn(r)}≤k≤max{k1,k2,…,kn(r)}if we consider the pessimistic assignment,k≤max{k1,k2,…,kn(r)}if we consider the optimistic assignment.See Appendix A.□We note that in the optimistic assignment it is possible that alternative a is assigned to category Clkwithk<min{k1,…,kn(r)}because, in general, not(bh≻(r, j)a) for allj=1,…,n(r)does not imply not(bh≻ra). This means that it is possible that bhis not preferred to a for all direct subcriteria of criterion Gr, but bhis preferred to a on Gr. In consequence, even if alternative a is assigned to categoryClh+1by all subcriteria Gr, it is assigned to category Clhat the aggregate level by criterion Gr.The following example confirms and explains the strange situation observed in Note 4.1 due to the property of the optimistic classification procedure proposed by the authors of ELECTRE Tri.Inspired by Belton and Stewart (2002), let us suppose that a USA company decides to open an office in Europe and, for this reason, the managing director has to decide the best location for it. Each possible location is characterized by two main factors that are business potential (G1) and staffing issues (G2); in particular, the public sector business potential (g(1, 1)) and the private sector business potential (g(1, 2)) are elementary criteria of G1, while the attractiveness to USA staff (g(2, 1)) and the availability of staff (g(2, 2)) are elementary criteria of G2. The hierarchy of the considered criteria is shown in Fig. 1.Let us suppose that each considered location has to be assigned to one of the following categories of suitability: “Bad” (Cl1), “Medium” (Cl2) and “Good” (Cl3). Let us also focus on the optimistic assignment of a single location a with respect to criteria G1and G2, as well as with respect to the comprehensive level G0. The evaluations of a and those of the reference profiles b1 and b2 separating the categories “Bad–Medium” and “Medium–Good”, respectively, are provided in Table 1(a). The elementary criteria are supposed to be equally important and, therefore, the weight assigned to each elementary criterion is equal to 0.25. Moreover, the indifference and preference thresholds are fixed to be 1 and 3, respectively, for all elementary criteria, while the cutting levels for subcriteria G1and G2are set toλ1=λ2=0.35and, consequently, the cutting level for criterion G0is set toλ0=0.7. No veto threshold is assumed for any elementary criterion.Looking at Table 1(b), one can observe that(α)C1(a,b1)=0.4≥0.35=λ1⇒aS1b1,andC1(b1,a)=0.5≥0.35=λ1⇒b1S1a,C1(a,b2)=0.175<0.35=λ1⇒not(aS1b2),andC1(b2,a)=0.5≥0.35=λ1⇒b2S1a.For (α), a ∼1b1, while forβ), b2≻1a. Consequently, the optimistic procedure applied in G1will make the following assignment:a→1Cl2.Looking at Table 1(c), one can observe that(γ)C2(a,b1)=0.25<0.35=λ2⇒not(aS2b1),andC2(b1,a)=0.25<0.35=λ2⇒not(b1S2a),C2(a,b2)=0.25<0.35=λ2⇒not(aS2b2),andC2(b2,a)=0.5≥0.35=λ2⇒b2S2a.For (γ), a?2b1, while for (δ), b2≻2a. Consequently, the optimistic procedure applied in G2will make the following assignment:a→2Cl2.Looking, in turn, at Table 1(d), we can observe that(θ)C0(a,b1)=0.65<0.7=λ0⇒not(aS0b1),andC0(b1,a)=0.75≥0.7=λ0⇒b1S0a.For (θ), b1≻0a and, consequently, the optimistic procedure applied in G0will make the following assignment:a→0Cl1.The above example concerns the problem of sorting, however, an analogical situation may also happen when alternatives are compared pairwise, like in the choice or ranking problem in the presence of hierarchical criteria, and subject to interpretation of both outranking and inverse outranking relation on a pair a, b that gives preference, or indifference, or incomparability. Indeed, even if alternative a is not preferred to alternative b with respect to any of the subcriteriaG(r,1),…,G(r,n(r))of criterion Gr, when a is indifferent to b on some of these subcriteria and a is incomparable with b on the remaining subcriteria, it is still possible that a is preferred to b with respect to criterion Gr. We stressed that a is indifferent to b on some subcriteria and it is incomparable with b on the remaining ones since, for the coherence properties (C1) and (C2), if a is indifferent to b with respect to all G(r, j),j=1,…,n(r),then a is indifferent to b also with respect to Gr;22If a is indifferent to b with respect to all G(r, j), then aS(r, j)b and bS(r, j)a for allj=1,…,n(r). Consequently, by coherence property (C1), aSrb and bSra and, therefore, a ∼rb.analogously, if a is incomparable with b with respect to all subcriteria G(r, j),j=1,…,n(r),then a is incomparable with b also with respect to Gr.33If a is incomparable with b with respect to all G(r, j), then not(aS(r, j)b) and not(bS(r, j)a) for allj=1,…,n(r). Consequently, by coherence property (C2), not(aSrb) and not(bSra) and, therefore, a?rb.We deferred to the Appendix B, the formal explanation of the reason for which the strange situation highlighted in Note 4.1 can occur.The reader could argue that more than being strange, the previous situation should not occur in practice since it may seem inadmissible that an alternative a is assigned on criterion Grto a category lower than the minimum category to which the same alternative is assigned on the subcriteria directly descending from Gr. For this reason, we propose a new procedure that avoids this strange situation. The proposed modification of the optimistic procedure is composed of the following steps:step (1)compute the optimistic assignment of alternative a with respect to subcriteriaG(r,1),…,G(r,n(r))and denote byClk1,…,Clkn(r)the categories to which alternative a is assigned with respect to these subcriteria,compute the optimistic assignment of alternative a with respect to subcriterion Grand denote by Clkthe category to which a is assigned with respect to this subcriterion,assign alternative a with respect to criterion Grto categoryClk′wherek′=max{k,min{k1,…,kn(r)}}.By using the proposed modification of the optimistic procedure, the categoryClk′to which a is assigned with respect to criterion Gris for sure not lower than the minimum category to which a is assigned with respect to subcriteriaG(r,1),…,G(r,n(r)). In particular, by using the proposed procedure, in the previous example, alternative a should be assigned to category Cl2 with respect to criterion G0. Indeed, since according to step (2), a is assigned to category Cl2, both with respect to subcriteria G1and G2(thereforek1=k2=2) and it is assigned to category Cl1 with respect to criterion G0(k=1), then according to step (3), the new category to which a should be assigned with respect to criterion G0 is Cl2:k′=max{k,min{k1,k2}}=max{1,min{2,2}}=max{1,2}=2.In contrast to ELECTRE Tri-B, where each category Clhis characterized by two reference profiles corresponding to the limits of this category, in ELECTRE Tri-C each category Clhis characterized by one reference profile bhonly, being representative of the category. The construction of the credibility indices is the same as that of ELECTRE Tri-B. Considering p categories, in addition to the reference profilesb1,…,bpbelonging to set B and being representative of the categoriesCl1,…,Clp,two other extreme profiles, b0 andbp+1,have to be defined, such thatgt(b0)<gt(a)<gt(bp+1),gt(b1) > gt(b0) andgt(bp+1)>gt(bp)for all t ∈ EL. In order to adapt ELECTRE Tri-C to MCHP, following Almeida Dias et al. (2010), two reference profiles,bh+1and bh, define two distinct categories only ifbh+1is at least weakly preferred to bhon at least one elementary criterion (i.e.,bh+1Qtbhfor some t ∈ EL). For this reason, we shall impose thatσs(bh,bh+1)<Wsfor all s ∈ LBO and for allh=0,…,p.Remark 4.1Let us observe that imposingσs(bh,bh+1)<Wsfor all s ∈ LBO and for allh=0,…,p,we get thatσ0(bh,bh+1)<1for allh=0,…,p,being the weak separability condition in ELECTRE Tri-C.More distinct categories can be obtained by imposing the strict and the hyper-strict separability conditions. Regarding the application of MCHP to ELECTRE Tri-C, the strict and hyper-strict separability conditions defined for non-hierarchical ELECTRE Tri-C can be redefined imposing thatσs(bh,bh+1)<Ws2andσs(bh,bh+1)=0for all s ∈ LBO and for allh=0,…,p,respectively. On one hand, the strict separability condition imposes that less than a half of elementary criteria descending from criterion Gs, s ∈ LBO, have to be in favor of the outranking of bhonbh+1with respect to criterion Gs, for allh=0,…,p. On the other hand, imposing the hyper-strict separability condition is equivalent to impose thatbh+1is strictly preferred to bhfor all elementary criteria.When MCHP is applied to ELECTRE Tri-C, for each criterion Gr,r∈IG∖EL,we can define the two following assignment rules:•Descending rule: For a chosen cutting level λr∈ [Wr/2, Wr], decrease h from p until the first value l, such that σr(a, bl) ≥ λr:−forl=p,assign a to category Clp,for 0 < l < p, ifρr(a,bl)>ρr(a,bl+1),then assign a to category Cll, otherwise assign a toCll+1,forl=0,assign a to category Cl1.Ascending rule: For a chosen cutting level λr∈ [Wr/2, Wr], increase h from one until the first value l, such that σr(bl, a) ≥ λr:−forl=1,assign a to category Cl1,for1<l<p+1,ifρr(a,bl)>ρr(a,bl−1),then assign a to category Cll, otherwise assign a toCll−1,fork=p+1,assign a to category Clp.In both the descending and the ascending rules,ρr(a,bh)=min{σr(a,bh),σr(bh,a)}.In contrast to ELECTRE Tri-C, where each category Clhis characterized by one reference profile only, in ELECTRE Tri-nC, each category Clhis represented by mh≥ 1 reference profiles. Denoting byBh={bh1,…,bhmh}the set of reference profiles defining category Clh, in order to apply MCHP to ELECTRE Tri-nC, we have to considerp+2setsB0,B1,…,Bp,Bp+1,where B0 andBp+1are composed, respectively, of the extreme reference profilesb01andbp+11,such thatgt(b01)<gt(a)<gt(bp+11),gt(b1k)>gt(b01)andgt(bp+11)>gt(bpl)for allk=1,…,m1,l=1,…,mp,and for all t ∈ EL.Because each category Clhis now represented by a set of reference profiles Bh, the separability conditions given in ELECTRE Tri-C are reformulated in ELECTRE Tri-nC as follows:•Weak separability condition:σs(bhk,bh+1l)<Ws,for all s ∈ LBO,k=1,…,mh,l=1,…,mh+1,andh=1,…,p−1,Strict separability condition:σs(bhk,bh+1l)<Ws2,for all s ∈ LBO,k=1,…,mh,l=1,…,mh+1,andh=1,…,p−1,Hyper-strict separability condition:σs(bhk,bh+1l)=0,for all s ∈ LBO,k=1,…,mh,l=1,…,mh+1,andh=1,…,p−1.We note again that imposing the separability conditions for all s ∈ LBO, we get the separability conditions on the whole hierarchy of criteria, as in ELECTRE Tri-nC.The assignment procedure for an alternative a ∈ A with respect to criterion Gr,r∈IG,is based on the computation of the credibility indices σr({a}, Bh) and σr(Bh, {a}) defined for allh=1,…,pas follows:•σr({a},Bh)=maxk=1,…,mh{σr(a,bhk)},σr(Bh,{a})=maxk=1,…,mh{σr(bhk,a)}.Given a criterion Gr,r∈IG∖EL,two assignment rules can be defined for ELECTRE Tri-nC:•Descending rule: For a chosen cutting level λr, decrease h from p until the first value l, such that σr({a}, Bl) ≥ λr:−forl=p,assign a to category Clp,for 0 < l < p, ifρr({a},Bl)>ρr({a},Bl+1),then assign a to category Cll, otherwise assign a toCll+1,forl=0,assign a to category Cl1.Ascending rule: For a chosen cutting level λr, increase h from one until the first value l, such that σr(Bl, {a}) ≥ λr:−forl=1,assign a to category Cl1,for1<l<p+1,ifρr({a},Bl)>ρr({a},Bl−1),then assign a to category Cll, otherwise assign a toCll−1,forl=p+1,assign a to category Clp.In both the descending and the ascending rules, we defineρr({a},Bh)=min{σr({a},Bh),σr(Bh,{a})}.Note 4.3Let us note that the pessimistic and optimistic assignments of ELECTRE Tri-B, as well as the ascending and descending rules of ELECTRE Tri-C and ELECTRE Tri-nC for a flat structure of criteria, can be easily obtained by consideringGr=G0,that is by considering the entire set of criteria and not a particular criterion or subcriterion only. Indeed, the rules defined for the extensions of ELECTRE Tri methods to the case of hierarchy of criteria are exactly the same as the rules defined for ELECTRE Tri methods considering a flat structure of criteria, excepting that in these rules we consider a particular criterion in the hierarchy only. Moreover,C0(a,b)=C(a,b)for all a, b ∈ A, where C(a, b) is the comprehensive concordance index of the classical ELECTRE methods.A typical approach to determine the weights of criteria in the ELECTRE methods is the Simos–Roy–Figueira (SRF) method that has been proposed by Figueira and Roy (2002), improving the original proposal of Simos (1990a, 1990b). Using the SRF method, each criterion is written on one card, and there are also empty cards. The DM is asked to put the cards in a rank order from the least important to the most important. Criteria that are considered as equally important are getting the same rank. Moreover, the DM can put one or more empty cards separating some criteria in the rank order. Each empty card is put in one rank. The greater the number of empty cards separating two sets of indifferent criteria, the greater is the difference of importance between these sets of criteria. Thus, ifJ={1,…,m}is the set of considered criteria, let us denote by L1 the set of the least important criteria, by L2 the set of second least important criteria, and so on, until Lvbeing the set of the most important criteria,L1,L2,…,Lv⊆J,Ls∩Lt=∅for alls≠t,s,t=1,…,v. Let us denote by esthe number of empty cards between LsandLs+1,s=1,…,v−1. Moreover, the DM is asked to define a ratio z between the weights of criteria from Lvand criteria from L1. Using this information, to each criterionj∈Jis assigned the following non-normalized weight:(6)wj′=1+(z−1)[l(j)−1+∑s=1l(j)−1es]v−1+∑s=1v−1eswhere l(j) denotes the rank of importance to which criterion j belongs, i.e., j ∈ Ll(j). The normalized weight wjassigned to each criterionj∈Jis therefore obtained as follows:(7)wj=wj′∑i∈Jwi′.The same procedure can be used in case of the hierarchy of criteria as follows. Starting from the root G0, and continuing from the top to the bottom, for each criterion Gr,r∈IG∖EL,the DM is asked to rank the criteriaG(r,1),…,G(r,n(r))from the least important to the most important, with L(r, 1) the set of the least important criteria and L(r, v(r)) the set of the most important criteria, such thatL(r,s1)∩L(r,s2)=∅for all s1 ≠ s2, ands1,s2=1,…,v(r). Let us denote by e(r, s) the number of empty cards between sets L(r, s) andL(r,s+1),s=1,…,v(r)−1. Moreover, the DM is asked to define a ratio zrbetween the weight of criteria from L(r, v(r)), and criteria from L(r, 1). Using the SRF method, a locally normalized weightw(r,j)*is assigned to each criterion G(r, j),j=1,…,n(r),as follows:(8)w(r,j)*=w(r,j)′∑s=1n(r)w(r,s)′where(9)w(r,j)′=1+(zr−1)[l(r,j)−1+∑s=1l(r,j)−1e(r,s)]v(r)−1+∑s=1v(r)−1e(r,s)and l(r, s) denotes the rank to which criterion G(r, s) belongs, i.e., (r, s) ∈ Ll(r, s). The final globally normalized weights are, therefore, obtained as follows:•wr=wr*for all Grin the first level of the hierarchy,w(r,s)=wrw(r,s)*,s=1,…,n(r),where wris the globally normalized weight of criterion Gr.This means that the weight wrassigned to the first level criterion Gris that one obtained by applying the SRF method to the set composed of all first level criteria, while the weight w(r, s) assigned to any criterion G(r, s) in the lower level of the hierarchy is obtained by multiplying the weightw(r,s)*of G(r, s), obtained by the SRF method for the set of criteria{G(r,s),s=1,…,n(r)},by the weight of criterion Grfrom the higher level of the hierarchy (Grbeing the direct parent of G(r, s)).Observe that•∑s=1n(r)w(r,s)*=1for all criteria Gr,r∈IG∖EL,∑t∈ELwt=1.The following example illustrates the application of the SRF method to a hierarchy of criteria. Let us suppose we have a set of criteria organized in two different levels, as shown in Fig. 2.Suppose that the DM orders before the first level criteria, and then the second level (elementary) criteria. The ordering always starts from the least important to the most important criterion in the considered set. In our example, the DM put the first level criteria in the following order: G1, G3, G2. Moreover, he put one empty card between G1and G3, and two empty cards between G3and G2. For him, G2is ten times more important than G1, soz=10. By applying the SRF method to this set of criteria we get the following weights:w1=w1*=0.064,w2=w2*=0.641andw3=w3*=0.294. After that, the DM gave the following order of subcriteria from G1: g(1, 3), g(1, 2), and in the same rank g(1, 1) and g(1, 4). He also put one empty card between g(1, 3) and g(1, 2), and stated that the first rank criteria (g(1, 1) and g(1, 4)) are three times more important than the last rank criterion (g(1, 3)), so thatz1=3. Applying the SRF method to these four criteria we get the weightsw(1,1)*=0.321,w(1,2)*=0.25,w(1,3)*=0.107,w(1,4)*=0.321. Since these criteria are subcriteria of G1whose weight isw1=0.064,the weightsw(1,i)*,i=1,…,4,should be multiplied by w1. Consequently, we get the final weightsw(1,1)=0.02,w(1,2)=0.016,w(1,3)=0.006,w(1,4)=0.02. Proceeding analogously for the two other subsets of elementary criteria, one gets the weights presented in Table 2.Let us observe that the proposed extension of the SRF method can be applied not only to ELECTRE methods dealing with sorting decision problems but also to all other hierarchical MCDA methods where it is meaningful to use criteria weights having the interpretation of relative voting power in non-compensatory aggregation, and not of substitution rates like in the weighted sum.In the classical ELECTRE methods, it is supposed that there is not any significant interaction between criteria but, in many real world decision problems, the evaluation criteria could present a certain degree of interaction that, according to Figueira et al. (2009), can be of three types: mutual strengthening effect (synergy), mutual weakening effect (redundancy), and antagonistic effect. For example, when evaluating sport cars, the criteria maximum speed and acceleration may be considered redundant because, in general, speedy cars have also a good acceleration. Therefore, even if these two criteria can be very important for a DM liking sport cars, their comprehensive importance is smaller than the sum of the importance of the two criteria considered separately. On the other hand, the criteria maximum speed and price contribute to a synergy effect because a speedy car with a low price is very well appreciated. For this reason, the comprehensive importance of these two criteria should be greater than the sum of importance of the two criteria considered separately. Besides, when evaluating a car having good price but bad safety, the weight of criterion price can be reduced because even if the DM appreciates the low price she is really concerned about the safety of the car. In the latter case, the two criteria are antagonistic.In this section, we shall describe how to deal with the interaction between any two criteria in case of the MCHP applied to ELECTRE Tri methods.Considering the elementary criteriongt1in favour of the outranking of an alternative a over an alternative b, we have that:•if elementary criteriongt2is in favour of the outranking of a over b and both criteria present a certain degree of synergy, then this synergy is considered by adding a valuewt1t2>0in the computation of the concordance index C(a, b),if elementary criteriongt2is in favour of the outranking of a over b but both criteria present a certain degree of redundancy, then this redundancy is considered by adding a valuewt1t2<0in the computation of the concordance index C(a, b),if elementary criteriongt2is opposed to the outranking and the DM decides that there is an antagonism between the two criteria, then the antagonistic effect is considered by adding a valuewt1t2′<0in the computation of the concordance index C(a, b).Let us observe that in case of synergy or redundancy of two elementary criteria, we havewt1t2=wt2t1,while in case of antagonism between two elementary criteria it is possible thatwt1t2′≠wt2t1′.In Figueira et al. (2009), in order to avoid that interactions between criteria can render negative the contribution of each criterion, a positive net balance has been considered. It can be expressed as follows:Condition 4.1For all t1 ∈ EL,(10)wt1−(∑t2∈EL:wt1t2<0|wt1t2|+∑t3∈ELwt1t3′)>0Moreover, in the MCHP case, we need that this condition holds not only comprehensively but also at each node of the hierarchy. As a consequence, Condition 4.1 has to be extended as follows:Condition 4.2For all Gr,r∈IG∖EL,and for all t1 ∈ E(Gr),(11)wt1−(∑t2∈E(Gr):wt1t2<0|wt1t2|+∑t3∈E(Gr)wt1t3′)>0Let us observe that (10) can be seen as a particular case of (11) if we considerGr=G0. Note, moreover, that Condition 4.2 has to be satisfied when hierarchy and interaction of criteria are considered simultaneously in any type of decision problem, i.e., not only sorting but also choice and ranking.Using the notation introduced in Section 2, for each criterion Gr,r∈IG,and for each (a, b), we can define the following sets:•Lr(a, b) being the set of all couples {t1, t2}⊆E(Gr), such thatt1,t2∈C¯(bPa),Or(a, b) being the set of all pairs (t1, t2) ∈ E(Gt) × E(Gt), such thatt1∈C¯(bPa)and t2 ∈ C(bPa).C(bTa) is the coalition of elementary criteria in favor of the assertion bTa, where T ∈ {S, Q, P} (see Eq. (1)),C(bPa)=C(aSb)∪C(bQa),andC¯(bPa)denotes the complement of C(bPa).Now, we can define the comprehensive and partial concordance indices in MCHP taking into accountinteractions between criteria.Definition 4.2For each pair of alternatives (a, b) ∈ A × A, and for each criterion Gr,r∈IG,(12)Cr(a,b)=1Wr(a,b)(∑t1∈C¯(bPa)∩E(Gr)wt1ϕt1(a,b)+∑{t1,t2}∈Lr(a,b)wt1t2Z(ϕt1(a,b),ϕt2(a,b))−∑(t1,t2)∈Or(a,b)wt1t2′Z(ϕt1(a,b),ϕt2(b,a)))where(13)Wr(a,b)=∑t∈E(Gr)wt+∑{t1,t2}∈Lr(a,b)wt1t2Z(ϕt1(a,b),ϕt2(a,b))−∑(t1,t2)∈Or(a,b)wt1t2′Z(ϕt1(a,b),ϕt2(b,a))and Z: [0, 1]2 → [0, 1] is a function non-decreasing in both its two arguments, such thatZ(1,x)=Z(x,1)=xfor all x ∈ [0, 1]. For example, we can haveZ(x,y)=xyorZ(x,y)=min(x,y).In order to take into account the possible interactions between criteria in the application of MCHP to ELECTRE Tri methods, it is sufficient to replace the comprehensive and partial concordance indices by the one given in Definition 4.2.In this section, we shall present the application of the hierarchical ELECTRE Tri-B method to a real world decision problem. In the year 2000, the Transport Infrastructure Regional Study (TIRS) has been undertaken in the context of the stability pact under the lead of the European Investment Bank (EIB) and European Union (EU) to evaluate the feasibility of the realization of 223 projects regarding roads, ports and airports in the Balkans area and, in particular, in Albania, Bosnia and Herzegovina, Bulgaria, Croatia, Serbia, Macedonia and Romania. The different projects have been evaluated with respect to 11 elementary criteria (see Transport Infrastructure Regional Study for further details on TIRS). Taking into account the nature of the elementary criteria, one can build the hierarchy of criteria shown in Fig. 3. Two macro-criteria are considered at the first level of the hierarchy tree:•the socio-economic return on investment (G1),the functionality and coherency of thenetwork (G2).Macro-criterion G1aggregates the social subcriterion (G(1, 1)) and the economic subcriterion (G(1, 2)), while Macro-criterion G2aggregates the functionality of the network subcriterion (G(2, 1)) and the coherency of the network subcriterion (G(2, 2)). Under these four subcriteria, 11 elementary criteria are considered:•Social (G(1, 1)):–level of the transport demand (g(1, 1, 1)),degree of urgency (g(1, 1, 2)),environmental effects (g(1, 1, 3));Economic (G(1, 2)):–cost effectiveness (g(1, 2, 1)),relative investment cost (g(1, 2, 2)),financing feasibility (g(1, 2, 3));Functionality of the network (G(2, 1)):–international importance of the link (g(2, 1, 1)),share of international transport in the total transport demand for passengers (g(2, 1, 2)),share of international transport in the total transport demand for goods (g(2, 1, 3));Coherency of the network (G(2, 2)):–interconnection of existing networks (g(2, 2, 1));meeting EU standards of service (g(2, 2, 2)).The scores given to the projects by the team of experts on the 11 elementary criteria range from F (the worst) to A (the best). To simplify the definition of reference profiles and comparison thresholds, the qualitative scale F–A was converted to the interval scale 0–10. In Table 3, we provide performances of some of the 223 projects.All elementary criteria have weightwt=0.1,except elementary criteria g(2, 1, 2) and g(2, 1, 3) having weightwt=0.05.Comparing to the original TIRS study, we shall consider only three, and not four categories, to which each project can be assigned with respect to its feasibility of realization. We shall denote them by Cl1, Cl2 and Cl3, and they will contain, respectively, projects to be discarded, projects requiring further investigation for a final decision, and projects which may be funded and implemented rapidly.In Table 4, we show the performances of reference profiles on the 11 elementary criteria and the corresponding indifference, preference and veto thresholds. Having three categories, we need to define only two profiles, and we suppose that they have the same indifference, preference and veto thresholds on all elementary criteria.We decided that each cutting level λr, r ∈ LBO, is equal to 70% of the sum of weights of elementary criteria descending from Gr.In Table 6, we report the classifications of some projects with respect to all criteria and subcriteria in the hierarchy, considering both, optimistic and pessimistic assignment procedures.Let us observe that when one is using the optimistic assignment procedure, even if project a211 is assigned to category Cl2 with respect to criteria G(1, 1) and G(1, 2), it is assigned to category Cl1 with respect to criterion G1. As already observed in Section 4 and deeply investigated in Appendix B, the reason is that profile b1 is not preferred to a211, neither on criterion G(1, 1) nor on criterion G(1, 2), however, it is preferred to a211 on criterion G1.

@&#CONCLUSIONS@&#
In this paper, we presented an extension of the very well known family of ELECTRE Tri sorting methods, ELECTRE Tri-B (Yu, 1992), ELECTRE Tri-C (Almeida Dias et al., 2010) and ELECTRE Tri-nC (Almeida Dias et al., 2012), to decision problems with multiple criteria structured in a hierarchical way. To this end, we applied the Multiple Criteria Hierarchy Process (MCHP) proposed recently in Corrente et al. (2012). Application of MCHP permits to get recommendations on the assignments of alternatives not only at the comprehensive level but also in all particular nodes of the hierarchy tree until the last but one level. In particular, regarding the extension of the ELECTRE Tri-B method, we introduced two properties of coherence for outranking with respect to a given criterion, taking into account outranking on criteria immediately descending from it. In this context we singled out some conditions on the cutting levels that proved to be necessary and sufficient to ensure the consistency of the outranking in the hierarchy.In the paper, we considered only the case where the DM is able to provide a direct preference information, that is, she can give values to all involved parameters (weights of criteria, indifference, preference and veto thresholds, as well as cutting levels). In this context, we showed how to fix the cutting levels so as to respect the coherence properties (C1) and (C2). We provided a theorem specifying necessary and sufficient conditions for these two properties to be satisfied. It is worth stressing that coherence properties (C1) and (C2) do not hold for hierarchical versions of ELECTRE Tri sorting methods only, but also for other types of ELECTRE methods applied within the MCHP framework to choice and ranking problems. We took into account the possibility of handling interactions between criteria in a way similar to Figueira et al. (2009), and we extended the SRF method (Figueira & Roy, 2002) to compute the weights of criteria when they are organized in a hierarchical structure. The presented extension of the SRF method can be applied to all types of decision problems (choice, ranking and sorting problems) with a hierarchical structure of the set of criteria aggregated in a non-compensatory way. The proposed methodology has been illustrated by a didactic example where we applied the hierarchical ELECTRE Tri-B method to a real world decision problem.In a future study, we plan to take into account the indirect preference information elicited by the DM in terms of some decision examples. To this end, we plan to apply the Robust Ordinal Regression (ROR) (Corrente, Greco, Kadziński, & Słowiński, 2013a; 2014; Greco, Mousseau, & Słowiński, 2008) that considers simultaneously all sets of preference model parameters compatible with the preference information provided by the DM. Moreover, other interesting directions of research could be:•investigation of the relationship between the assignments obtained by the hierarchical ELECTRE Tri-B and ELECTRE Tri-C methods, similarly to what has been already done in Bouyssou and Marchant (2015) in case of a flat structure of criteria,generalization of the SRF method to the case of group decision making and, in particular, to problems with a hierarchical structure of criteria. This could be useful to deal with real world group decision making problems as that one recently considered in Morais, de Almeida, and Figueira (2014), where the SRF method has been applied to obtain the weights of criteria for each DM.