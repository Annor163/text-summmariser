@&#MAIN-TITLE@&#
Schemes to reward winners in combinatorial double auctions based on optimization of surplus

@&#HIGHLIGHTS@&#
We propose a model to reward winners in combinatorial double auctions.We propose schemes to reward winners based on surplus optimization.We formulate the problem to maximize the surplus of auctions.We propose an algorithm to solve surplus optimization problem.We illustrate the effectiveness of our algorithms.

@&#KEYPHRASES@&#
Double auction,Integer programming,Combinatorial auction,

@&#ABSTRACT@&#
Although the combinatorial double auction model has been proposed for buyers and sellers to trade goods conveniently for over a decade, it is still not widely adopted. Several factors that hinder the adoption of combinatorial double auction model include the high complexity to determine winning bids and the lack of studies on the schemes to benefit winners in an auction. A relevant challenging research issue is to study how to make this business model acceptable in the real world. Motivated by the deficiency of existing studies on these factors, we will study how to take advantage of the surplus of combinatorial double auctions to benefit the winners based on surplus optimization and schemes to reward winners. The contributions of this study are threefold: (1) we propose a computationally efficient approximate algorithm to tackle the complexity issue in combinatorial double auctions, (2) we propose schemes to reward winners based on the surplus of auctions and (3) our study paves the way for the promotion of combinatorial double auction model. Our main results include (i) a surplus optimization problem formulation that takes transaction cost and supply/demand constraints into account (ii) a divide-and-conquer approach to decomposing the optimization problem into subproblems and a subgradient method to determine shadow price (iii) several schemes to reward winners and (iv) numerical results that indicate that the winners can be better off by applying our schemes.

@&#INTRODUCTION@&#
One of the recent trends in the development of auction mechanisms is combinatorial auctions. In a combinatorial auction, bidders can place bids on a combination of goods according to personal preferences rather than just individual items. Combinatorial auctions are beneficial if complementarities exist between the items to be auctioned. Well-known combinatorial auction examples are the auction of Federal Communications Commission’s radio spectrum licenses, the sale of airport time slots, and allocation of delivery routes. Combinatorial auctions have been extensively studied, e.g. Sandholm (2000), Abrache et al. (2004), Perugini et al. (2005), Catalán et al. (2009), Leskelä et al. (2007), Meeus et al. (2009), Özer and Özturan (2009), Yang et al. (2009) and Harsha et al. (2010). An excellent survey on combinatorial auctions can be found in (de Vries and Vohra, 2003) and (Pekeč and Rothkopf, 2003). In the past years, combinatorial double auctions attracted researchers’ attention. A combinatorial double auction combines the mechanism of double auction with combinatorial auction to make buyers and sellers trade goods conveniently. Combinatorial double auctions, which allow buyers and sellers to submit bids, are much more efficient than several one-sided auctions combined. There are also studies on double auctions or combinatorial double auctions, e.g. Fan et al. (1999), Ba et al. (2001), Choi et al. (2008) and Schellhorn (2009). Doubled auction and combinatorial double auction mechanisms have been applied in a few problem domains, including resource allocations in grids (Li et al., 2009a; Li et al., 2009b) and the electricity market (Block et al., 2008; Nicolaisen et al., 2001; Wang and Yin, 2004).Although the combinatorial double auction model makes it possible for buyers and sellers to trade goods conveniently, it poses several challenging research issues.The problem to determine winners in combinatorial auctions or combinatorial double auctions is called the winner determination problem (WDP). In the existing literature, one of the most challenging research topics on combinatorial auctions and combinatorial double auctions is the complexity to solve WDP. The WDP of combinatorial auctions and combinatorial double auctions is difficult to solve from a computational point of view (Rothkopf et al., 1998; Xia et al., 2005) due to exponential growth of the number of combinations. The WDP of combinatorial auctions can be modelled as a set packing problem (SPP) (Sandholm, 1999; Sandholm, 2000; Sandholm, 2002; Andersson et al., 2000; Fujishima et al., 1999; Hoos and Boutilier, 2000; Vemuganti, 1998; Xia et al., 2005). To describe the computational complexity of a decision problem, the notion of ‘nondeterministic algorithm’ is defined by computer scientists. A nondeterministic algorithm is an algorithm consisting of two stages: guessing and checking (or verification). A nondeterministic algorithm at first guesses a solution and then checks the validity of this solution. If the checking (or verification) stage of a nondeterministic algorithm is of polynomial time complexity, this nondeterministic algorithm is called a nondeterministic polynomial algorithm. A decision problem that can be solved by a nondeterministic polynomial algorithm is called a nondeterministic polynomial (NP) problem. The class NP refers to decisions problems that can be solved by nondeterministic polynomial algorithms. A decision problem D is said to be NP-complete if (i) D belongs to the class NP and (ii) every problem in NP is polynomially reducible to D. A problem D satisfying condition (ii) is said to be NP-hard, whether or not it satisfies condition (i). Sandholm showed that determining the winners so as to maximize revenue in a combinatorial auction is NP-complete (Sandholm, 1999; Sandholm, 2000; Sandholm, 2002).The WDP of combinatorial double auctions are also notoriously difficult to solve from the computation point of view. Several restricted classes of combinatorial double auctions have been studied. Fan et al. (1999) considered divisible goods in combinatorial double auctions and formulated the WDP as a linear programming problem which is not computationally challenging. Ba et al. (2001) proposed a combinatorial double auction mechanism for non-divisible public goods and proved that such combinatorial double auction can be solved in polynomial time under weak assumptions. However, the approach of Ba et al. (2001) is limited to combinatorial double auctions with public goods only. In the existing literature, Xia, Stallaert and Whinston considered non-divisible goods in a combinatorial double auction which maximizes the difference between buyers’ total payment and sellers’ total revenue (Xia et al., 2005). They showed that a general combinatorial double auction can be reduced to a combinatorial single-sided auction which is a multi-dimensional knapsack problem, a problem known to be a NP-hard in computational complexity.To cope with the complexity of WDP, many algorithms have been developed for combinatorial auction problems. Exact algorithms have been developed for the SPP problem, including iterative deepening A∗ search (Sandholm, 2000) and direct application of available CPLEX Integer Programming solver (Andersson et al., 2000). Gonen and Lehmann proposed branch and bound heuristics for finding optimal solutions for multi-unit combinatorial auctions (Gonen and Lehmann, 2000). Jones and Koehler studied combinatorial auctions using rule-based bids (Jones and Koehler, 2002). Sandholm (1999) and Fujishima et al. (1999) considered a class of single-sided combinatorial auction model with a unique seller of unique items and bundles with distinct goods and unique items and developed specialized algorithms for it. Xia et al. (2005) showed that the use of branch-and-bound and LP relaxations at each node performed better than the specialized algorithms for the WDPs of combinatorial auctions described in Sandholm (1999) and Fujishima et al. (1999). However, there are few studies on development of computationally efficient algorithms for combinatorial double auctions.The WDP of combinatorial double auctions can be modeled as an integer programming problems. The Lagrangian relaxation approach provides a computationally efficient approach to integer programming problems (Fisher, 2004). In the existing literature, several studies on application of Lagrangian relaxation approach to WDP of combinatorial auctions or combinatorial reverse auctions are available. For example, Andersson et al. (2000) proposed a Lagrangian heuristic for combinatorial auction problems. Application of Lagrangian relaxation approach to solve WDP of combinatorial reverse auctions has also been studied in (Hsieh, 2010) and (Hsieh and Lin, 2012a; Hsieh and Lin, 2012b). However, there is a lack of study on application of Lagrangian relaxation approach to solve WDP of combinatorial double auctions. As mentioned by Xia et al. (2005), the subgradient optimization approach may be a promising approach to the WDP of combinatorial double auctions. There are few studies (with the exception of Hsieh and Liao, 2012) on the development of computationally efficient algorithms for solving the WDP of combinatorial double auctions with non-divisible goods based on subgradient optimization approach. This motivates us to investigate the effectiveness of combining the Lagrangian relaxation technique with subgradient optimization approach for combinatorial double auctions.In addition to computational complexity, there are other factors that hinder the adoption of combinatorial double auctions in the real world. One of the factors is the lack of an effective method to attract more bidders and allocate the value generated in combinatorial double auctions. A mediator that provides combinatorial double auction service must attract as many bidders as possible, including potential buyers and sellers, to place bids. If few bids are placed in a combinatorial double auction, it may turn out that no solution can be found. It calls for the development of an effective method to attract more bidders to place bids to generate a feasible solution for a combinatorial double auction. Once the winners of a combinatorial double auction have been determined, a multi-party contract will be established among the winners and the mediator. How to divide the value of the generated solution among the winners and the mediator is also critical for realizing the benefits of combinatorial double auctions. The above discussions motivate us to study an effective way to attract bidders based on proper allocation of the value generated in a combinatorial double auction.One effective way to attract more potential buyers and sellers to place bids is to guarantee that all the winning buyers will acquire their required items at a price lower than or equal to their original bid price and all the winning sellers will sell their available items at a price higher than or equal to their original bid price. To see how one may make this way work, note that the mediator usually charges transaction fee to the winners of an auction in practice. For the mediator, the surplus of a combinatorial double auction consists of the transaction fee paid by the winners and the difference between the overall price of buyers’ winning bids and the overall price of sellers’ winning bids. If the surplus is positive, there is plenty of room for the mediator to reward the surplus of a combinatorial double auction to the winners. How to take advantage of the surplus to reward the winners is an important issue. In this paper, we will study how to reward the winners based on optimization of surplus in combinatorial double auctions that consider transaction cost and supply/demand constraints. The goal of this paper is to propose an algorithm for finding a solution for optimization of surplus in combinatorial double auctions and develop several schemes to reward surplus based on the solution.In this paper, we consider a class of combinatorial double auction problems in which there are a set of buyers, a set of potential sellers and a mediator for trading non-dividable goods. Each buyer and seller places bids based on the required items to be purchased and the available items to be sold, respectively. We assume all the participants tell truth. Several constraints must be satisfied in determination of winners. These include the supply/demand constraints, the constraints on the sellers’ available items and the non-negative surplus constraint. Our methodology to reward the surplus to the winners includes two stages: (1) optimization of surplus and (2) allocation of surplus. We will propose an efficient algorithm for finding approximate solutions at the surplus optimization stage and develop several schemes that can be tailored or modified by the mediator as needed to reward surplus to the winners at the surplus allocation stage.The combinatorial double auction problem mentioned above can be modelled as an integer programming problem. Instead of finding the exact solution, we adopt a Lagrangian relaxation approach to developing a computationally efficient solution algorithm for finding a solution. By applying Lagrangian relaxation technique, the original optimization can be decomposed into a number of buyers’ subproblems and sellers’ subproblems. Our methodology consists of four parts: (1) decomposition of the original optimization into a number of subproblems by exploiting the problem structure; (2) an algorithm for solving buyers’ subproblems and sellers’ subproblems; (3) a subgradient method for solving the non-differentiable dual problem and a heuristic algorithm for finding a feasible solution and (4) schemes to allocate surplus and reward winners. Based on the proposed algorithm, we demonstrate the effectiveness of our method by numerical examples.The remainder of this paper is organized as follows. In Section 2, we start with a motivating example, present an approach to rewarding winners based on optimization of surplus and formulate the optimization problems for surplus optimization in combinatorial double auctions. In Section 3, we study the problem formulated in Section 2 and decompose the original problem into a number of subproblems. We propose a subgradient algorithm for solving the dual problem in Section 4 and a heuristic algorithm for finding a feasible solution. We propose several schemes to reward the winners in Section 5 based on the solution found. We illustrate the effectiveness of our solution algorithm by numerical examples in Section 6. We conclude this paper in Section 7.In this paper, we will study how to reward winners based on optimization of surplus in a combinatorial double auction. In this section, we first start with a motivating example before presenting our approach to rewarding winners. We then formulate the combinatorial double auction problem as an integer programming problem and develop our solution algorithm based on Lagrangian relaxation.Consider a combinatorial double auction in which the goods to be traded are non-divisible. The mediator must determine the winners of the combinatorial double auction based on the bids submitted by buyers and sellers. We assume that the mediator will charge the transaction fee to the winners. For the mediator, the surplus of a combinatorial double auction consists of the transaction fee paid by the winners and the difference between the overall price of buyers’ winning bids and the overall price of sellers’ winning bids. Fig. 1illustrates an application scenario in which Buyer 1 requests to purchase at least a bundle of items 1A, 3B and 3C from the market at the price ofP11band Buyer 2 requests to purchase at least a bundle of items 2A, 2B and 1C from the market at the price ofP21b. The bids submitted by Buyer 1 and Buyer 2 are represented byb11= (1A, 3B, 3C, 0D,P11b) andb21= (2A, 2B, 1C, 0D,P21b), respectively.There are three bidders, Seller 1, Seller 2 and Seller 3. A seller may multiple bids based on its available items. But the items in the winning bids of a seller cannot exceed its available items. Assume the available items of Seller 1 are 2A and 2B, the available items of Seller 2 are 1B and 1C and the available items of Seller 3 are 1A and 1D. Suppose Seller 1 submits three bidss11=(2A, 0B, 0C, 0D,P11s),s12=(2A, 2B, 0C, 0D,P12s) ands13=(0A, 2B, 0C, 0D,P13s), whereP11s,P12sandP13sare the price of the first, second and third bids, respectively. Suppose Seller 2 and Seller 3 submits the bids21= (0A, 1B, 1C, 0D,P21s) and the bids31= (1A, 0B, 0C, 1D,P31s), respectively. The transaction fee to be paid by the winners is the price of the bid multiplied by the transaction cost coefficient T=0.02. A bid is said to be a winning bid if it is in the solution of the combinatorial double auction. SupposeP11s=100,P12s=180,P13s=120,P21s=50,P31s=90,P11b=500 andP21b=400. For this example, the winning bids for this combinatorial double auction ares12,s21andb21. The surplus of this combinatorial auction isP21b-P12s-P21s+0.02(P21b+P12s+P21s). Obviously, asP21b-P12s-P21s>0, the profit of the mediator will be greater than0.02(P21b+P12s+P21s)if the mediator pockets all or a portion of the amount,P21b-P12s-P21s. Alternatively, the mediator may also reward a portion of the amountP21b-P12s-P21sto the winners. Although rewarding the winners may reduce the profit of the mediator, it will be helpful to attract more buyers and sellers to go back and place bids to the mediator in the long term. This example shows that the mediator may allocate the surplus properly to benefit winners and himself as well. Motivated by this example, we propose an approach to rewarding winners based on optimization and allocation of surplus.Our approach to rewarding winners in a combinatorial double auction consists of two stages: Stage (1): to determine the winners to optimize surplus and Stage (2): to allocate surplus. Fig. 2illustrates the flow chart of our approach.We will first focus on the development of an algorithm to solve the Winner Determination Problem (WDP) to optimize surplus in combinatorial double auctions. Allocation of surplus to reward winners can then be done based on the solution found by the surplus optimization algorithm. To develop an algorithm to solve the WDP, we need to formulate the optimization problem formally. To formulate the WDP in combinatorial double auctions, let’s define the notations to be used in this paper.NotationsKthe number of different types of items requested. Eachk∈{1,2,3,….,K}represents an item type.the number of potential sellers in a combinatorial double auction. Eachi∈{1,2,3,….,I}represents a seller.the number of potential buyers in a combinatorial double auction. Eachn∈{1,2,3,….,N}represents a buyer.the buyer-n’s desired units of thek-thitem in theh-threquest for tender, wherek∈{1,2,3,….,K}.thej-thbid submitted by a seller in a combinatorial double auction.theh-thbid created by a buyer to represent the requirement of the buyer.a positive real number that denotes the price of the bundle of thej-thbid submitted by seller i.a nonnegative integer that denotes the quantity of thek-thitem in thej-thbid submitted by seller i.a vector to represent thej-thbid submitted by seller i. Thej-thbidsijis actually an offer to sellqijkunits of thek-thitem at a price ofpijsfor eachk∈{1,2,3,….,K}.the variable to indicate thej-thbid placed by seller i is a winning bid(xij=1)or not(xij=0).the available quantity of thek-thitem of seller i, wherei∈{1,2,3,….,I}andk∈{1,2,3,….,K}.a positive real number that denotes the price of the bundle of theh-thbid submitted by buyer n.a vector to represent theh-thbid submitted by buyer n. Theh-thbidbnhis actually an offer to acquirednhkunits of thek-thitem at a price ofpnhbfor eachk∈{1,2,3,….,K}.the variable to indicate theh-thbid placed by buyer nis a winning bid(ynh=1)or not(ynh=0).the number of bids placed by seller i, wherei∈{1,2,3,….,I}.the number of bids placed by buyer n, wheren∈{1,2,3,….,N}.the transaction cost coefficient for the sellers; the transaction cost paid by a seller to the mediator isTmspij.the transaction cost coefficient for the buyers; the transaction cost paid by a buyer to the mediator isTmbpnh.Let us define the objective function, which describes the surplus of a combinatorial double auction, as follows:(2-1)f(x,y)=∑n=1N∑h=1Hnynhpnhb+Tmbpnhb-∑i=1I∑j=1Jixijpijs-Tmspijs=∑n=1N∑h=1Hnynhpnhb-∑i=1I∑j=1Jixijpijs+∑n=1N∑h=1HnynhTmbpnhb+∑i=1I∑j=1JixijTmspijsThe winner determination problem is formulated as an integer programming problem as follows.Winner Determination Problem (WDP):(2-2)maxx,yf(x,y)s.t.∑i=1I∑j=1Jixijqijk⩾∑n=1N∑h=1Hnynhdnhk∀k∈{1,2,…,K}(2-3)∑n=1N∑h=1Hnynhpnhb⩾∑i=1I∑j=1Jixijpijs(2-4)∑j=1Jxijqijk⩽aik∀i∈{1,…,I},k∈1,…,Kxij∈{0,1}∀i,jynh∈{0,1}∀n,hFor any solution of the WDP, the total amount of each type of goods supplied by the winning sellers’ bids must be greater than or equal to the demands of the winning buyers’ bids. This imposes the supply/demand constraints in (2-2). As the surplus must be greater than or equal to zero, we have constraint (2-3). If a seller places multiple bids, then the total quantity in the winning bids of a seller can not exceed his available quantity for each type of items. This constraint is described by (2-4). Note that constraints (2-2) in WDP assumes “free disposal” as the total quantity offered by the winning sellers must be greater than or equal to the desired quantity of the winning buyers. If there are more quantities provided than needed, we can dispose of the surplus with no additional cost.Transaction cost has several effects on the surplus of a combinatorial double auction. The mediator may adopt different strategy to increase the surplus of a combinatorial double auction. As the surplus of a combinatorial double auction is positively related to the transaction cost coefficients for sellers and buyers, one strategy is to increase the transaction cost coefficients to improve the surplus. Although the mediator may improve the surplus by increasing the transaction cost coefficients, higher transaction cost will discourage the potential buyers and sellers from placing bids to the mediator. Usually, the higher the transaction cost, the fewer the bids will be placed, which may lead to decrease in surplus. Therefore, the mediator must set the transaction cost coefficients carefully so as to increase the surplus without discouraging the potential buyers and sellers from placing bids.Note that the primary computational complexity arises from the WDP in combinatorial double auctions. In this paper, we will adopt a divide-and-conquer approach to decompose the WDP into subproblems and apply the subgradient method to develop a solution algorithm.”Divide-and-conquer” is an effective strategy to reduce the computational complexity to solve complex problems in computer science. It works by breaking down a problem into two or more subproblems that become simple enough to be solved directly. The solutions to the subproblems are then combined in order to construct a solution to the original problem. Lagrangian relaxation provides a technique to decompose a problem into several subproblems. One way to reduce the computational burden in solving the WDP is to adopt Lagrangian relaxation to set up a fictitious market to determine an allocation and prices of items. Initially, the mediator announces the prices for all types of items. The mediator determines the winning bids based on the bids placed by the buyers and sellers and the prices of all types of items. If the set of winning bids lead to violation of any constraints 2-2, 2-3 and 2-4, the prices will be adjusted. Based on an iterative price adjustment mechanism, a solution will be obtained.The basic idea of Lagrangian relaxation is to relax some of the constraints of the original problem by moving them to the objective function with a penalty term. That is, infeasible solutions to the original problem are allowed, but they are penalized in the objective function in proportion to the amount of infeasibility. The constraints that are chosen to be relaxed are selected so that the optimization problem over the remaining set of constraints is in some sense easy. In WDP problem, we observe that the coupling among different operations is caused by the supply/demand constraints (2-2), the non-negative surplus constraint (2-3) and constraint (2-4).Let λ denote the vector withλkrepresenting the Lagrangian multiplier for thek-thitem, π be the vector withπikrepresenting the Lagrangian multiplier for thek-thitem of thei-thseller and μ denote the Lagrangian multiplier for the budget balance constraint. We define(3 - 1)Lλ,π,μ=max∑n=1N∑h=1Hnynhpnh+Tmbpnh-∑i=1I∑j=1Jixijpij-Tmspij-∑k=1Kλk∑n=1N∑h=1Hnynhdnhk-∑i=1I∑j=1Jixijqijk-∑i=1I∑k=1Kπik∑j=1Jixijqijk-aik-μmi=1I∑j=1Jixijpij-∑n=1N∑h=1Hnynhpnh(3 - 2)=∑i=1I∑j=1JiLij(λ,π,μ)+∑n=1N∑h=1HnLnh(λ,μ)+∑i=1I∑k=1K[πikaik]withLij(λ,π,μ)=Max-xijpij-Tmspij-∑k=1K[λkqijk]+∑k=1K[πikqijk]+μpij(3 - 3)s.t.xij∈{0,1}Lnh(λ,μ)=Maxynhpnh+Tmbpnh-∑k=1K[λkdnhk]+μpnhs.t.ynh∈{0,1}Lij(λ,π,μ)defines a seller’s subproblem (SS) whileLnh(λ,μ)defines a buyer’s subproblem (BS). Interactions among subproblems are reflected through Lagrange multipliers. Note that for givenλ,πand μ, the optimal solution to SSLij(λ,π,μ)and BSLnh(λ,μ)can be solved as follows.(3-4)xij=0ifpij-Tmspijs-∑k=1K[λkqijk]+∑k=1K[πikqijk]+μpijs⩾01ifpij-Tmspijs-∑k=1K[λkqijk]+∑k=1K[πikqijk]+μpijs<0(3-5)ynh=1ifpnhb+Tmbpnhb-∑k=1K[λkdnhk]+μpnhb⩾00ifpnhb+Tmbpnhb-∑k=1K[λkdnhk]+μpnhb<0Although combinatorial double auctions can be decomposed into a number of SS and BS that can be solved easily for given Lagrangian multipliersλ,πand μ, it must be emphasized that finding the optimal Lagrangian multipliersλ∗,π∗andμ∗is by no means easy. Instead of solving the original optimization problem directly, we solve the following dual problem to determine the optimal Lagrangian multipliers:(3-6)minλ⩾0,π⩾0,μ⩾0Lλ,π,μAn effective method to solve the above dual problem (3-6) will be detailed in the next section. It should be emphasized that Lagrangian relaxation does not guarantee to find the optimal solution to the underlying problem. Furthermore, it does not guarantee to generate a feasible solution by applying Lagrangian relaxation technique. In case the resulting solution is not feasible, heuristic rules must be applied to adjust the infeasible solution to a feasible one. We have developed heuristic rules for finding an approximate solution based on the solution of the dual problem.A key issue in Lagrangian relaxation method is how to determine of the values of Lagrangian multipliers. We adopt a subgradient method to determine the Lagrangian multipliers by iteratively adjusting their values according to violation of the corresponding constraints. The value of a Lagrangian multiplier will be increased if the corresponding constraint is violated and will be decreased otherwise. Such a mechanism is similar to ”market mechanism” in economics, where the price of goods is determined by supply and demand in competitive markets.SinceLλ,π,μis not differentiable due to integrality constraints in subproblems, we adopt a simple, iterative subgradient method based on the ideas of Polyak (Polyak, 1969) to solve the dual problem defined in (3-6). Our approach to finding a solution ofminλ⩾0,π⩾0,μ⩾0Lλ,π,μis based on an iterative scheme for adjusting Lagrangian multipliers according to the solutions of SS and BS. Let l be the iteration index. Letxlandyldenote the optimal solutions to SS and BS, respectively, for given Lagrangian multipliersλl,πlandμlat iteration l. We define the subgradients ofminλ⩾0,π⩾0,μ⩾0Lλ,π,μwith respect to Lagrangian multipliersλk,πikand μ as follows.(4-1)g1l(k)=∑n=1N∑h=1Hnynhldnhk-∑i=1I∑j=1Jixijlqijk,wherek∈{1,…,k}(4-2)g2l(i,k)=∑j=1Jixijlqijk-aik,wherek∈{1,…,k},i∈{1,…,I}(4-3)g3l=∑i=1I∑j=1Jixijlpijs-∑n=1N∑h=1HnynhlpnhbLagrangian multipliersλk,πikand μ are adjusted according to the subgradients defined in 4-1, 4-2, 4-3, respectively. If subgradientg1l(k)is greater than zero, it means that the corresponding constraint (2-2) is violated. In this case, the corresponding Lagrangian multiplierλkl+1will be increased to penalize violation of the constraint (2-2) as follows.(4-4)λkl+1=λkl+α1lg1l(k)ifλkl+α1lg1l(k)⩾00otherwise(4-5)α1l=cLλ,π,μ-L‾∑k(g1l(k))2+∑i=1I∑k=1K(g2l(i,k))2+(g3l)2,0⩽c⩽2If subgradientg2l(i,k)is greater than zero, it means that the corresponding constraint (2-4) is violated. In this case, the corresponding Lagrangian multiplierπikl+1will be increased to penalize violation of the constraint (2-4) as follows.(4-6)πikl+1=πikl+α2lg2l(i,k)ifπikl+α2lg2l(i,k)⩾00otherwise(4-7)α2l=cLλ,π,μ-L‾∑k(g1l(k))2+∑i=1I∑k=1K(g2l(i,k))2+(g3l)2,0⩽c⩽2Similarly, if subgradientg3lis greater than zero, it means that the corresponding constraint (2-3) is violated. In this case, the Lagrangian multiplierμl+1will be increased to penalize violation of the constraint (2-3) as follows.(4-8)μl+1=μl+α3lg3lifμl+α3lg3l⩾00otherwise(4-9)α3l=cLλ,π,μ-L‾∑k(g1l(k))2+∑i=1I∑k=1K(g2l(i,k))2+(g3l)2,0⩽c⩽2Fig. 3shows the subgradient algorithm. In our algorithm, the Lagrangian multipliersλl,πlandμlare initialized withλ0,π0andμ0, respectively, for the first iteration (l=1). Our algorithm then findsxijlandynhlforλl,πlandμl. It then calculatesLλl,πl,μland adjustλl,πlandμlto obtainλl+1,πl+1andμl+1iteratively until the algorithm converges.Let(x∗,y∗)be the solution found when the subgradient algorithm converges. Although Lagrange multipliers may improve the efficiency, it is still possible that the resulting solution(x∗,y∗)is not feasible. In this case, we attempt to apply heuristic rules to find a feasible solution(x¯,y¯)based on the solution(x∗,y∗)of the relaxed problem. An infeasible solution(x∗,y∗)means that either supply/demand constraints, sellers’ available item constraints or non-negative surplus constraint are violated. Our heuristic rules attempt to adjust an infeasible solution(x∗,y∗)to a feasible solution(x¯,y¯). The heuristic rules we use attempt to reduce violations of the constraints step by step by adding/removing sellers’ bids or buyers’ bids as appropriate until all constraints are satisfied. The following rules are applied iteratively to adjust the solution.Rule 1:If a constraint of (2-2) is violated, the quantity of items supplied by the winning sellers associated withx¯is less than the demand of the items of the winning buyers associated withy¯. Our heuristic rule will either add one of the non-winning bids of sellers associated withx¯to the set of winning bids or remove one of the winning bids of buyers associated withy¯from the set of winning bids.If a constraint of (2-3) is violated, our heuristic rule will either remove one of the non-winning bids of sellers associated withx¯from the set of winning bids or add one of the winning bids of buyers associated withy¯to the set of winning bids.If a constraint of (2-4) is violated, our heuristic rules will remove one of the non-winning bids of sellers associated withx¯from the set of winning bids.If application of any of the above rules to remove a bid from the set of winning bids or add a bid to the set of winning bids leads to violation of more constraints, the bid will not be selected for removal or addition and will be excluded from consideration. All the constraints must be rechecked iteratively each time any of the heuristic rules is applied.The effectiveness of the solution algorithm can be evaluated based on the duality gap, which is the ratio of the difference between primal and dual objective values divided by the primal objective value. That is, duality gap is defined by.f(x¯,y¯)-Lλ∗,π∗,μ∗f(x¯,y¯),wheref(x¯,y¯)=∑n=1N∑h=1Hnynhpnhb+Tmbpnhb-∑i=1I∑j=1Jixijpijs-Tmspijs.Example 4.1Two buyers place two bids specified in Table 1to purchase their desired items. There are three sellers who place three bids as shown in Table 2.The input data of this example in our problem formulation are as follows:d111=2,d112=3,d113=0,p11b=23;d211=0,d212=0,d213=9,p21b=6q111=2,q112=0,q113=0,p11s=4;q211=0,q212=3,q213=0,p21s=3;q311=0,q312=0,q313=1,p31s=12The algorithm proposed in this paper requires the parametersL¯,λ1,λ2,λ3,π11,π12,π13,π21,π22,π23,π31,π32,π33and μ to be set. ParameterL¯is an estimate of the lower bound on the optimal dual cost. We setL‾=10 for this example. The Lagrangian multipliers can be set as any positive real numbers initially. Suppose we initialize the Lagrangian multipliers to zeros as follows:λ1=0,λ2=0,λ3=0,π11=0,π12=0,π13=0,π21=0,π22=0,π23=0and μ=0. For the first iteration (l=1), our algorithm first findsxlandylas follows:Asp11-Tmsp11-∑k=1K[λkq11k]+∑k=1K[π1kq11k]+μp11=4,x11l=0.Asp21-Tmsp21-∑k=1K[λkq21k]+∑k=1K[π2kq21k]+μp21=3,x21l=0.Asp31-Tmsp31-∑k=1K[λkq31k]+∑k=1K[π3kq31k]+μp31=12x31l=0.Asp11+Tmbp11-∑k=1K[λkd11k]+μp11=23,y11l=1.Asp21+Tmbp21-∑k=1K[λkd21k]+μp21=6,y21l=1.For the first iteration (l=1), we calculate the subgradient as follows.g1l(k)=∑n=1N∑h=1Hnynhldnhk-∑i=1I∑j=1Jixijlqijkg1l(1)=∑n=1N∑h=1Hnynhldnh1-∑i=1I∑j=1Jixijlqij1=2,g1l(2)=∑n=1N∑h=1Hnynhldnh2-∑i=1I∑j=1Jixijlqij2=3andg3l(3)=∑n=1N∑h=1Hnynhldnh3-∑i=1I∑j=1Jixijlqij3=9g2l(i,k)=∑j=1Jixijlqijk-aikg2l(1,1)=∑j=1Jix1jlq1j1-s11=-2,g2l(1,2)=∑j=1Jix1jlq1j2-s12=0,g2l(1,3)=∑j=1Jix1jlq1j3-s13=0g2l(2,1)=∑j=1Jix2jlq2j1-s21=0,g2l(2,2)=∑j=1Jix2jlq2j2-s22=-3,g2l(2,3)=∑j=1Jix2jlq2j3-s23=0g2l(3,1)=∑j=1Jix3jlq3j1-s31=0,g2l(3,2)=∑j=1Jix3jlq3j2-s32=0,g2l(3,3)=∑j=1Jix3jlq3j3-s33=-1g3l=∑i=1I∑j=1Jixijlpij-∑n=1N∑h=1Hnynhlpnh=-29For the first iteration,Lλ,π,μ=29.Therefore,α1l=α2l=α3l=cLλ,π,μ-L‾∑k(g1l(k))2+∑i=1I∑k=1K(g2l(i,k))2+(g3l)2=0.020021074815595362.Therefore,λ1l+1,λ2l+1andλ3l+1are updated as follows:λ1l+1=λ1l+α1lg1l(1)=0.04,λ2l+1=λ2l+α1lg2l(2)=0.06,λ3l+1=λ3l+α1lg3l(3)=0.18.πikl+1=0for eachi∈{1,2,3},k∈{1,2,3}.μl+1=0.For the second iteration (l=2), the same procedure is applied forλ12,λ22,λ32,π112,π122,π132,π212,π222,π232,π312,π322,π332andμ2to findxlandyl, calculate subgradient and then updateλl+1,πl+1andμl+1, respectively. The processes repeat until it converges. Our algorithm finds the following solution:x¯11=1,x¯21=1,x¯31=0,y¯11=1 andy¯21=0. The value of the objective function is 16 for this example. The solution above is the same as the optimal solution generated by an integer programming solver (IBM ILOG CPLEX Optimizer, 2012).Once the solution,(x¯,y¯), of a combinatorial double auction problem is found, a multi-party contract will be established among the winning buyers and sellers. How to divide the value of the generated solution among the winning buyers, winning sellers and the mediator is also critical for the realization of the benefits of combinatorial double auctions. A variety of schemes can be developed to achieve this goal. In this paper, we will propose a method to benefit all the winners in combinatorial double auctions based on the solution,(x¯,y¯), found by our algorithm.Note that the surplus of a combinatorial double auction consists of two parts: (1) the overall transaction fee paid by all the winners:∑n=1N∑h=1Hny¯nhTmbpnhb+∑i=1I∑j=1Jix¯ijTmspijsand (2) the overall bid price surplus, which is the difference between all buyers’ winning bid price and all sellers’ winning bid price:∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs. Clearly, the overall transaction fee paid by the winning buyers and winning sellers should be allocated to the mediator due to his contribution in matching buyers’ and sellers’ bids. Allocation of the overall bid price surplus,∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs, depends on the policy and strategy of the mediator. A mediator may either pocket the overall bid price surplus or share it with all the winning buyers and winning sellers. Obviously, the mediator may maximize its profit by pocketing the overall bid price surplus. If the mediator reward a portion of the overall bid price surplus to the winners, the winning buyers and winning sellers will be better off. That is, the winning buyers will acquire their required items at a price lower than their original price and the winning sellers will sell their available items at a price higher than their original bid price. In addition, the mediator may attract more potential buyers and sellers to place bids due to this surplus rewarding scheme. In the remainder of this section, we will discuss how to divide the overall bid price surplus,∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs, to reward the winners of a combinatorial double auction. There are numerous ways to reward the overall bid price surplus,∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs, to the winners. We will propose several schemes that can be properly tailored to meet the business requirements.Depending on the surplus allocation strategy and schemes taken by the mediator, the effects of vary. We classify the schemes into three categories:Scheme I: Mediator takes it all.In this scheme, the mediator takes all the surplus of the auction, including (1) the overall transaction fee paid by all the winners and (2) the overall bid price surplus.Scheme II: Winners take all the overall bid price surplus.In this scheme, the overall transaction fee paid by all the winners is allocated to the mediator. But the overall bid price surplus is taken by the winners.Scheme III: Mediator and Winners share the overall bid price surplus.In this scheme, the overall transaction fee paid by all the winners is allocated to the mediator. But the overall bid price surplus is shared between the winners and the mediator. This scheme can be further classified into two subschemes: Scheme III-1 and Scheme III-2, which will be discussed in details later.For the three schemes mentioned above, Scheme I, the ‘Mediator takes it all’ scheme, is very easy to implement. Notice that Scheme II is a special case of Scheme III. Therefore, we will only focus on Scheme III in the remainder of this section.Let α be a real number with0⩽α⩽1. Suppose the mediator takes a strategy to pocket only a portionα(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)of the overall bid price surplus and rewards the remaining portion(1-α)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)to the winners. There are numerous ways to divide the remaining portion between the winning buyers and winning sellers. Two simple ways are discussed as follows:Scheme III-1:In this scheme, we divide the remaining portion(1-α)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)into two parts: (1) the first part,1-α2(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), to be allocated to the winning buyers and (2) the second part,1-α2(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), to be allocated to the winning sellers. An appropriate way to allocate the first part,1-α2(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), among the winning buyers must take the influence of individual winning bids into account. The more influence a winning bid has on the surplus, the more the corresponding bid will be rewarded. Therefore, one simple way to reward the winning buyers is to allocatepnhb∑n=1N∑h=1Hny¯nhpnhb(1-α2)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)to the winning buyer n that placed the h-th bid.Similarly, a simple way to reward the winning sellers is to allocatepijs∑i=1I∑j=1Jix¯ijpijs(1-α2)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)to the winning seller i that placed the j-th bid.Scheme III-2:In this scheme, the remaining portion(1-α)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)is allocated to each winning buyer and each winning seller as follows.Allocatepnhb∑n=1N∑h=1Hny¯nhpnhb+∑i=1I∑j=1Jix¯ijpijs(1-α)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)to the winning buyer n that placed the h-th bid.Allocatepijs∑n=1N∑h=1Hny¯nhpnhb+∑i=1I∑j=1Jix¯ijpijs(1-α)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs)to the winning seller i that placed the j-th bid.As mentioned before, there are numerous ways to allocate the surplus of a combinatorial double auction to the participants. The schemes proposed above are used to illustrate several simple ways to divide the surplus of the generated solution among the winning buyers, winning sellers and the mediator. A mediator must tailor/modify the scheme or develop a new scheme to benefit the participants and achieve his long term business objectives.Depending on the scheme adopted, the influence on the behaviors of sellers and buyers varies. For Scheme I, as the mediator takes all the surplus of an auction, the winning sellers will sell their items at the price of their bids and pay the transaction fee to the mediator. The sellers and buyers will not perceive additional benefits from the mediator. For Scheme II, as the overall transaction fee paid by all the winners is allocated to the mediator and the overall bid price surplus is taken by the winners, the winning sellers may sell their items at a price higher than the price of their bids. The winning buyers may purchase their items at a price lower than the price of their bids. All the winning sellers and winning buyers will be better off. As a result, the winning sellers and winning buyers will be likely to return to trade their goods via the mediator. Moreover, it will be helpful for the mediator to attract more sellers and buyers to place bids by highlighting the winners’ auction experience. For Scheme III-1 and III-2, as the overall bid price surplus is shared between the winners and the mediator, all the winning sellers and winning buyers will be better off. But the benefits to the winning sellers and winning buyers for Scheme III-1 and III-2 are less than that of Scheme II. Therefore, the influence of Scheme III-1 and III-2 on attracting sellers and buyers to place bids is weaker than Scheme II. In summary, Scheme II, Scheme III-1 and III-2 provide an incentive for more sellers and buyers to place bids.Based on the proposed algorithm for combinatorial double auctions and the schemes to allocate surplus, we conduct several numerical experiments to illustrate the effectiveness of our method.Example 6.1Consider ten sellers who try to sell the items listed in Table 3as follows. The bids submitted by ten potential buyers are shown in Table 4. The transaction cost coefficient for each bid placed by the sellers isTms=0.05. The transaction cost coefficient for each bid placed by the buyers isTmb=0.03. Suppose each seller places only one bid that includes all his available items.Suppose we initialize the Lagrangian multipliers as follows.λ1=0,λ2=0,λ3=0,λ4=0,λ5=0,λ6=0,πik=0∀i∈{1,2,…,10},k∈{1,2,…,6}andμ=0.Our subgradient algorithm converges to the following solution:x¯11=1,x¯21=0,x¯31=1,x¯41=0,x¯51=0,x¯61=0,x¯71=0,x¯81=1,x¯91=1,x¯10,1=0,y¯11=1,y¯21=0,y¯31=1,y¯41=1,y¯51=0,y¯61=1,y¯71=1,y¯81=0,y¯91=0,y¯10,1=0.The surplus associated with this solution is 115.83. To demonstrate the effectiveness of the algorithm proposed in this paper, we compare our solution with the one found by an existing solver, the CPLEX integer programming problem solver (CPLEX Optimizer, 2012). The solution obtained by CPLEX is the same as our solution. Our solution is an optimal solution for this example.Suppose Scheme III-1 is applied by the mediator to allocate a portion of the surplus,α(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), to himself, a portion of the surplus,1-α2(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), to the winning buyers and the remaining portion of the surplus,1-α2(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs), to the winning sellers, where0⩽α⩽1. The buyer n who places the h-th bid is rewardedpnhb∑n=1N∑h=1Hny¯nhpnhb(1-α2)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs). The seller i who places the j-th bid is rewardedpijs∑i=1I∑j=1Jix¯ijpij(1-α2)(∑n=1N∑h=1Hny¯nhpnhb-∑i=1I∑j=1Jix¯ijpijs).Supposeα=13. For this example, the surplus rewarded to the winning buyers and the winning sellers are listed in Tables 5 and 6, respectively. Note that all winning buyers will acquire their required items at a price lower than 17.412% of their original bid price. On the other hand, all winning sellers will have their available items sold at a price higher than 36.458% of their original bid price. All the winners are significantly better off due to the surplus rewarding scheme. If the mediator rewards more surplus to the winners, it will benefit the winners of the auction more.Consider fifteen sellers who will try to sell the items listed in Table 7. The bids submitted by fifteen potential buyers are shown in Table 8. The transaction cost coefficient for each bid placed by the sellers isTms=0.04. The transaction cost coefficient for each bid placed by the buyers isTmb=0.02. Suppose each seller places only one bid that includes all his available items. Suppose we initialize the Lagrangian multipliers as follows.λ1=0,λ2=0,λ3=0,λ4=0,λ5=0,λ6=0,λ7=0,λ8=0,πik=0∀i∈{1,2,…,15},k∈{1,2,…,8}andμ=0. Our subgradient algorithm converges to the following solution:x¯11=0,x¯21=0,x¯31=1,x¯41=0,x¯51=1,x¯61=1,x¯71=0,x¯81=0,x¯91=0,x¯10,1=0,x¯11,1=1,x¯12,1=1,x¯13,1=1,x¯14,1=1,x¯15,1=1.y¯11=0,y¯21=1,y¯31=1,y¯41=1,y¯51=1,=0,y¯71=1,y81∗=1,y¯91=0,y¯10,1=1,y¯11,1=0,y¯12,1=1,y¯13,1=1,y¯14,1=0,y¯15,1=0.The surplus associated with this solution is 209.28 whereas the solution obtained by CPLEX with surplus 215.76. The error of our solution is about 3%.Suppose Scheme III-1 is applied by the mediator to allocate the surplus withα=13. For this example, the surplus rewarded to the winning buyers and the winning sellers are listed in Tables 9 and 10below.For Example 6.1 and Example 6.2, we also calculate the decrease in buyer’s price and the increase in seller’s price for Scheme III-2 with α equal to13,23and45to compare surplus rewarding Scheme III-1 and Scheme III-2. The results are shown in Table 11, where α is the portion of surplus pocketed by the mediator. As expected, the benefit to buyers and sellers decrease as α increases.In addition, Table 11 illustrates the numerical results of the other two examples, Example 6.3. and Example 6.4. In Example 6.3, there are thirty sellers and thirty buyers. These buyers and sellers trade fifty types of goods through a combinatorial double auction. The transaction cost coefficient for each bid placed by the sellers isTms=0.04. The transaction cost coefficient for each bid placed by the buyers isTmb=0.02. Each seller places only one bid. We initialize each Lagrangian multiplier to zero for this example. In Example 6.4, there are 100 sellers and 100 buyers. These buyers and sellers trade fifty types of goods through a combinatorial double auction. The transaction cost coefficient for each bid placed by the sellers isTms=0.04. The transaction cost coefficient for each bid placed by the buyers isTmb=0.02. Each seller places only one bid. Each seller places only one bid. We initialize each Lagrangian multiplier to zero. Note that there exists difference between the benefits to the sellers and those to the buyers in Scheme III-1 and Scheme III-2. For Scheme III-1, the benefits to the sellers are different from those to the buyers. In particular, Example 6.3 in Table 11 shows that the decrease in buyer’s price is 30.4% whereas the increase in seller’s price is 353.3%. This difference is due to the fact that the number of the winning sellers is much smaller than that of the winning buyers in Case 3. As a result, the increase in each seller’s price is much larger than the decrease in each buyer’s price.According the results, the duality gaps are within 3%, this means the proposed solution methodology generates approximate solutions for these cases.In addition to performance, we also compare the computational efficiency of our proposed algorithm with an existing integer programming solver, IBM CPLEX. To study the computational efficiency of our proposed algorithm, we analyze the property of our algorithm as follows.According to the following equation in our algorithm:Lλ,π,μ=∑i=1I∑j=1JiLij(λ,π,μ)+∑n=1N∑h=1HnLnh(λ,μ)+∑k=1K[πiksik]withLij(λ,π,μ)=Max-∑i=1I∑j=1Jixijpij-Tmspij-∑k=1K[λkqijk]+∑k=1K[πikqijk]+μpijs.t.xij∈{0,1}Lnh(λ,μ)=Max[∑n=1N∑h=1Hnynhpnh+Tmbpnh-∑k=1K[λkdnhk]+μpnhs.t.ynh∈{0,1}As there areI×Jsubproblems to be solved, the CPU time to solveLij(λ,π,μ)for all IxJ subproblems grow approximately linearly with respect to I. Note that the number of operations required to solveLij(λ,π,μ)is alsoI×J. The above equation indicate that the CPU time to computeLλ,π,μfor givenλ,πand μ is expected to grow approximately polynomially with respect to I. The CPU time for a number of problems in which parameters K and N are fixed while the parameter I is increased is shown in Fig. 4. Fig. 4 also indicates that our algorithm outperforms the CPLEX integer programming solver in efficiency as I grows. It is computationally intractable to apply the integer programming software such as CPLEX to solve a large scale problem as the time required grows exponentially with parameter I. By a similar analysis, we can also show that the CPU time of our algorithm will also grow approximately polynomially with respect to parameters N. The CPU time for a number of problems in which parameters K and N are fixed while the parameter N is increased is shown in Fig. 5.

@&#CONCLUSIONS@&#
