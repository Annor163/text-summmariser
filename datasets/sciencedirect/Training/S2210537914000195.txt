@&#MAIN-TITLE@&#
EnergyBox: Disclosing the wireless transmission energy cost for mobile devices

@&#HIGHLIGHTS@&#
We propose a trace-based tool for estimation of 3G and WiFi transmission energy.EnergyBox is parametrised with real operator settings and device characteristics.This enables repeatable energy experiments at the user end in a convenient manner.EnergyBox is shown to be accurate using real application traces and physical measurements.We show the energy footprint of alternative protocols in location sharing services.

@&#KEYPHRASES@&#
Wireless transmission energy,Energy consumption,Trace-based simulation,3G,802.11,Location sharing,

@&#ABSTRACT@&#
While evolving mobile technologies bring millions of users closer to the vision of information anywhere-anytime, device battery depletions still hamper the quality of experience to a great extent. The energy consumption of data transmission is highly dependent on the traffic pattern, and we argue that designing energy efficient data transmissions starts by energy awareness. Our work proposes EnergyBox, a parametrised tool that facilitates accurate and repeatable energy consumption studies for 3G and WiFi transmissions at the user end using real traffic data.The tool takes as input the parameters of a network operator and the power draw for a given mobile device in the 3G and WiFi transmission states. It outputs an estimate of the consumed energy for a given packet trace, either synthetic or captured in a device using real applications. Using nine different applications with different data patterns the versatility and accuracy of the tool was evaluated. The evaluation was carried out for a modern and popular smartphone in the WiFi setting, a specific mobile broadband module for the 3G setting, and within the operating environment of a major mobile operator in Sweden. A comparison with real power traces indicates that EnergyBox is a valuable tool for repeatable and convenient studies. It exhibits an accuracy of 94–99% for 3G, and 95–99% for WiFi given the studied applications’ traces.Next the tool was deployed in a use case where a location sharing application was ran on top of two alternative application layer protocols (HTTP and MQTT) and with two different data exchange formats (JSON and Base64). The illustrative use case helped to identify the appropriateness of the pull and push strategies in sharing location data, and the benefit of EnergyBox in characterising where the breaking point lies for preferring one or the other protocol, under which network load, or exchange data format.

@&#INTRODUCTION@&#
Wireless interfaces account for a great portion of energy consumption in mobile devices [1,2]. While some studies employ bulk data transfer to measure energy consumption [3], they do not measure the impact of the real data patterns on the battery discharge. Real data transmission patterns depend on the application operation, which is in turn influenced by application design choices and the user–device interaction [4,5]. It has been shown that this pattern drastically influences the average energy per bit [6,7]. Besides, most current applications are completely oblivious to how their data transmissions impact the energy consumption of the device.In this paper we argue that reducing the energy consumption of wireless transmissions begins by being aware of the energy consumption characteristics of different technologies. Since physical energy measurement studies are laborious and time-consuming, solutions are usually tested with synthetic data traces, and little variation of factors such as network settings, and hardware dependence. As a complement to physical measurements, we believe that a modular approach to carrying out flexible and efficient energy studies, that isolates the transmission energy is essential.This paper presents EnergyBox, a tool that enables accurate studies of data transmission energy consumption at the user end, using real traffic traces as input. It focuses on the most widespread wireless technologies (3G and WiFi) and emulates application data transmission energy footprint at the user device. EnergyBox simulates the underlying states of operation in the wireless interfaces. The hardware dependence is overcome by using parametrised device specific power levels. For a given data trace, EnergyBox automatically outputs the operation states over time, so that when combined with device specific power levels energy consumption can be estimated. The general idea of EnergyBox is shown in Fig. 1.The data traces can be directly captured on different devices or synthetically created in order to study the impact of different transmission patterns under different configurations for the given wireless technologies. EnergyBox assists researchers and application developers to immediately estimate energy consumption of data transmissions for a diverse range of test cases. The scenario is set up using different data traces, device power levels and network settings.The tool accepts the operator-configured parameters at the radio layer, such as inactivity timers, the data buffer thresholds and a low activity mechanism used for state transition decisions in 3G communication. For WiFi, it incorporates the adaptive power save mode commonly used as the power saving mechanism in the latest generation devices.Using nine different applications with different data patterns the versatility and accuracy of the tool was evaluated. The evaluation was carried out for a modern and popular smartphone in the WiFi setting, a specific mobile broadband module for the 3G setting, and within the operating environment of a major mobile operator in Sweden. A comparison with real power traces indicates that EnergyBox is a valuable tool for repeatable and convenient studies. It exhibits an accuracy of 94–99% for 3G, and 95–99% for WiFi compared against physical measurements (which will be described in Section 3.1) given the studied applications’ traces.EnergyBox11http://www.ida.liu.se/labs/rtslab/energy-efficient-networking/.has already been used in a research environment to facilitate energy consumption studies complementing physical measurements [8]. In this paper, the convenience of using EnergyBox as a simulation tool is shown in a use case in the area of location sharing services in Section 7. The design choices in developing an illustrative application are compared in terms of their ensuing transmission energy footprint. More specifically, a push-based and a pull-based approach are compared for sharing friends’ locations. Two protocols, Message Queuing Telemetry Transport (MQTT) and Hypertext Transfer Protocol (HTTP) are used within the application, and the energy-efficient operating range for each one is shown. Moreover, a couple of data encoding formats are contrasted in the context of one such protocol, a verbose one and a compact encoding.The rest of the paper is organised as follows: Section 2 presents the related works, followed by Section 3, which provides the background on energy consumption for 3G and WiFi and the physical setup used for measurements. The design of EnergyBox is presented in Section 4. The evaluation methodology and the results are presented in Sections 5 and 6, respectively. Section 7 describes the use case in the area of location sharing services, and Section 8 covers concluding remarks and future work.

@&#CONCLUSIONS@&#
