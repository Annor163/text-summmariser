@&#MAIN-TITLE@&#
A multicut L-shaped based algorithm to solve a stochastic programming model for the mobile facility routing and scheduling problem

@&#HIGHLIGHTS@&#
We have studied the mobile facility routing and scheduling problem with stochastic demand.We have formulated the problem as a two-stage stochastic programming model.We have developed a multicut L-shaped based method to solve the problem.We have designed several lower bound inequalities to improve the speed of convergence.We have demonstrated that our approach can yield high-quality solutions with extensive experiments.

@&#KEYPHRASES@&#
Facilities planning and design,Routing,Fleet management,Mobile facility,

@&#ABSTRACT@&#
This paper considers the mobile facility routing and scheduling problem with stochastic demand (MFRSPSD). The MFRSPSD simultaneously determines the route and schedule of a fleet of mobile facilities which serve customers with uncertain demand to minimize the total cost generated during the planning horizon. The problem is formulated as a two-stage stochastic programming model, in which the first stage decision deals with the temporal and spatial movement of MFs and the second stage handles how MFs serve customer demands. An algorithm based on the multicut version of the L-shaped method is proposed in which several lower bound inequalities are developed and incorporated into the master program. The computational results show that the algorithm yields a tighter lower bound and converges faster to the optimal solution. The result of a sensitivity analysis further indicates that in dealing with stochastic demand the two-stage stochastic programming approach has a distinctive advantage over the model considering only the average demand in terms of cost reduction.

@&#INTRODUCTION@&#
The Facility Location Problem (FLP) and the Vehicle Routing Problem (VRP) are two well-studied problems in the field of operations research. The two problems are commonly coupled to deal with the process of delivery and pickup. For a conventional FLP, we usually consider facilities at fixed locations. The VRP is solved to handle the movement of items between facilities (e.g. depots or distribution centers) and customers (e.g. retailers). In reality, some vehicles behave in a way similar to traditional facilities when they are stationary except that they can move from one place to another if necessary. For instance, light trucks equipped with cellular base stations are able to provide cellular service to areas where the established cellular network temporarily fails (Halper & Raghavan, 2011); fast food service provided from vans can move to serve customers in different regions. In this paper, we use the term Mobile Facility (MF) to distinguish this “facility-like-vehicle” either from facility in the FLP or vehicle in the VRP. We define MF as a facility capable of moving from one place to another, providing certain real-time service to the customers in the vicinity of its location if and only if it is stationary.The most distinct advantage of MFs over fixed facilities is their flexibility in moving to accommodate the change in the demand pattern over time and space. This can be illustrated with a simple example shown in Fig. 1. Given two customer points (A and B) and three time periods (t1,t2,t3), the amount of demand for each customer in each period is shown below the node inside the squared box. Only one MF is available and the demand at A (or B) can only be served by locating the MF at A (or B). Additionally, it takes one time period to travel from A to B. With a fixed facility either at A or B, the total demand that can be served is 3 units (Fig. 1(b) and (c)). Note that the demand in A is decreasing while the demand in B is increasing. It is thus more beneficial if the MF can move from A to B during the second period, resulting in an increase to 5 units of the total demand covered (Fig. 1(d)). In a situation with multiple MFs, an efficient and effective tactical plan, including the route and time schedule, is needed in order to realize the perceived total benefits.In the paper, we present a stochastic version of the mobile facility routing and scheduling problem by explicitly handling the stochastic demand, called as MFRSPSD. The goal is to decide the route and time schedule simultaneously for a fleet of MFs over a prespecified planning horizon, assign customer demands to MFs, and determine the amount of demand to be outsourced so as to minimize the total expected system-wide cost.The remainder of the paper is organized as follows. Section 2 provides the problem description of the MFRSPSD, including the basic features, assumptions, and the expected input and output of the model. In Section 3, a detailed literature review is performed for research relevant to the MFRSPSD. A formal two-stage stochastic programming formulation of the MFSPSD is presented in Section 4 and a multicut L-shaped based method is developed in Section 5 to solve the problem. In Section 6, we present the computational results demonstrating the performance of the proposed algorithm. This is followed by Section 7 with conclusions and directions for future research.The MFRSPSD is defined on a directed network G(V,E) with node set V={v1,v2,…,vn} and edge set E={e1,e2,…,em}. We denote the subset I⊆V as the set of all customers points and the subset of nodes where MFs can be located as J⊆V. A distance matrix D=(dij) satisfying the triangle inequality is defined on E. The distances dijbetween any pair of nodes i and j are assumed to be deterministic and time-invariant. We assume that dij=dji, although it can be relaxed easily.For simplicity in modeling, we divide the planning horizon into ∣T∣ identical time periods, T={t∣t=1,2,…,∣T∣}. Here the length of a time period is assumed to be sufficiently short such that, without loss of generality, all parameters within a time period are static. The demand level of each customer i for each time period t, denoted asWit(ω), is time-dependent and stochastic which follow certain probability distributions, where ω represents a particular realization of the random variables. Let Ω be the set of all possible realizations of random variables, ω∈Ω.Three important features of the MFRSPSD are considered: (a) the service equipment can be mounted on MFs which can move from one place to another, (b) the travel time of MF is explicitly accounted in the model and the service time are incurred only when MFs are not in motion and (c) the amount of demand to be served is proportional to the duration of the service time at the location serving the demand.In addition, all MFs are assumed to be homogeneous providing the same service and traveling in the same speed. Denote the set of MFs as M, indexed by m. The travel timeTjj′from location j to j′ is assumed to be measured as an integer multiplier of a single time period. The travel time matrices are identical for all MFs due to the homogeneity assumption. Considering the expense of purchasing or renting an MF, staffing cost, equipment investment and so on, a fixed operating cost f needs to be paid for using an MF. Moreover, we impose a capacity limit C on the amount of demand that can be served by an MF in a single time unit. Thus, there is a possibility that the demand cannot be fully served by MFs due to the random fluctuation in demand over time and the limited capacity. For the demands that are not served, we assume that they are outsourced to a third party and a penalty cost γ⩾0 is incurred for each unit of unmet demand. This penalty cost can either be considered as the opportunity cost for the loss of demands or regarded as an expense for outsourcing the excess demands to other companies.Since an MF in motion is unable to provide service, it is undesirable to keep it moving for a long time, a potential loss of benefit. On the other hand, it is undesirable either to keep an MF stationary all the time, since it may lose the potential benefit resulting from making a strategic move to areas with more demands. Thus the major trade-off of the MFRSPSD involves the decision of moving or keeping stationary.In some cases, moving would neither improve nor degrade the total performance. A traveling inconvenience cost α is thus introduced to discourage unnecessary moving in those cases. This is illustrated in Fig. 2. The setting of the example is similar to the one in Fig. 1 except that the demands are changed. In Fig. 2(a), the MF travels from A to B, and in Fig. 2(b), it stays at A all the time. Three units of demands are served in both cases. By imposing a traveling inconvenience cost on traveling decisions, the case in Fig. 2(b) is chosen. It is assumed that the cost incurred is much lower than other costs such that its impact over the major trade-off is negligible.We assume that the service quality a customer receives from an MF is inversely proportional to the distance between the two to account for the “access cost”. In fact, this feature is quite common in practice. Take a cellular service as an example. The closer the base station is located to a user, the stronger the signal the user can receive. The problem we deal with here is thus not a typical coverage problem in which demand is either “covered” or “not covered”. We consider a demand assignment cost here, which is assumed to be linearly proportional to the distance between the customer point and the location of an MF, i.e. βdij, where β⩾0. β is introduced as the assignment cost factor per demand unit and per distance unit.We propose to model the MFRSPSD by applying the a priori optimization approach, which is also referred to as the two-stage stochastic programming method in this study. The first stage decision, the routing and scheduling plan of MFs during the planning horizon, is made as “a priori” solution before the customer demands are known. Then the realizations of stochastic demands are disclosed and an optimal recourse action (the second stage decision) is determined conditioning on the first stage solution.It is well known that even under the deterministic condition, the MFRSP is NP-hard as it is reduced to the classic facility location problem. Furthermore, the incorporation of stochastic and time dependent customer demand will make the problem much more complicated to solve. A priori optimization has been an attractive approach in handling uncertainty because of its advantage in computational tractability in comparison with the Markov Decision Process (MDP) or the re-optimization approach (Bertsimas et al., 1990). More importantly, the a priori optimization approach has a managerial advantage since it guarantees the regularity of service which is beneficial for both customer and service provider. In our case, an a priori plan enables the service provider to be familiar with routes and schedules, and meanwhile allows the customer to know when and where to obtain service in a predictable way. From a computational perspective, an a priori output can be used as a heuristic solution for a more complex stochastic dynamic problem (Goodson et al., 2013; Novoa & Storer, 2009).The output that we expect to obtain from the MFRSPSD mainly covers four parts: (a) the number of MFs to be used, (b) the routing plan for MFs, specifying the movement of MFs, (c) timetable of the routing plan and (d) assignment plan from facilities to customers for different realizations of demand patterns. Note that the first three outputs are commonly regarded as the first stage decisions as well, indicating the actions to be made before the demand pattern being realized. The fourth output is the recourse actions in regard to both the specified first stage decisions and the specific demand pattern. The objective of the MFSPSD is to minimize the cost of implementing first stage decisions (fixed operation cost), plus the expected cost of recourse activity (assignment cost and penalty cost).

@&#CONCLUSIONS@&#
In this paper, we discuss the MFRSP with stochastic demand by explicitly handling the uncertainty using a discrete number of scenarios. A mixed-integer and two-stage stochastic programming model of the MFSPSD is presented in which the first stage is to make a tactical decision for a fleet of MFs in a prespecified planning horizon. The goal of the model is to minimize the total expected system-wide cost of both two stages. Instead of simply obtaining a feasible solution by applying heuristics or meta-heuristics, we develop an exact algorithm so that we are able to get a solution which we know how good it is in an acceptable computation time. This is significantly important in determining the tactical level plan which cannot be changed too often to ensure a smooth daily operation. Based on the special structure of the MFRSPSD, we design a multicut L-shaped based method with additional problem specific valid inequalities and cuts, called the E-LS method, to obtain the solution with both upper bound and lower bound information. Lower bound inequalities are developed and integrated into the model to tighten the quality of lower bound. Through computational experiments, the algorithm proves to be both effective and efficient in solving the MFRSPSD with 15 customers, 20 time periods and 200 scenarios. If we account for the scale of the problem in the sense of static facility location problem, there are 15×20=300 customers considered in the computational experiments, which are sufficiently large for practical applications. The computational results show the lower bound inequalities are quite effective in tightening the lower bound which leads to significant reduction in both number of iterations and computation time.For future research, we can consider more general cases in which some assumptions made in this paper can be relaxed. For example, the travel time can be treated as time-dependent and uncertain, which is a reasonable assumption for applications in urban areas. Moreover, by relaxing the homogeneity assumption of the MFs, we can treat the capacity of each MF as unknown, and thus make it into a decision variable in the model. Further improvement in both upper bounds and lower bounds can be explored. For the upper bounds, we plan to develop an efficient heuristic method to obtain a good feasible solution; for the lower bound, we will try to generate more problem specific optimality cuts to improve the quality of lower bounds by exploring the special structure of the problem.