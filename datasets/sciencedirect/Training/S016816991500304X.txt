@&#MAIN-TITLE@&#
Towards the applicability of biometric wood log traceability using digital log end images

@&#HIGHLIGHTS@&#
We introduce into biometric log recognition using digital log end images.We present investigations on the robustness to different longitudinal and surface cross-section variations.Results provide insights on the applicability in an industrial environment.We assess the discriminative power of the annual ring pattern, the shape and the fusion of both.Results show a high robustness to log length cutting using different cutting tools.

@&#KEYPHRASES@&#
Biometric log traceability,Roundwood tracking,Log end biometrics,Cross-section analysis,Log end face analysis,

@&#ABSTRACT@&#
Log traceability in the timber based industries is a basic requirement to fulfil economical, social and legal requirements. This work introduces biometric log recognition using digital log end images and explores the robustness to a set of log end cross-section (CS) variations. In order to investigate longitudinal and surface CS variations three tree logs were sliced and captured in different sessions. A texture feature-based technique well known from fingerprint recognition is adopted to compute and match biometric templates of CS images captured from log ends. In the experimental evaluation insights and constraints on the general applicability and robustness of log end biometrics to identify logs in an industrial application are presented. Results for different identification performance scenarios indicate that the matching procedure which is based on annual ring pattern and shape information is very robust to log length cutting using different cutting tools. The findings of this study are a further step towards the development of a biometric log recognition system.

@&#INTRODUCTION@&#
Many efforts had been made in the past in order to investigate illegal logging, its associated causes and how to prevent from illegal logging in future. Besides corruption on different governmental authority levels and land reclamation for mining, plantations or agriculture, illegal logging is known to be one of the main driving forces promoting deforestation (Richards et al., 2003; Smith et al., 2003; Kuemmerle et al., 2009). Deforestation is a phenomenon comprising timber harvesting, timber trade and disposal occurring around the world and affects biodiversity, hydrological cycles and contributes considerably soil erosion.These problems were officially addressed at the UN Conference on Environment and Development (UNICED) held in Rio de Janeiro in 1992 and concluded in a document called Agenda 21. This document provides voluntary commitments on sustainable forest management and development and offers a basis for non-governmental, independent forest certification (United Nations, 1992). According to a report supported by the World Bank in 2003, illegal logging is still considered a major threat to the environment (Dykstra et al., 2003). Efforts in fighting illegal logging on the EU level led to the Forest Law Enforcement Governance and Trade Action Plan (FLEGT) defined in 2003 and the EU Timber Regulation (EUTR) prohibiting the trade of illegally harvested timber and wood products derived therefrom. This regulation, initially proposed by the Commission in 2008, is legally binding on all EU member states, each being responsible for national implementation, and has come into force since March 2013. This regulation claims traceability of timber and timber products throughout the supply chain providing information on operators, traders and, if possible, of retailers (EuropeanParliament, 2010).Traceability of timber and wood products is generally expected to restrict illegal logging and is supposed to benefit companies and consumers (Tzoulis and Andreopoulou, 2013). In fact empirical information on quantities, and links to internationally traded wood are indispensable in order to assess causal relationships for illegal logging and to take effective steps preventing deforestation in future (Kastner et al., 2011). A contemporary managed database in conjunction with log labelling would certainly provide this information and serves as basis to impede illegal logging, fraud and misuse in future.A wide variety of log traceability systems have been applied in order to identify and track logs in the past. Each method so far has shown limitations due to costs, practical implementation or weather conditions. The applications range from punching, coloring or barcoding log ends to more recently developed techniques as DNA fingerprinting and usage of RFID transponders (Tzoulis and Andreopoulou, 2013).Another approach is to track logs using biometric log characteristics. Investigations on the hypothesis that logs are separate entities on the basis of biometric log characteristics were presented in the works of Chiorescu and Grönlund (2003, 2004), Flodin et al. (2007, 2008a,b), which highlight the potential of biometric log recognition. The approaches presented in Chiorescu and Grönlund (2003, 2004) and Flodin et al. (2008a) utilized 2D and 3D scanners to extract geometric wood properties for tracking logs within the sawmill environment. The utilized capturing devices are however, not applicable at forest site. Furthermore, Flodin et al. (2007, 2008b) showed that knot positions as biometric features are suited to enable traceability between logs and the cut boards, reaching a recognition rate of 95%. On account of the fact that timber offers characteristics on log end faces in terms of annual rings, pith position, shape and dimension it is assumed that cross-section images of log ends can be used as biometric characteristic for log identification. Approaches for pith estimation and annual ring measurements in images of rough log ends were presented in Norell and Borgefors (2008), Schraml and Uhl (2013), Marjanen et al. (2008) and Norell (2009), respectively. Images containing a cross-section (CS) of a wood log are denoted as cross-section images (CS-Images) throughout this work.A first work on log biometrics using CS-Images (log end biometrics) was presented in Barrett (2008) as an effort to curb poaching of trees. In the experimental evaluation digital images of tree stumps and the corresponding log ends are utilized, both showing up strong saw kerf patterns. Results show that the combination of log end shape and saw cut pattern information, represented by Zernike polynomials, achieves a high accuracy for log to stump recognition. In Schraml et al. (2014) temporal and longitudinal annual ring pattern variations were investigated based on time-delay captured CS-Images of 35 slices from a single log.By using CS-Images from 150 different logs (Schraml et al., 2015a) showed that fingerprint based and iris-recognition based approaches are suited to achieve 100% identification accuracy. It turned out that, in addition to annual ring pattern information shape information is required to achieve this accuracy. Based on this observation in Schraml et al. (2015b) the discriminative power for a set of geometric log end features was validated.In this study we elaborate the robustness of log end biometrics to practical issues of an industrial application. Different CS-Images of the same log end show up strong variations. For example, CS-Image capturing and weather conditions may lead to strong variations: e.g. varying image quality caused by motion blur or different lighting conditions and snow or dirt which covers parts of the CS. These variations are not considered in this work. Furthermore, industrial log processing causes specific types of CS variations. For this work we focus on longitudinal and surface variations of cross-sections (CSs). Longitudinal variations result from log end cutting and surface variations arise when different cutting tools are utilized for the first cut, in the forest, and the clearance cut, by further processing company (e.g. chain-saw and circular-saw).The experimental evaluation is based on a testset which consists of 99 CS-Slices from three different tree logs. In addition to the 35 CS-Slices from the single log used in Schraml et al. (2014), 64 CS-Slices from further two logs are utilized. By assessing two objectives this work contributes to the ongoing research on log end biometrics.The first objective is to investigate the verification performance with respect to the impact of surface and longitudinal variations on the intraclass variability and the separability between the intra- and interclass score distributions. In this context we also assess whether the CS surface has an impact on the longitudinal variations of each log.The second objective is to investigate the identification performance. Initially, the basic impact of surface and longitudinal variations on the identification performance is assessed. Second, different real world-like identification scenarios are evaluated.First, Section 2 introduces the computation and matching of biometric templates from CS-Images. The experimental setup is presented in Section 2.4 followed by the results in Section 3. Section 4 concludes this work and in Section 5 directions for future work are outlined.By superficially comparing the patterns of human fingerprints to annual ring patterns of wood log ends, one finds a close resemblance. Human fingerprint recognition is well-investigated and there exist mainly three groups of approaches: Minutiae-based, Correlation-based and Feature-based approaches (Maltoni et al., 2009). Apart from the presence of the pith as detectable feature, CS patterns do not exhibit further constant features like minutia’s in fingerprints. Hence, minutiae-based approaches are not qualified for log CSs.Basically, the scheme of a biometric recognition system is set up on five components: Data acquisition, Preprocessing, Feature Extraction, Template Generation and Template Matching. In case of log end biometrics, data acquisition is the capturing of digital CS-Images of log ends. For preprocessing the CS in the CS-Image is separated from the background, aligned and subsequently the CS is enhanced. Due to the ability of feature-based methods to capture information of the fingerprint ridge pattern they can be extended to work with CS patterns. We have adopted the texture feature-based FingerCode approach by Jain et al. (2000, 2001) to extract features from CS-Images. The extracted features of a CS-Image are stored as feature vector into the biometric template which we denote as cross-section code (CS-Code). The CS-Code of a CS-Image is composed by a set of feature vectors which are computed for differently rotated versions of the CS-Image.Finally, template matching is the task of verification or identification of an individual or subject. In case of wood logs, identification is required. For this purpose, the individual/subject must be enrolled in the biometric system. In Fig. 1exemplary enrolment and identification schemes are depicted. Enrolment could be done during the harvesting procedure in the forest. A digital camera mounted on a harvester (e.g. Mattila and Viittanen, 1999) could be utilized to capture one end of each fresh cut log. Subsequently, the first four steps of the biometric system chain are completed and the computed log template (CS-Code) is stored in a database. Additionally, informational meta data can be assigned to each log template: On the one hand the harvester operator can assign visually observed information and the ownership of each log. Furthermore, geometric measurements of the harvester head and the geospatial position of the log origin can be appended. On the other hand automated CS analysis can be performed to estimate properties related to the quality of each log, e.g. annual ring counting to estimate the strength or detection of quality related wood properties like reaction wood.Now identification of each log can be performed at each stage of the log processing chain. CS-Images for identification in the sawmill could be captured at the sorting station, at the sawmill yard or at any conveyor belt equipped with a capturing device. Subsequently, the CS-Image is processed by the biometric system and a log template is computed which is matched to all log templates in the database. If the matching score (MS) exceeds a certain system threshold the best match specifies the identity of the log. Furthermore, additional meta data can be retrieved or appended from/to the log record in the database. Templates of logs which were further processed and are no longer required should be removed from the database. May the log template is passed to another biometric system which enables board tracking (biometric approach: Pahlberg et al., 2015) and connects each board to the log template from which it descends. However, for chain of custody certification specific log template information has to be linked or passed through to the final product.In the next three sections a detailed introduction on preprocessing (Section 2.1), CS-Code computation (Section 2.2) and three matching procedures (Section 2.3) between two CS-Codes is given. Finally, in the last Section 2.4 basics for the experimental evaluation are introduced.Due to the cutting pattern annual ring enhancement is a crucial task for any subsequent feature extraction procedure. As opposed to human fingerprints, the frequency of the annual ring pattern is strongly varying. Similar as in our previous works (Schraml et al., 2014, 2015a) enhancement is based on the fingerprint enhancement approach presented by Hong et al. (1998). In Schraml et al. (2015a) we showed that a slight variation of the procedure utilized in Schraml et al. (2014) further improves the biometric system performance and is thus also used in this work.Preliminary to enhancement the CS in a CS-Image has to be registered. For registration, the CS border and pith position have to be determined (e.g. Schraml and Uhl, 2014, 2013; Norell and Borgefors, 2008). Subsequently, the CS-Image is rotated around the pith position, cropped to the CS bounding box and finally scaled to 512pixels in width (see Fig. 2). Rotation can be performed to generate rotated versions of each CS-Image or to align the CS to a unique position (e.g. according to the center of mass).For enhancement three consecutive stages are performed: Local orientation estimation, local frequency estimation and local adaptive filtering. First, the CS is subdivided in half-overlapping blocks (e.g. 32×32pixels). Half-overlapping blocks are used to reduce boundary effects caused by local filtering. For each block principal component analysis of the local Fourier spectrum is performed to determine its local orientation (see Schraml and Uhl, 2013). Commonly, CSs are disturbed, due to cutting, which leads to faulty orientation estimates. For this purpose the local orientation is compared to the direction given by the block-centre to pith position vector (block-pith vector). If the angular distance between the local orientation estimate and the block-pith vector orientation exceeds a certain threshold (t) the local orientation estimate is considered being wrong. For each block t is defined byt=λ∗log(pith distance), whereλis an arbitrary value and the pith distance is the length of the block-pith vector. Thus, the threshold increases with an increasing pith distance which takes into account that annual rings close to pith are more circular. Local orientation estimates which exceed this threshold are replaced by the block-pith vector orientation.Next, for each block and its local orientation the dominant frequency is determined. For this purpose, the local Fourier spectrum of each block is subdivided into sub-bands and sectors. For each sector and each particular sub-band the integral of the contained magnitudes is computed. The sector sub-band which shows the maximum sum of magnitudes represents the dominating frequency. If the local orientation which corresponds to this sector sub-band is not the same as the previously determined block orientation it is neglected. In this case the local frequency is interpolated using a Gaussian.Finally, in the filtering stage the Fourier spectrum of each block is filtered with a Log-Gabor (introduced by Knutsson and Granlund, 1983) which is tuned to the local orientation and frequency of the corresponding block. Similar as in Schraml et al. (2014, 2015a) a bandwidth of three times the variance of the Fourier spectrum and a spread value of blocksize/4 are utilized. The filtered Fourier spectra are inverse Fourier transformed and the results are subsequently used as new block values. An exemplary result of the registration & enhancement procedure is depicted in Fig. 2.The CS-Code computation is based on the FingerCode approach proposed in Jain et al. (2000, 2001). This technique utilizes a Gabor-based descriptor which extracts local ridge orientations of a fingerprint. Because of the constant ridge frequencies in human fingerprints a single Gabor filter and its rotated versions are sufficient. The frequencies of annual ring patterns are strongly varying and thus different Gabor filters are required to capture additional information from the annual ring frequencies in different orientations. For a CS-Image width of 512pixels six different Gabor filters are suggested. For each Gabor filter eight rotated versions are created. Consequently, the Gabor filterbank consists of 48 filters:G(λ,θ,σ,γ)=G(λ,σ)=((1.5,1),(2.5,2),(3.5,3),(4.5,3),(5.5,3),(6.5,3)),θ={0,22.5,…,135,157.5},γ=0.7Feature extraction (Fig. 2) is performed in three stages. In the first stage the enhanced CS-Image is filtered with each filter in the filterbank. Each filtered image is subdivided into blocks (8×8pixels). For all blocks of each filtered image the gray value standard deviations are computed and stored into a matrix, which is denoted as Standard Deviation (StDev) map. Altogether 48 StDev maps are computed and are stored as one-dimensional feature vector (θ) in the CS-Code. Blocks which are not within the CS border are assigned a marker value which is relevant for CS-Code matching. Furthermore, two CS-Images of the same log end or CS-Slice can be rotated differently. Rotational differences are compensated by computing feature vectors for rotated versions of the input CS-Image in the expected misalignment range. Although the misalignment range in this work is much smaller, feature vectors for 180 rotations in two degree steps are computed and used for matching. Hence, it can be evaluated if there exist rotated versions of two CS-Slice images from different tree logs which are incidentally similar to each other. All feature vectors computed for different rotations (θ0,θ2,…,θ356,θ358) compose the CS-Code of a CS-Image (see Template Generation in Fig. 2).In contrast to fingerprints where the shapes are commonly not utilized, the CS shape is obviously a biometric feature itself. By investigating three different matching procedures the discriminative power of the annual ring pattern, the shape and a fusion of both is evaluated.The first procedure which just considers annual ring pattern information is denoted as annual ring pattern MS (MSAP) and is defined as the minimum MS between the feature vectors of both CS-Codes:(1)MSAP(CS-Code1,CS-Code2)=minMS(θi,θj)whereθi∈CS-Code1(θ0,…,θ358),θj∈CS-Code2(θ0,…,θ358)Due to interpolation in the registration procedure (rotation and scaling) the best MS is achieved when comparing all feature vectors of both CS-Codes. The MS between two feature vectors of two CS-Codes is computed by:(2)MS(θi,θj)=1M∑k=0nD(θi(k),θj(k))whereθi,θjare two feature vectors of the CS-Codes which are compared, k specifies the index of the feature value in both vectors, n is the max. number of feature values and M is a normalization factor. The utilized distance function is given by:(3)D=|θi(k)-θj(k)|ifk∈MCSi∩MCSj0otherwiseAs noted in Section 2.2, background feature values are specified by a certain marker. Hence, we defineMCSiandMCSjas the corresponding masks of the feature vectors which allow to differentiate between background and CS. Just feature vector value pairs which are in the intersection of both CSs are utilized for computingMSAPand the score is normalized by the amount of the considered feature value pairs:M=|MCS1∩MCS2|.The second procedure (MSF) is a measure describing the similarity of the shapes of two CSs.MSFis defined as the minimum False Negative Rate (F) between the masks of the feature vectors of both CS-Codes:(4)MSF(CS-Code1,CS-Code2)=minF(MCSi,MCSj)The False Negative Rate (F) between two different masks (MCSi,MCSj) is computed by:(5)F=MCSiΔMCSjmin(|MCSi|,|MCSj|)Finally, the last procedure (MSAP,F) is based on score level fusion (Jain et al., 2011, p. 225) ofMSAPandMSF. For score level fusion both scores are combined using different scaling factors (see Eq. (6)). The scaling factors (σAP,σMSF) are determined from their score distributions to ensure that both contribute equally to the combined MS.(6)MSAP,F=MSAP·σAP+MSF·σFThe experimental evaluation is based on cross-section slices (CS-Slices) from three different European spruce logs (Log 1 – L1, Log 2 – L2, Log 3 – L3). For L1 and L2, a section of 40 centimetres was cut into 16 CS-Slices. The CS-Slices were cut with a bandsaw and the thickness of each CS-Slice is approximately 2.5 centimetres. The sections of L1 and L2 were showing a diameter of around 230mm and 290mm respectively.Subsequently, just one surface of each CS-Slice was captured two times (Nikon D90). The first CS-Image was taken from the fresh cut CS-Slices. For the second CS-Image, the surfaces of the CS-Slices were polished using a sandpaper (P 150). In the first row of Fig. 4the two captured CS-Images of one CS-Slice from L1 and L2 are depicted.To increase the number of interclass scores, a third log (L3) with a total of 35 CS-Slices with 2cm spacing is utilized. Each CS-Slice was captured with four different time delays (Fig. 5). For a detailed dataset description we refer to Schraml et al. (2014) (see Table 1). For all CS-Images in the testset the pith position and the border of the were determined manually and are utilized for CS registration and defining the CS-Masks in the experiments. The CS-Images in Fig. 4 illustrate the preprocessing steps for the CS-Images of the CS-Slices L1 #2 and L2 #10. In the first row the original images are depicted. The second and third row show the registered and enhanced versions of the CS-Images, respectively. The four time-delay captured CS-Images of CS-Slice L3 #10 are depicted in Fig. 5.Before presenting the results, relevant basics for the experimental evaluation are introduced. First, a short introduction on biometric performance evaluation is presented. Subsequently, three types of wood log CS variations are defined and the construction of the intra- and interclass score distributions (SDs) used in the evaluation is described.Biometric performance evaluation.Commonly, a biometric system operates either in verification or identification mode and the term recognition is used universally.For verification the system compares a query template to just one template of the database (1:1 comparison). This template is specified by the claimed identity of the query template. The system accepts or rejects the claimed identity of the individual/object. For identification a query template is compared to all templates in the database (1:N comparison) and if the best match exceeds a certain system threshold it specifies the identity of the query template.Generally, a biometric system is assessed based on the errors it produces (Maltoni et al., 2009). Two major verification system errors (False Match Rate (FMR) and False Non Match Rate (FNMR)) result from the calculation of the intra- and interclass SDs which are commonly denoted as genuine and impostor SD, respectively. The intraclass SD contains all MSs computed between a set of templates of the same individual. The interclass SD contains the MSs between templates of different individuals. Consequently, the FMR includes all MSs between different individuals which are incorrectly accepted by the system. On the other hand the FNMR gives the proportion of MSs which were rejected although the score is computed between templates of the same individual. For verification performance evaluation the equal error rate (EER) is a general benchmark. The EER is defined as the error where FMR and FNMR are equal.The identification performance is evaluated by matching a set of probe templates to all templates enrolled in the database (Jain et al., 2007). We refer to closed-set identification where it is assumed that all individuals/objects of the probe templates are enrolled in the system. The MSs between each probe template and all database templates are ordered according to the MS. The ordered MSs of each probe template are used to compute the probability that the correct template is ranked within the top k-ranked MSs. The probabilities for each rank are illustrated in a curve which is denoted as Cumulative Match Characteristic (CMC).Wood log cross-section variability.Two basic requirements for biometric recognition are uniqueness and permanence of the utilized biometric characteristic. Uniqueness expresses that the biometric characteristic and the computed templates of different individuals are strongly varying and permanence is the requirement that they do not change over time. Related to those requirements there are two basic issues which a biometric system must handle: Intraclass variability and Interclass similarity which contribute to the F NMR and FMR, respectively. Interclass similarity is the problem that different individuals may show up similar biometric characteristics. Intraclass variability is an issue due to internal and external caused variations between a set of templates of the same individual. External variations occur due to irregularities in the template generation procedure, e.g. different sensors or capturing environments. Furthermore, the visual appearance of the biometric characteristic is affected or modificated by external influences, e.g. the saw cut pattern. Internal variations are eventually caused by an intrinsic modification or change of the biometric characteristic itself, e.g. temporal variations caused by the ageing process. In case of human biometrics, it is attempted to overcome external and internal changes/modifications by updating the stored templates in the database.In case of wood logs, several external and internal caused variations/modifications of CSs of a single log have an impact on the intraclass variability. So far, three different variation types emerged from our research:•Temporal variations correspond to the issue of ageing in human biometrics. In case of wood log ends, the visual appearance of a CS changes rapidly. Due to the rapidly changing moisture content at the log end faces and the sun exposure the CS shows up discolourations or deformations (e.g. cracks). In Fig. 5 four time-delay captured CS-Images of a CS-Slice from L3 illustrate temporal variations.Longitudinal variations are caused by the changing CS pattern along the longitudinal axis of a single tree log. Consequently, they address the issue of length-cutting a log in the sawmill. Cut-off lines are utilized in many sawmills for different reasons. For example, clean log end faces (no stones and sand) are beneficial to protect the cutting blades and to aid the log quality assessment. On the other hand, log end cutting leads to a loss of material and is not tolerable in certain fields of the sawmill industry. An illustration for longitudinal variations of the CSs from a single log is presented in Fig. 6.Surface variations result from differently finished or cut surfaces of a particular CS. In this work surface variations between saw cut CS surfaces and the sanded CS surface counterparts are assessed (see Fig. 4). Another scenario which is closely related to industrial biometric log recognition involves CS surface variations caused by different cutting tools (e.g. chain-, band- or circular saw). Probably the first cut in the forest and the cleansing cut in the sawmill are performed with different devices. This results in a mixture of longitudinal and surface variations.For the testset CS-Images of the CS-Slices from L1, L2 and L3 we tried to avoid external variations which are caused by the capturing procedure.Intra-/interclass score distributions (SDs).For the evaluation, the MSs between all CS-Images of L1, L2 and L3 are computed using the proposed matching procedures. The intra-/interclass SDs for a single matching procedure are constructed by grouping the MSs into the respective SD. Hence, the interclass SD contains all MSs computed between the CS-Images of L1, L2 and L3. The intraclass SD is built up on the MSs between CS-Images of the same log and is further subdivided into two SD groups corresponding to the variation type (see Table 2). Temporal variations which are represented by the MSs between the four time-delay captured CS-Images of each CS-Slice from L3 were investigated in Schraml et al. (2014) and are not treated in this work. The longitudinal SD shows the similarity between CS-Images which were captured at different longitudinal positions of the same log. In this work we consider the longitudinal variations of L1 and L2. For this purpose, the longitudinal SD is built up on the MSs between the CS-Images of rough or sanded CS-Slices from L1 and L2. The surface SD includes all MSs between the saw cut CS surfaces and the sanded CS surface counterparts of each CS-Slice from L1 and L2.

@&#CONCLUSIONS@&#
The findings of this study show that log end biometrics are promising to discriminate between different tree logs in an industrial application. It can be concluded that the robustness of the biometric system to CS variations depends to a high degree on the template computation approach and the matching procedure.In comparing the results for three different matching procedures it is obvious that biometric feature fusion increases the robustness significantly. In regard to the verification performance, a combination of annual ring pattern and shape features increases the robustness to longitudinal CS variations. Furthermore, the analysis of the intraclass SD groups illustrates that CS surface variations are not crucial for the verification performance.Based on the identification performance experiments we conclude that biometric log recognition is qualified to overcome the issue of cutting log ends in the sawmill. Results show a successful identification within cutting off slices up to∼5 centimetres in thickness, even if the second cut in the sawmill is performed with another cutting tool.The analysis of the longitudinal CS variations for different SDGs shows that knots are disturbing factors. This is caused by the fact that the current approach is not dealing with knots on CSs. Surprisingly, the results indicate that knots do not introduce any propagative effects to the annual ring pattern and the CS shape. Thus, future work should investigate the similarity between non-knotty parts of knotty CSs and their neighboured knot free CSs.